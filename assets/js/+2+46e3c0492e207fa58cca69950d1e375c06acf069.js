var app,wolConstants=(!function(e,l,r){function t(e,t,n){var i,a=n[0],o=e===s;return n[0]=function(){a&&(a.apply(l,arguments),o||(delete t[i],a=null))},i=e.apply(l,n),t[i]={args:n,created:Date.now(),cb:a,id:i},i}function n(e,t,n,i){var a,o,r=n[i];r&&(a=e===s,t(r.id),a||(t=r.args[1],o=Date.now()-r.created,r.args[1]=t=(t-=o=o<0?0:o)<0?0:t),r.args[0]=function(){r.cb&&(r.cb.apply(l,arguments),a||(delete n[i],r.cb=null))},r.created=Date.now(),r.id=e.apply(l,r.args))}var i,a,o,s,u,c;r.getElementsByClassName||(r.getElementsByClassName=function(e){var t,n,i,a=r.getElementsByTagName("*"),o=[];for(t=0,n=a.length;t<n;t++)!function(e,t){if(e)for(var n=e.split(" "),i=0;i<n.length;i++)if(n[i]===t)return 1}((i=a[t]).className,e)||o.push(i);return o}),Modernizr.localstorage||(l.localStorage=function(){var n={};return{setItem:function(e,t){n[e]=t},getItem:function(e){return n[e]},removeItem:function(e){delete n[e]},clear:function(){n={}}}}),Array.prototype.indexOf||(Array.prototype.indexOf=e.inArray),navigator.userAgent.match(/(iPad|iPhone|iPod);.*?6_\d/i)&&(i={},a={},o=l.setTimeout,s=l.setInterval,u=l.clearTimeout,c=l.clearInterval,l.setTimeout=function(){return t(o,i,arguments)},l.setInterval=function(){return t(s,a,arguments)},l.clearTimeout=function(e){var t=i[e];t&&(delete i[e],u(t.id))},l.clearInterval=function(e){var t=a[e];t&&(delete a[e],c(t.id))},l.addEventListener("scroll",function(){for(var e in i)n(o,u,i,e);for(e in a)n(s,c,a,e)}))}(jQuery,window,document,app=app||{}),"function"!=typeof String.prototype.startsWith&&(String.prototype.startsWith=function(e){return null!==this&&null!==e&&this.slice(0,e.length)===e}),"function"!=typeof String.prototype.endsWith&&(String.prototype.endsWith=function(e){return null!==this&&null!==e&&this.slice(-e.length)===e}),"function"!=typeof String.prototype.replaceToken&&(String.prototype.replaceToken=function(e,t){return null!==this&&null!==e?(e=new RegExp("{"+e+"}","g"),this.replace(e,t)):this}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(e){if(null==this)throw new TypeError('"this" is null or not defined');var t=Object(this),n=t.length>>>0;if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var i=arguments[1],a=0;a<n;){var o=t[a];if(e.call(i,o,a,t))return o;a++}},configurable:!0,writable:!0}),"function"!=typeof jQuery.cachedScript&&(jQuery.cachedScript=function(e,t){"use strict";return t=$.extend(t||{},{dataType:"script",cache:!0,url:e}),jQuery.ajax(t)}),Array.prototype.findIndex||Object.defineProperty(Array.prototype,"findIndex",{value:function(e){if(null==this)throw new TypeError('"this" is null or not defined');var t=Object(this),n=t.length>>>0;if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var i=arguments[1],a=0;a<n;){var o=t[a];if(e.call(i,o,a,t))return a;a++}return-1}}),Math.trunc||(Math.trunc=function(e){return(e=+e)-e%1||(isFinite(e)&&0!==e?e<0?-0:0:e)}),$.settle||($.settle=function(e){"use strict";e=Array.isArray(e)?e:Array.prototype.slice.call(arguments);return $.when.apply($,e.map(function(e){return(e=e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof e.then?e:$.Deferred().resolve(e)).then(function(e){return e},function(e){return $.Deferred().resolve(new Error(e.status+" "+e.statusText+"\n"+e.responseText))})})).then(function(){return Array.prototype.slice.call(arguments)})}),{TOKENS_BibleBookName:"BibleBookName",TOKENS_BibleBookNameAndChapter:"BibleBookNameAndChapter",TOKENS_BibleChapter:"BibleChapter",TOKENS_StartingBibleChapter:"StartingBibleChapter",TOKENS_EndingBibleChapter:"EndingBibleChapter",TOKENS_BibleVerse:"BibleVerse",TOKENS_StartingBibleVerse:"StartingBibleVerse",TOKENS_EndingBibleVerse:"EndingBibleVerse",TOKENS_DateTime:"DateTime",TOKENS_LanguageCount:"LanguageCount",TOKENS_LanguageName:"LanguageName",TOKENS_LibraryName:"LibraryName",TOKENS_AlternateSuggestion:"AlternateSuggestion",TOKENS_LanguageLink:"LanguageLink",TOKENS_Link:"Link",TOKENS_URL:"URL",TOKENS_TotalLanguages:"TotalLanguages",TOKENS_PublicationSymbol:"PublicationSymbol",TOKENS_PageNumber:"PageNumber",TOKENS_StartingPageNumber:"StartingPageNumber",TOKENS_EndingPageNumber:"EndingPageNumber",TOKENS_ResultsCount:"ResultsCount",TOKENS_ResultsPageCount:"ResultsPageCount",TOKENS_ResultsPageNumber:"ResultsPageNumber",TOKENS_SearchCategory:"SearchCategory",TOKENS_Proximity:"Proximity",TOKENS_DocumentAbbreviation:"DocumentAbbreviation",QUERY_Bible:"bible",QUERY_BibleChapter:"bible-chapter",QUERY_BibleVerse:"bible-verse",QUERY_EndBibleChapter:"end-bible-chapter",QUERY_EndBibleVerse:"end-bible-verse",QUERY_Paragraph:"paragraph",QUERY_EndParagraph:"end-paragraph",QUERY_Par:"par",QUERY_Date:"date",QUERY_SEARCH_TRIGGER_FieldSubmit:"a",QUERY_SEARCH_TRIGGER_ButtonSubmit:"b",QUERY_SEARCH_TRIGGER_NavWithLink:"c",QUERY_SEARCH_TRIGGER_NavWithoutLink:"d",QUERY_SEARCH_TRIGGER_ChangeFilter:"e",QUERY_SEARCH_TRIGGER_ChangeSort:"f",QUERY_SEARCH_TRIGGER_PaginationLink:"g",SHARETYPE_Bible:"bible-chapter",SHARETYPE_Document:"document",SHARETYPE_DailyText:"daily-text"}),wolLib,wolLib,app,BoundaryWidthLarge=((()=>{var n={211:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ClientEvents:()=>r,CookieDataTypes:()=>l,DefaultCookieSettingsStorageProvider:()=>u,LegalNoticesClient:()=>s});i=[function(e,t,n){var i;n.d(t,"a",function(){return i}),(n=i=i||{}).STRICTLY_NECESSARY="STRICTLY_NECESSARY",n.FUNCTIONAL="FUNCTIONAL",n.DIAGNOSTIC="DIAGNOSTIC",n.USAGE="USAGE"},function(e,t,n){function i(e){var t=typeof e;return null!==e&&("object"==t||"function"==t)}n.d(t,"a",function(){return i})},function(e,t,n){var i=n(18),a=(n.o(i,"ClientEvents")&&n.d(t,"ClientEvents",function(){return i.ClientEvents}),n.o(i,"LegalNoticesClient")&&n.d(t,"LegalNoticesClient",function(){return i.LegalNoticesClient}),n(10)),o=(n.d(t,"ClientEvents",function(){return a.a}),n(0)),r=(n.d(t,"CookieDataTypes",function(){return o.a}),n(40)),l=(n.d(t,"LegalNoticesClient",function(){return r.a}),n(16));n.d(t,"DefaultCookieSettingsStorageProvider",function(){return l.a})},function(e,t,n){function i(e){return Array.isArray(e)}n.d(t,"a",function(){return i})},function(e,t,n){n(19);var i=n(20),a=(n.o(i,"isArray")&&n.d(t,"isArray",function(){return i.isArray}),n.o(i,"isEnumValue")&&n.d(t,"isEnumValue",function(){return i.isEnumValue}),n.o(i,"isString")&&n.d(t,"isString",function(){return i.isString}),n.o(i,"isUndefined")&&n.d(t,"isUndefined",function(){return i.isUndefined}),n.o(i,"makeTemplate")&&n.d(t,"makeTemplate",function(){return i.makeTemplate}),n(21)),o=(n.o(a,"isArray")&&n.d(t,"isArray",function(){return a.isArray}),n.o(a,"isEnumValue")&&n.d(t,"isEnumValue",function(){return a.isEnumValue}),n.o(a,"isString")&&n.d(t,"isString",function(){return a.isString}),n.o(a,"isUndefined")&&n.d(t,"isUndefined",function(){return a.isUndefined}),n.o(a,"makeTemplate")&&n.d(t,"makeTemplate",function(){return a.makeTemplate}),n(22)),r=(n.o(o,"isArray")&&n.d(t,"isArray",function(){return o.isArray}),n.o(o,"isEnumValue")&&n.d(t,"isEnumValue",function(){return o.isEnumValue}),n.o(o,"isString")&&n.d(t,"isString",function(){return o.isString}),n.o(o,"isUndefined")&&n.d(t,"isUndefined",function(){return o.isUndefined}),n.o(o,"makeTemplate")&&n.d(t,"makeTemplate",function(){return o.makeTemplate}),n(23)),l=(n.o(r,"isArray")&&n.d(t,"isArray",function(){return r.isArray}),n.o(r,"isEnumValue")&&n.d(t,"isEnumValue",function(){return r.isEnumValue}),n.o(r,"isString")&&n.d(t,"isString",function(){return r.isString}),n.o(r,"isUndefined")&&n.d(t,"isUndefined",function(){return r.isUndefined}),n.o(r,"makeTemplate")&&n.d(t,"makeTemplate",function(){return r.makeTemplate}),n(24)),s=(n.o(l,"isArray")&&n.d(t,"isArray",function(){return l.isArray}),n.o(l,"isEnumValue")&&n.d(t,"isEnumValue",function(){return l.isEnumValue}),n.o(l,"isString")&&n.d(t,"isString",function(){return l.isString}),n.o(l,"isUndefined")&&n.d(t,"isUndefined",function(){return l.isUndefined}),n.o(l,"makeTemplate")&&n.d(t,"makeTemplate",function(){return l.makeTemplate}),n(25),n(26),n(11),n(27)),u=(n.o(s,"isArray")&&n.d(t,"isArray",function(){return s.isArray}),n.o(s,"isEnumValue")&&n.d(t,"isEnumValue",function(){return s.isEnumValue}),n.o(s,"isString")&&n.d(t,"isString",function(){return s.isString}),n.o(s,"isUndefined")&&n.d(t,"isUndefined",function(){return s.isUndefined}),n.o(s,"makeTemplate")&&n.d(t,"makeTemplate",function(){return s.makeTemplate}),n(28),n(5),n(3)),c=(n.d(t,"isArray",function(){return u.a}),n(9),n(29),n(30)),d=(n.d(t,"isEnumValue",function(){return c.a}),n(31),n(32),n(1),n(12),n(33),n(6)),p=(n.d(t,"isString",function(){return d.a}),n(8)),g=(n.d(t,"isUndefined",function(){return p.a}),n(13),n(34),n(35),n(36),n(37),n(38),n(14),n(15),n(39));n.d(t,"makeTemplate",function(){return g.a})},function(e,t,n){n.d(t,"a",function(){return a});var i=n(7);function a(e){return"[object Arguments]"===Object(i.a)(e)}},function(e,t,n){n.d(t,"a",function(){return o});var i=n(1),a=n(7);function o(e){return"string"==typeof e||Object(i.a)(e)&&"[object String]"===Object(a.a)(e)}},function(e,t,n){function i(e){return Object.prototype.toString.call(e)}n.d(t,"a",function(){return i})},function(e,t,n){function i(e){return void 0===e}n.d(t,"a",function(){return i})},function(e,t,n){n.d(t,"a",function(){return o});var i=n(3),a=n(6);function o(e){if(!Object(i.a)(e))return!1;for(var t of e)if(!Object(a.a)(t))return!1;return!0}},function(e,t,n){var i;n.d(t,"a",function(){return i}),(n=i=i||{}).FIRST_RUN_POPUP_SHOWN="first-run-popup-shown",n.FIRST_RUN_POPUP_CLOSED="first-run-popup-closed",n.SETTINGS_SHOWN="settings-shown",n.SETTINGS_CLOSED="settings-closed",n.SETTINGS_CHANGED="settings-changed",n.ACCEPT_ALL="accept-all",n.DECLINE_ALL="decline-all",n.ERROR="error"},function(e,t,n){n.d(t,"a",function(){return r});var i=n(1),a=n(3),o=n(5);function r(e){return Object(i.a)(e)&&!Object(a.a)(e)&&!Object(o.a)(e)}},function(e,t,n){n.d(t,"a",function(){return o});var i=n(1),a=n(7);function o(e){return Object(i.a)(e)&&"[object Promise]"===Object(a.a)(e)}},function(e,t,n){function i(e){return null===e}n.d(t,"a",function(){return i})},function(e,t,n){n.d(t,"a",function(){return a});var i=n(7),s=n(1);function u(e){var t=typeof e;return"symbol"==t||"object"==t&&null!=e&&"[object Symbol]"===Object(i.a)(e)}const c=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,d=/^\w*$/,p=".".charCodeAt(0),g=/\\(\\)?/g,h=RegExp("[^.[\\]]+|\\[(?:([^\"'][^[]*)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))","g");function a(e,t,n){if(!Object(s.a)(e))return n;var i,a=function(e,t){if(Array.isArray(e))return e;if(function(e,t){var n;if(!Array.isArray(e))return n=typeof e,"number"==n||"boolean"==n||null==e||u(e)||d.test(e)||!c.test(e)||null!=t&&e in Object(t)}(e,t))return[e];{const o=[];return(t=e).charCodeAt(0)===p&&o.push(""),t.replace(h,(e,t,n,i)=>{let a=e;return n?a=i.replace(g,"$1"):t&&(a=t),o.push(a),""}),o}}(t,e),o=a.length;let r=0,l=e;for(;null!=l&&r<o;)l=l["string"==typeof(i=a[r])||u(i)?i:Object.is(i,-0)?"-0":""+i],r+=1;t=0<r&&r===o?l:void 0;return void 0===t?n:t}},function(e,t,n){n.d(t,"a",function(){return s});var i=n(6);const a={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},o="(?:"+Object.keys(a).join("|")+")",r=new RegExp(o),l=new RegExp(o,"g");function s(e){return Object(i.a)(e)&&r.test(e)?e.replace(l,e=>a[e]):e}},function(e,t,n){n.d(t,"a",function(){return l});var t=n(17),i=n.n(t),a=n(0);function o(e){return"cookieConsent-"+e}function r(e){e=i.a.get(o(e));return"true"===e||"false"!==e&&void 0}class l{async get(){return{STRICTLY_NECESSARY:!0,FUNCTIONAL:r(a.a.FUNCTIONAL),DIAGNOSTIC:r(a.a.DIAGNOSTIC),USAGE:r(a.a.USAGE)}}async set(e){for(const n of Object.keys(e)){var t=e[n];void 0!==t&&(n===a.a.STRICTLY_NECESSARY?i.a.set(o(n),"true",{expires:365}):i.a.set(o(n),""+t,{expires:365}))}}}},function(e,t,n){function r(e){for(var t=1;t<arguments.length;t++){var n,i=arguments[t];for(n in i)e[n]=i[n]}return e}e.exports=function t(l,o){function n(e,t,n){if("undefined"!=typeof document){"number"==typeof(n=r({},o,n)).expires&&(n.expires=new Date(Date.now()+864e5*n.expires)),n.expires&&(n.expires=n.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var i,a="";for(i in n)n[i]&&(a+="; "+i,!0!==n[i]&&(a+="="+n[i].split(";")[0]));return document.cookie=e+"="+l.write(t,e)+a}}return Object.create({set:n,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var t=document.cookie?document.cookie.split("; "):[],n={},i=0;i<t.length;i++){var a=t[i].split("="),o=a.slice(1).join("=");try{var r=decodeURIComponent(a[0]);if(n[r]=l.read(o,r),e===r)break}catch(e){}}return e?n[e]:n}},remove:function(e,t){n(e,"",r({},t,{expires:-1}))},withAttributes:function(e){return t(this.converter,r({},this.attributes,e))},withConverter:function(e){return t(r({},this.converter,e),this.attributes)}},{attributes:{value:Object.freeze(o)},converter:{value:Object.freeze(l)}})}({read:function(e){return(e='"'===e[0]?e.slice(1,-1):e).replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"})},function(e,t){},function(e,t,n){n(1),n(3),n(5),n(9),n(6)},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){n(5),n(9),n(1),n(3)},function(e,t,n){n(1),n(3),n(5),n(6)},function(e,t){},function(e,t,n){n(8)},function(e,t,n){n(3),n(6),n(5),n(8)},function(e,t,n){function i(t,n){return Object.keys(t).map(e=>t[e]).some(e=>e===n)}n.d(t,"a",function(){return i})},function(e,t,n){n(11)},function(e,t,n){n(7),n(1)},function(e,t,n){n(12),n(1)},function(e,t,n){n(13),n(8)},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){n.d(t,"a",function(){return a});var i=n(14),l=n(15);const s={escape:/<%-([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g};function u(e,t){return Object(i.a)(t,(e||"").trim(),"")}function a(a,e){let t,n,o=[],r=0,i=Object.assign({},s,e||{});return t=[i.escape.source,i.interpolate.source],n=new RegExp(t.join("|")+"|$","g"),a.replace(n,(e,t,n,i)=>(o.push(a.slice(r,i)),r=i+e.length,t?o.push(e=>Object(l.a)(u(t,e))):n&&o.push(u.bind(null,n)),"")),n=>o.reduce((e,t)=>e+("function"==typeof t?""+t(n):t),"")}},function(M,e,t){t.d(e,"a",function(){return ne});var a=t(4),o=t(0);const F={firstRunPopupChromeTemplate:'<div class="<%- cssClasses %>">\n   <%= content %>\n</div>\n',firstRunPopupContentTemplate:'<div class="<%- cssClasses %> lnc-languageBoundary"\n   lang="<%- languageSummary.locale %>"\n   xml:lang="<%- languageSummary.locale %>"\n   dir="<%- languageSummary.direction %>">\n\n   <h3><%= translations.privacyBannerHeading %></h3>\n   <p><%= translations.privacyBannerMessage %></p>\n\n   <div class="lnc-actionButtons">\n      <button class="lnc-button lnc-button--primary lnc-acceptCookiesButton"><%= translations.acceptCookiesButton %></button>\n      <button class="lnc-button lnc-button--primary lnc-declineCookiesButton"><%= translations.declineCookiesButton %></button>\n      <button class="lnc-button lnc-button--secondary lnc-customizeCookiesButton"><%= translations.customizeCookiesButton %></button>\n   </div>\n</div>\n',settingsContentTemplate:'<div class="<%- cssClasses %> lnc-languageBoundary"\n   lang="<%- languageSummary.locale %>"\n   xml:lang="<%- languageSummary.locale %>"\n   dir="<%- languageSummary.direction %>">\n\n   <p><%= translations.privacySettingsMessage %></p>\n\n   <div class="lnc-actionButtons">\n      <button class="lnc-button lnc-button--primary lnc-allowAllButton"><%= translations.allowAllCookiesButton %></button>\n      <button class="lnc-button lnc-button--primary lnc-declineAllButton"><%= translations.declineAllCookiesButton %></button>\n   </div>\n\n   <p><%= translations.privacySettingsSecondaryMessage %></p>\n\n   <h2 class="lnc-sectionSeparator"><%= translations.customizePrivacySettingsHeading %></h2>\n\n   <div class="lnc-setting lnc-checkbox">\n      <input type="checkbox" id="lnc-setting--strictlyNecessary" name="lnc-setting--strictlyNecessary" data-cookie-type="STRICTLY_NECESSARY" disabled />\n      <label class="lnc-setting-label" for="lnc-setting--strictlyNecessary"><%= translations.strictlyNecessaryCookiesLabel %></label>\n   </div>\n   <p><%= translations.strictlyNecessaryCookiesMessage %></p>\n\n   <div class="lnc-setting lnc-checkbox">\n      <input type="checkbox" id="lnc-setting--functional" name="lnc-setting--functional" data-cookie-type="FUNCTIONAL" />\n      <label class="lnc-setting-label" for="lnc-setting--functional"><%= translations.functionalCookiesLabel %></label>\n   </div>\n   <p><%= translations.functionalCookiesMessage %></p>\n\n   <div class="lnc-setting lnc-checkbox">\n      <input type="checkbox" id="lnc-setting--diagnostic" name="lnc-setting--diagnostic" data-cookie-type="DIAGNOSTIC" />\n      <label class="lnc-setting-label" for="lnc-setting--diagnostic"><%= translations.diagnosticCookiesLabel %></label>\n   </div>\n   <p><%= translations.diagnosticCookiesMessage %></p>\n\n   <div class="lnc-setting lnc-checkbox">\n      <input type="checkbox" id="lnc-setting--usage" name="lnc-setting--usage" data-cookie-type="USAGE" />\n      <label class="lnc-setting-label" for="lnc-setting--usage"><%= translations.usageCookiesLabel %></label>\n   </div>\n   <p><%= translations.usageCookiesMessage %></p>\n\n   <div class="lnc-actionButtons">\n      <button class="lnc-button lnc-button--primary lnc-confirmButton"><%= translations.confirmCookieSettingsButton %></button>\n   </div>\n</div>\n',modalTemplate:'<div class="lnc-modal-overlay">\n   <div class="lnc-modal lnc-languageBoundary"\n      role="dialog"\n      aria-role="dialog"\n      aria-modal="true"\n      aria-labelledby="lnc-modal-header-heading">\n      <div class="lnc-modal-header">\n         <h1 tabindex="0" id="lnc-modal-header-heading" class="lnc-modal-header-heading"></h1>\n         <button class="lnc-modal-header-closeButton">\n            <span class="lnc-screenReaderOnly"></span>\n            <span class="lnc-modal-header-closeButton-icon" aria-hidden="true">\n               <%= closeIconSVG %>\n            </span>\n         </button>\n      </div>\n      <div class="lnc-modal-body">\n         <div class="lnc-loadingIndicator"></div>\n      </div>\n   </div>\n</div>\n'};let n={};function i(e){return n[e]||(n[e]=Object(a.makeTemplate)(F[e])),n[e]}function C(e,t,n){var i=Array.prototype.slice.apply(e.querySelectorAll(r));return t&&l.call(e,r)&&i.unshift(e),i.filter(n)}function U(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex}function w(e,t){if(t=t||{},e)return!1!==l.call(e,r)&&T(t,e);throw new Error("No node provided")}function S(e,t){if(t=t||{},e)return!1!==l.call(e,B)&&A(t,e);throw new Error("No node provided")}var e=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])',"details>summary:first-of-type","details"],r=e.join(","),l="undefined"==typeof Element?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,k=function(e){var t=parseInt(e.getAttribute("tabindex"),10);return isNaN(t)?"true"!==e.contentEditable&&("AUDIO"!==e.nodeName&&"VIDEO"!==e.nodeName&&"DETAILS"!==e.nodeName||null!==e.getAttribute("tabindex"))?e.tabIndex:0:t},s=function(e){return"INPUT"===e.tagName},A=function(e,t){return!(t.disabled||s(n=t)&&"hidden"===n.type||function(e,t){if("hidden"===getComputedStyle(e).visibility)return 1;var n=l.call(e,"details>summary:first-of-type")?e.parentElement:e;if(l.call(n,"details:not([open]) *"))return 1;if(t&&"full"!==t){if("non-zero-area"===t)return t=(n=e.getBoundingClientRect()).width,n=n.height,0===t&&0===n}else for(;e;){if("none"===getComputedStyle(e).display)return 1;e=e.parentElement}}(t,e.displayCheck)||"DETAILS"===t.tagName&&Array.prototype.slice.apply(t.children).some(function(e){return"SUMMARY"===e.tagName})||function(e){if(s(e)||"SELECT"===e.tagName||"TEXTAREA"===e.tagName||"BUTTON"===e.tagName)for(var t=e.parentElement;t;){if("FIELDSET"===t.tagName&&t.disabled){for(var n=0;n<t.children.length;n++){var i=t.children.item(n);if("LEGEND"===i.tagName)return!i.contains(e)}return 1}t=t.parentElement}}(t));var n},T=function(e,t){return!(!A(e,t)||s(n=e=t)&&"radio"===n.type&&!function(e){if(!e.name)return 1;function t(e){return n.querySelectorAll('input[type="radio"][name="'+e+'"]')}var n=e.form||e.ownerDocument;if("undefined"!=typeof window&&void 0!==window.CSS&&"function"==typeof window.CSS.escape)i=t(window.CSS.escape(e.name));else try{i=t(e.name)}catch(e){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",e.message),0}var i=function(e,t){for(var n=0;n<e.length;n++)if(e[n].checked&&e[n].form===t)return e[n]}(i,e.form);return!i||i===e}(e)||k(t)<0);var n},B=e.concat("iframe").join(",");function x(t,e){var n,i=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)),i}function V(e){return setTimeout(e,0)}function E(e,n){var i=-1;return e.every(function(e,t){return!n(e)||(i=t,!1)}),i}function P(e){for(var t=arguments.length,n=new Array(1<t?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return"function"==typeof e?e.apply(void 0,n):e}function I(e){return e.target.shadowRoot&&"function"==typeof e.composedPath?e.composedPath()[0]:e.target}u=[];var u,j={activateTrap:function(e){0<u.length&&((t=u[u.length-1])!==e&&t.pause());var t=u.indexOf(e);-1!==t&&u.splice(t,1),u.push(e)},deactivateTrap:function(e){e=u.indexOf(e);-1!==e&&u.splice(e,1),0<u.length&&u[u.length-1].unpause()}};function c(e){const t=document.createElement("div");return t.innerHTML=e,t.children[0]}class H{constructor(){this._eventListeners=[]}add(e,t,n){e().addEventListener(t,n),this._eventListeners.push({getTarget:e,fn:n,eventName:t})}removeAll(){for(const e of this._eventListeners){const t=e.getTarget();t&&t.removeEventListener(e.eventName,e.fn)}}}var q=t(41);function d(){class e{}return Object.assign(e.prototype,q.EventEmitterMixin),e}var p=!1;"undefined"!=typeof window&&(window.addEventListener("testPassive",null,e={get passive(){p=!0}}),window.removeEventListener("testPassive",null,e));function W(t){return m.some(function(e){return!(!e.options.allowTouchMove||!e.options.allowTouchMove(t))})}function g(e){return e=e||window.event,!!W(e.target)||1<e.touches.length||(e.preventDefault&&e.preventDefault(),!1)}var L,h,f="undefined"!=typeof window&&window.navigator&&window.navigator.platform&&(/iP(ad|hone|od)/.test(window.navigator.platform)||"MacIntel"===window.navigator.platform&&1<window.navigator.maxTouchPoints),m=[],y=!1,b=-1,v=void 0,R=void 0,O=void 0;(e=L=L||{}).FADE_IN="fadeIn",e.FADE_OUT="fadeOut",e.SLIDE_UP="slideUp",e.SLIDE_DOWN="slideDown";const N={[L.FADE_IN]:200,[L.FADE_OUT]:200,[L.SLIDE_UP]:600,[L.SLIDE_DOWN]:400};class z{trigger(e,t){if(e){const n=`lnc-transition--${t}-start`,i=`lnc-transition--${t}-end`;e.classList.add(n),e.style.transitionDuration=N[t]+"ms",setTimeout(()=>{e&&(e.classList.remove(n),e.classList.add(i))},0),setTimeout(()=>{e&&(e.classList.remove(i),e.style.transitionDuration="")},N[t])}}}(h=h||{}).CLOSED="modal-closed";class Q extends d(){constructor(e){super(),this._transition=new z,this._globalListeners=new H,this._closeInProgress=!1,this._languageClasses=[],this._options=e||{}}show(){if(!this._overlayEl){let e=this._render();this._overlayEl=e,this._modalEl=e.querySelector(".lnc-modal"),this._focusTrap=(t=this._modalEl,l=(null==(f={allowOutsideClick:!0})?void 0:f.document)||document,s=function(i){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?x(Object(a),!0).forEach(function(e){var t,n;t=i,n=a[e=e],e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(a)):x(Object(a)).forEach(function(e){Object.defineProperty(i,e,Object.getOwnPropertyDescriptor(a,e))})}return i}({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0},f),u={containers:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0},i=function(t){return!(!t||!u.containers.some(function(e){return e.contains(t)}))},c=function(e){var t=s[e];if("function"==typeof t){for(var n=arguments.length,i=new Array(1<n?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];t=t.apply(void 0,i)}if(!t){if(void 0===t||!1===t)return t;throw new Error("`".concat(e,"` was specified but was not a node, or did not return a node"))}var o=t;if("string"!=typeof t||(o=l.querySelector(t)))return o;throw new Error("`".concat(e,"` as selector refers to no known node"))},a=function(){var e,t=c("initialFocus");if(!1===t)return!1;if(t=void 0===t?i(l.activeElement)?l.activeElement:(e=u.tabbableGroups[0])&&e.firstTabbableNode||c("fallbackFocus"):t)return t;throw new Error("Your focus-trap needs to have at least one focusable element")},d=function(){if(u.tabbableGroups=u.containers.map(function(e){i=[],a=[],C(e,(n={}).includeContainer,T.bind(null,n)).forEach(function(e,t){var n=k(e);0===n?i.push(e):a.push({documentOrder:t,tabIndex:n,node:e})});var i,a,t,n=a.sort(U).map(function(e){return e.node}).concat(i),o=C(e,(t={}).includeContainer,A.bind(null,t));if(0<n.length)return{container:e,firstTabbableNode:n[0],lastTabbableNode:n[n.length-1],nextTabbableNode:function(t){var e=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],n=o.findIndex(function(e){return e===t});return e?o.slice(n+1).find(function(e){return w(e)}):o.slice(0,n).reverse().find(function(e){return w(e)})}}}).filter(function(e){return!!e}),u.tabbableGroups.length<=0&&!c("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times")},p=function e(t){var n;!1!==t&&t!==l.activeElement&&(t&&t.focus?(t.focus({preventScroll:!!s.preventScroll}),u.mostRecentlyFocusedNode=t,(n=t).tagName&&"input"===n.tagName.toLowerCase()&&"function"==typeof n.select&&t.select()):e(a()))},n=function(e){var t=I(e);i(t)||(P(s.clickOutsideDeactivates,e)?r.deactivate({returnFocus:s.returnFocusOnDeactivate&&!S(t)}):P(s.allowOutsideClick,e)||e.preventDefault())},o=function(e){var t=I(e),n=i(t);n||t instanceof Document?n&&(u.mostRecentlyFocusedNode=t):(e.stopImmediatePropagation(),p(u.mostRecentlyFocusedNode||a()))},g=function(e){if(("Escape"===e.key||"Esc"===e.key||27===e.keyCode)&&!1!==P(s.escapeDeactivates,e))return e.preventDefault(),void r.deactivate();var t,n,i,a,o;"Tab"!==e.key&&9!==e.keyCode||(a=I(e=e),d(),o=null,0<u.tabbableGroups.length?(i=0<=(t=E(u.tabbableGroups,function(e){return e.container.contains(a)}))?u.tabbableGroups[t]:void 0,t<0?o=e.shiftKey?u.tabbableGroups[u.tabbableGroups.length-1].lastTabbableNode:u.tabbableGroups[0].firstTabbableNode:e.shiftKey?0<=(n=(n=E(u.tabbableGroups,function(e){e=e.firstTabbableNode;return a===e}))<0&&(i.container===a||S(a)&&!w(a)&&!i.nextTabbableNode(a,!1))?t:n)&&(n=0===n?u.tabbableGroups.length-1:n-1,o=u.tabbableGroups[n].lastTabbableNode):0<=(n=(n=E(u.tabbableGroups,function(e){e=e.lastTabbableNode;return a===e}))<0&&(i.container===a||S(a)&&!w(a)&&!i.nextTabbableNode(a))?t:n)&&(i=n===u.tabbableGroups.length-1?0:n+1,o=u.tabbableGroups[i].firstTabbableNode)):o=c("fallbackFocus"),o&&(e.preventDefault(),p(o)))},h=function(e){var t;P(s.clickOutsideDeactivates,e)||(t=I(e),i(t)||P(s.allowOutsideClick,e)||(e.preventDefault(),e.stopImmediatePropagation()))},(r={activate:function(e){if(u.active)return this;function t(){a&&d(),b(),i&&i()}var n=m(e,"onActivate"),i=m(e,"onPostActivate"),a=m(e,"checkCanFocusTrap");a||d(),u.active=!0,u.paused=!1,u.nodeFocusedBeforeActivation=l.activeElement,n&&n();return a?a(u.containers.concat()).then(t,t):t(),this},deactivate:function(e){if(!u.active)return this;clearTimeout(u.delayInitialFocusTimer),u.delayInitialFocusTimer=void 0,v(),u.active=!1,u.paused=!1,j.deactivateTrap(r);function t(){V(function(){o&&p(y(u.nodeFocusedBeforeActivation)),i&&i()})}var n=m(e,"onDeactivate"),i=m(e,"onPostDeactivate"),a=m(e,"checkCanReturnFocus"),o=(n&&n(),m(e,"returnFocus","returnFocusOnDeactivate"));return o&&a?a(y(u.nodeFocusedBeforeActivation)).then(t,t):t(),this},pause:function(){return!u.paused&&u.active&&(u.paused=!0,v()),this},unpause:function(){return u.paused&&u.active&&(u.paused=!1,d(),b()),this},updateContainerElements:function(e){e=[].concat(e).filter(Boolean);return u.containers=e.map(function(e){return"string"==typeof e?l.querySelector(e):e}),u.active&&d(),this}}).updateContainerElements(t),r),(this._options.cssClasses||[]).forEach(e=>{this._modalEl&&this._modalEl.classList.add(e)}),this._transition.trigger(this._overlayEl,L.FADE_IN),window.document.body.appendChild(this._overlayEl),this._listenForGlobalEventsThatCloseModal(),this._listenForEvents(e),this._focusTrap.activate();var t,r,l,s,u,i,c,a,d,p,n,o,g,h,f=e.querySelector(".lnc-modal-body");if(!f)throw new Error('Expected the modal to contain a ".lnc-modal-body" element, but it did not.');function m(e,t,n){return e&&void 0!==e[t]?e[t]:s[n||t]}function y(e){var t=c("setReturnFocus",e);return t||!1!==t&&e}function b(){if(u.active)j.activateTrap(r),u.delayInitialFocusTimer=s.delayInitialFocus?V(function(){p(a())}):p(a()),l.addEventListener("focusin",o,!0),l.addEventListener("mousedown",n,{capture:!0,passive:!1}),l.addEventListener("touchstart",n,{capture:!0,passive:!1}),l.addEventListener("click",h,{capture:!0,passive:!1}),l.addEventListener("keydown",g,{capture:!0,passive:!1})}function v(){if(u.active)l.removeEventListener("focusin",o,!0),l.removeEventListener("mousedown",n,!0),l.removeEventListener("touchstart",n,!0),l.removeEventListener("click",h,!0),l.removeEventListener("keydown",g,!0)}this._lockBodyScrolling(f)}}close(){this._overlayEl&&!this._closeInProgress&&(this._closeInProgress=!0,this._transition.trigger(this._overlayEl,L.FADE_OUT),setTimeout(()=>{this._overlayEl&&this._overlayEl.parentNode&&this._modalEl&&(this._unlockBodyScrolling(),this._overlayEl.parentNode.removeChild(this._overlayEl),this._overlayEl=void 0,this._modalEl=void 0,this._closeInProgress=!1,this._focusTrap&&this._focusTrap.deactivate(),this.emit(h.CLOSED))},N[L.FADE_OUT]),this._globalListeners.removeAll())}setContent(e){var t;const n=null==(t=this._overlayEl)?void 0:t.querySelector(".lnc-modal-body");n&&("string"==typeof e?n.innerHTML=e:(n.innerHTML="",n.appendChild(e)))}setLanguageAttributes(e){if(this._overlayEl){const t=this._overlayEl.querySelector(".lnc-modal");t&&(t.setAttribute("lang",e.locale),t.setAttribute("xml:lang",e.locale),t.setAttribute("dir",e.direction))}}setLanguageClasses(e){this._modalEl&&(this._languageClasses.forEach(e=>{this._modalEl&&this._modalEl.classList.remove(e)}),e.forEach(e=>{this._modalEl&&this._modalEl.classList.add(e)}),this._languageClasses=e)}setTitle(e){if(this._modalEl){const t=this._modalEl.querySelector(".lnc-modal-header-heading");t&&(t.innerHTML=e)}}setCloseButtonARIALabel(e){if(this._modalEl){const t=this._modalEl.querySelector(".lnc-modal-header-closeButton > .lnc-screenReaderOnly");t&&(t.innerHTML=e)}}_render(){var e;return c((e={closeIconSVG:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 50" focusable="false" role="img" aria-hidden="true">\n   <path fill="currentColor" d="M41.001 10.303L39.698 9 25 23.698 10.304 9l-1.303 1.303L23.697 25 9.001 39.695l1.303 1.302 14.695-14.694L39.694 41l1.303-1.303L26.302 25z"/>\n</svg>\n'},i("modalTemplate")(e)))}_listenForEvents(e){const t=e.querySelector(".lnc-modal-header-closeButton"),n=e.classList.contains("lnc-modal-overlay")?e:null;t&&t.addEventListener("click",()=>{this.close()}),n&&n.addEventListener("click",e=>{e=e.target;n&&e&&n.isSameNode(e)&&this.close()})}_listenForGlobalEventsThatCloseModal(){this._globalListeners.add(()=>window,"keyup",e=>{"Escape"===e.key&&this.close()})}_lockBodyScrolling(e){var i;this._lastKnownBodyRightValue=window.document.body.style.right,window.document.body.style.right="0px",(i=e)?m.some(function(e){return e.targetElement===i})||(e={targetElement:i,options:{}},m=[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(m),[e]),f?window.requestAnimationFrame(function(){var e,t,n,i;void 0===R&&(R={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left},e=window,t=e.scrollY,n=e.scrollX,i=e.innerHeight,document.body.style.position="fixed",document.body.style.top=-t,document.body.style.left=-n,setTimeout(function(){return window.requestAnimationFrame(function(){var e=i-window.innerHeight;e&&i<=t&&(document.body.style.top=-(t+e))})},300))}):(void 0===O&&(window.innerWidth,document.documentElement.clientWidth),void 0===v&&(v=document.body.style.overflow,document.body.style.overflow="hidden")),f&&(i.ontouchstart=function(e){1===e.targetTouches.length&&(b=e.targetTouches[0].clientY)},i.ontouchmove=function(e){var t,n;1===e.targetTouches.length&&(t=i,n=(e=e).targetTouches[0].clientY-b,W(e.target)||(t&&0===t.scrollTop&&0<n||t&&t.scrollHeight-t.scrollTop<=t.clientHeight&&n<0?g(e):e.stopPropagation()))},y||(document.addEventListener("touchmove",g,p?{passive:!1}:void 0),y=!0))):console.error("disableBodyScroll unsuccessful - targetElement must be provided when calling disableBodyScroll on IOS devices."),window.requestAnimationFrame(()=>{"fixed"!==window.document.body.style.position&&(window.document.body.style.right="")})}_unlockBodyScrolling(){let e=window.document.body.style.position;var t,n;f&&(m.forEach(function(e){e.targetElement.ontouchstart=null,e.targetElement.ontouchmove=null}),y&&(document.removeEventListener("touchmove",g,p?{passive:!1}:void 0),y=!1),b=-1),f?void 0!==R&&(t=-parseInt(document.body.style.top,10),n=-parseInt(document.body.style.left,10),document.body.style.position=R.position,document.body.style.top=R.top,document.body.style.left=R.left,window.scrollTo(n,t),R=void 0):(void 0!==O&&(document.body.style.paddingRight=O,O=void 0),void 0!==v&&(document.body.style.overflow=v,v=void 0)),m=[],window.requestAnimationFrame(()=>{"fixed"===e&&(window.document.body.style.right=this._lastKnownBodyRightValue||"")})}}var D,_=t(2);function K(e,n){"https://www.jw.org/finder"!==n&&e.querySelectorAll("a").forEach(e=>{const t=e.getAttribute("href")||"";0<=t.indexOf("https://www.jw.org/finder")&&e.setAttribute("href",t.replace("https://www.jw.org/finder",n))})}function G(e){const t=Object.keys(e);let n=!1;for(const i of t){const t=e[i];if(!Object(a.isUndefined)(t)&&i!==o.a.STRICTLY_NECESSARY){n=!0;break}}return n}const Y={[o.a.STRICTLY_NECESSARY]:!0,[o.a.FUNCTIONAL]:!1,[o.a.DIAGNOSTIC]:!1,[o.a.USAGE]:!1};class ${constructor(e){this._clientConfig=e.clientConfig,this._eventEmitter=e.eventEmitter,this._chromeOverrideOptions=e.chromeOverrideOptions,this._templateDataProvider=e.templateDataProvider,this._modal=new Q({cssClasses:["lnc-settings"]}),this._modal.on(h.CLOSED,()=>{this._eventEmitter.emit(_.ClientEvents.SETTINGS_CLOSED)})}show(){this._chromeOverrideOptions||this._modal.show(),(async()=>{var e=function(e){let t={};var n=Object.keys(o.a);for(const o of n)t[o]=(Object(a.isUndefined)(e[o])?Y:e)[o];return t}(await this._clientConfig.storage.get()),t=await this._templateDataProvider.fetch(this._clientConfig),n=c(this._renderContent(t));this._cookieSettings=e,this._contentEl=n,this._chromeOverrideOptions?(this._chromeOverrideOptions.el.innerHTML="",this._chromeOverrideOptions.el.appendChild(this._contentEl)):(this._updateModalWithLoadedData(t),this._modal.setContent(this._contentEl)),this._clientConfig.finderURL&&K(this._contentEl,this._clientConfig.finderURL),this._synchronizeCheckboxUI(e),this._listenForEvents(this._contentEl),this._eventEmitter.emit(_.ClientEvents.SETTINGS_SHOWN,e)})().catch(e=>{this._eventEmitter.emit(_.ClientEvents.ERROR,e)})}close(){this._contentEl=void 0,this._chromeOverrideOptions?(this._chromeOverrideOptions.close(),this._eventEmitter.emit(_.ClientEvents.SETTINGS_CLOSED)):this._modal.close()}_listenForEvents(e){const t=e.querySelector(".lnc-allowAllButton"),n=e.querySelector(".lnc-declineAllButton"),i=e.querySelector(".lnc-confirmButton");t&&t.addEventListener("click",()=>{this._updateCookieSettings({[o.a.STRICTLY_NECESSARY]:!0,[o.a.FUNCTIONAL]:!0,[o.a.DIAGNOSTIC]:!0,[o.a.USAGE]:!0}),this.close()}),n&&n.addEventListener("click",()=>{this._updateCookieSettings({[o.a.STRICTLY_NECESSARY]:!0,[o.a.FUNCTIONAL]:!1,[o.a.DIAGNOSTIC]:!1,[o.a.USAGE]:!1}),this.close()}),i&&i.addEventListener("click",async()=>{G(await this._clientConfig.storage.get())||this._updateCookieSettings(Y),this.close()}),e.addEventListener("change",e=>{var t=e.target;if(t&&"checkbox"===t.type){e=t.dataset.cookieType;if(Object(a.isEnumValue)(o.a,e))this._updateCookieSettings({...this._cookieSettings,[e]:t.checked});else{const e=Object.keys(o.a).map(e=>o.a[e]);this._eventEmitter.emit(_.ClientEvents.ERROR,new Error(`A settings modal checkbox is implemented incorrectly in the legal notices client library. The data-cookie-type property on the checkbox element is ${t.dataset.cookieType}, which is not a valid cookie type. Valid types are: ${e.join(", ")}.`))}}})}_updateCookieSettings(e){this._pendingSettingsUpdate||(this._pendingSettingsUpdate=Promise.resolve()),this._pendingSettingsUpdate=this._pendingSettingsUpdate.finally(async()=>(this._cookieSettings=e,this._clientConfig.storage.set(e))).then(()=>{this._eventEmitter.emit(_.ClientEvents.SETTINGS_CHANGED,this._cookieSettings)}).catch(async e=>{var t=await this._clientConfig.storage.get();this._cookieSettings=t,this._synchronizeCheckboxUI(t),e&&this._eventEmitter.emit(_.ClientEvents.ERROR,e)})}_synchronizeCheckboxUI(i){document.querySelectorAll(".lnc-checkbox input[type=checkbox]").forEach(e=>{const t=e,n=t.dataset.cookieType;Object(a.isEnumValue)(o.a,n)&&t.checked!==i[n]&&(t.checked=!!i[n])})}_renderContent(e){return e={...e,cssClasses:"lnc-settings-content "+e.cssClasses},i("settingsContentTemplate")(e)}_updateModalWithLoadedData(e){this._modal.setTitle(e.translations.privacySettingsHeading),this._modal.setCloseButtonARIALabel(e.translations.closeButtonLabel),this._modal.setLanguageAttributes(e.languageSummary),this._modal.setLanguageClasses((this._clientConfig.languageClassesMaker(e.languageSummary)||"").split(" "))}}const Z={languageCode:"E",languageClassesMaker:e=>`ml-${e.languageCode} ms-${e.script} dir-`+e.direction,storage:new(t(16).a),i18nURL:"https://b.jw-cdn.org/apis/i18n",finderURL:"https://www.jw.org/open"};function J(e){return Object(a.isArray)(e)&&0!==e.length&&"string"==typeof e[0].title&&"number"==typeof e[0].status}class X{async fetch(e){const t=await this._getTranslationsCollection(e);if(J(t))throw new Error(t.reduce((e,t)=>`${e}
${t.title}: `+t.detail,""));return{translations:t.translations,languageSummary:t.language,cssClasses:e.languageClassesMaker(t.language)}}async _getTranslationsCollection(e){if(this._cachedTranslations&&e.languageCode===this._cachedTranslations.language.languageCode)return this._cachedTranslations;e=this._buildURL(e.i18nURL,"translation-collections","legal-notices-v2",e.languageCode);let t=await fetch(e);if(this._is5xxResponse(t)&&(t=await fetch(e),this._is5xxResponse(t)))throw new Error("Sorry, there was a server error. Please try again later.");e=await t.json();if(J(e))return e;const n=e;return"undefined"!=typeof window&&void 0!==window.Proxy&&(n.translations=new Proxy(n.translations,{get:(e,t,n)=>Reflect.get(e,t,n)||""})),this._cachedTranslations=n}_is5xxResponse(e){return 500<=e.status&&e.status<=599}_buildURL(...e){let t="";for(const n of e)t+=n,"/"!==t[t.length-1]&&(t+="/");return t.substring(0,t.length-1)}}(D=D||{}).SETTINGS_REQUESTED="settings-requested";class ee extends d(){constructor(e){var t;super(),this._transition=new z,this._closeInProgress=!1,this._clientConfig=e.clientConfig,this._eventEmitter=e.eventEmitter,this._popupOverrideOptions=null==(t=e.uiOverrideOptions)?void 0:t.popup,this._modalChromeOverrideOptions=null==(t=e.uiOverrideOptions)?void 0:t.modal,this._templateDataProvider=e.templateDataProvider}show(){this._templateDataProvider.fetch(this._clientConfig).then(e=>{var t=this._renderContent(e);if(this._popupOverrideOptions){const e=this._updatePrivacySettingsLink(c(t));this._popupOverrideOptions.el.innerHTML="",this._popupOverrideOptions.el.appendChild(e),this._el=e}else{t=this._renderChrome(t,e);this._el=t,document.body.prepend(t),this._transition.trigger(this._el,L.SLIDE_UP)}this._clientConfig.finderURL&&K(this._el,this._clientConfig.finderURL),this._listenForEvents(this._el),this._eventEmitter.emit(_.ClientEvents.FIRST_RUN_POPUP_SHOWN)}).catch(e=>{this._eventEmitter.emit(_.ClientEvents.ERROR,e)})}close(){this._el&&!this._closeInProgress&&(this._closeInProgress=!0,this._popupOverrideOptions?(this._popupOverrideOptions.close(),this._closeInProgress=!1,this._eventEmitter.emit(_.ClientEvents.FIRST_RUN_POPUP_CLOSED)):(this._transition.trigger(this._el,L.SLIDE_DOWN),setTimeout(()=>{this._el&&this._el.parentNode&&(this._el.parentNode.removeChild(this._el),this._el=void 0,this._closeInProgress=!1,this._eventEmitter.emit(_.ClientEvents.SETTINGS_CLOSED))},N[L.SLIDE_DOWN])))}_renderChrome(e,t){t={...t,cssClasses:"lnc-firstRunPopup",content:e};e=i("firstRunPopupChromeTemplate")(t);return this._updatePrivacySettingsLink(c(e))}_renderContent(e){return e={...e,cssClasses:"lnc-firstRunPopup-content "+e.cssClasses},i("firstRunPopupContentTemplate")(e)}_listenForEvents(e){const t=e.querySelector(".lnc-acceptCookiesButton"),n=e.querySelector(".lnc-declineCookiesButton"),i=e.querySelector(".lnc-customizeCookiesButton");t&&t.addEventListener("click",()=>{this._updateCookieSettings({[o.a.STRICTLY_NECESSARY]:!0,[o.a.FUNCTIONAL]:!0,[o.a.DIAGNOSTIC]:!0,[o.a.USAGE]:!0}),this.close()}),n&&n.addEventListener("click",()=>{this._updateCookieSettings({[o.a.STRICTLY_NECESSARY]:!0,[o.a.FUNCTIONAL]:!1,[o.a.DIAGNOSTIC]:!1,[o.a.USAGE]:!1}),this.close()}),i&&i.addEventListener("click",()=>{this.close(),this.emit(D.SETTINGS_REQUESTED)}),this._el&&this._el.addEventListener("click",e=>{const t=e.target,n=t&&"a"===t.tagName.toLowerCase(),i=t&&n&&t.getAttribute("href")||"";n&&i.endsWith("#privacy-settings")&&(e.preventDefault(),this.close(),this.emit(D.SETTINGS_REQUESTED))})}_updateCookieSettings(e){this._clientConfig.storage.set(e).then(()=>{this._eventEmitter.emit(_.ClientEvents.SETTINGS_CHANGED,e)}).catch(e=>{e&&this._eventEmitter.emit(_.ClientEvents.ERROR,e)})}_updatePrivacySettingsLink(e){return e.querySelectorAll("a").forEach(e=>{e.href&&e.href.endsWith("#privacy-settings")&&(e.href="#privacy-settings")}),e}}var te=t(10);class ne extends d(){constructor(e){super(),this._isShowingFirstRunPopup=!1,this._isShowingSettingsModal=!1,this._templateDataProvider=new X,this._config=Object.assign({},Z,e||{})}run(n,i){this._validateChromeOverrideOptions(n),this._validateChromeOverrideOptions(i),this._shouldShowFirstRunPopup().then(e=>{if(e){const t=new ee({eventEmitter:this,clientConfig:this._config,uiOverrideOptions:{popup:n,modal:i},templateDataProvider:this._templateDataProvider});t.show(),t.on(D.SETTINGS_REQUESTED,()=>{i&&i.onBeforeOpenSettingsModal&&i.onBeforeOpenSettingsModal(),this.showSettings(i)}),this._isShowingFirstRunPopup=!n}}).catch(e=>{this.emit(te.a.ERROR,e)})}showSettings(e){this._isShowingSettingsModal||(this._validateChromeOverrideOptions(e),new $({eventEmitter:this,clientConfig:this._config,chromeOverrideOptions:e,templateDataProvider:this._templateDataProvider}).show(),e||(this._isShowingSettingsModal=!0,this.once(te.a.SETTINGS_CLOSED,()=>{this._isShowingSettingsModal=!1})))}async canPersistType(e){return(await this._config.storage.get())[e]}setLanguageCode(e){this._config.languageCode=e}async callIfAllowed(e,t,n){e=await this.canPersistType(e);return e?{returnValue:await Promise.resolve().then(()=>t()),isAllowed:e}:Object(a.isUndefined)(n)?{returnValue:void 0,isAllowed:!1}:{returnValue:n,isAllowed:!1}}async _shouldShowFirstRunPopup(){return!this._isShowingFirstRunPopup&&!G(await this._config.storage.get())}_validateChromeOverrideOptions(e){if(e){if("function"!=typeof e.close)throw new Error("chromeOverrideOptions.close is required and should be a function, but was: "+typeof e.close);if(!e.el||!Object(a.isString)(e.el.nodeName))throw new Error("chromeOverrideOptions.el is required and should be a HTMLElement, but was: "+typeof e.el)}}}},function(e,t,n){var i=n(43),a=n(44),o=n(45);e.exports.EventEmitterMixin={_ensureListenersHashExists:function(){this._eventListeners||(this._eventListeners={})},on:function(e,t,n){if("string"!=typeof e&&!o(e))throw new Error("the eventNames parameter must be a string or an array of strings, but was: "+e);if("function"!=typeof t)throw new Error("the listener parameter must be a function, but was: "+typeof t);return(e=Array.isArray(e)?e:[e]).forEach(function(e){this._removeEventListener(e,t,n)}.bind(this)),e.forEach(function(e){this._addEventListener(e,t,n)}.bind(this)),this},_addEventListener:function(e,t,n,i){this._ensureListenersHashExists(),this._eventListeners[e]=this._eventListeners[e]||[],this._findEventListener(e,t,n)||this._eventListeners[e].push({callback:"function"==typeof i?i:t,listener:t,context:n})},_findEventListener:function(e,t,n){return i(this._eventListeners[e],function(e){return e.listener===t&&e.context===n})},once:function(t,n,i){var a=this;if("string"!=typeof t)throw new Error("the eventName parameter must be a string, but was: "+typeof t);if("function"!=typeof n)throw new Error("the listener parameter must be a function, but was: "+typeof n);return this._addEventListener(t,n,i,function(){var e=Array.prototype.slice.call(arguments);a._findEventListener(t,n,i)&&(n.apply(this,e),a._removeEventListener(t,n,i))}),this},off:function(e,t,n){return e?(Array.isArray(e)?e:[e]).forEach(function(e){this._removeEventListener(e,t,n)}.bind(this)):this._eventListeners={},this},_removeEventListener:function(e,t,n){this._ensureListenersHashExists(),this._eventListeners[e]=t?a(this._eventListeners[e],function(e){return e.listener===t&&(void 0===n||e.context===n)}):[]},emit:function(e){var t=Array.prototype.slice.apply(arguments).slice(1);if("string"==typeof e||o(e))return(Array.isArray(e)?e:[e]).forEach(function(e){this._emitEvent(e,t)}.bind(this)),this;throw new Error("the eventNames parameter must be a string or an array of strings, but was: "+e)},_emitEvent:function(e,t){this._ensureListenersHashExists(),this._eventListeners[e]&&this._eventListeners[e].forEach(function(e){Promise.resolve().then(function(){e.callback.apply(e.context,t)})})}}},function(e,t,n){n.r(t);var i=n(2);n.d(t,"ClientEvents",function(){return i.ClientEvents}),n.d(t,"CookieDataTypes",function(){return i.CookieDataTypes}),n.d(t,"LegalNoticesClient",function(){return i.LegalNoticesClient}),n.d(t,"DefaultCookieSettingsStorageProvider",function(){return i.DefaultCookieSettingsStorageProvider})},function(e,t,n){e.exports=function(e,t){var n;if(Array.isArray(e)&&t&&"function"==typeof t)for(n=0;n<e.length;n++)if(t(e[n]))return e[n]}},function(e,t,n){e.exports=function(e,t){e=e||[];return Array.isArray(e)&&"function"==typeof t?e.filter(function(e){return!t(e)}):[]}},function(e,t,n){e.exports=function(e){return Array.isArray(e)&&0<e.length&&e.reduce(function(e,t){return e&&"string"==typeof t},!0)}}],a={},o.m=i,o.c=a,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)o.d(n,i,function(e){return t[e]}.bind(null,i));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="";var i,a,n=o(o.s=42);function o(e){if(a[e])return a[e].exports;var t=a[e]={i:e,l:!1,exports:{}};return i[e].call(t.exports,t,t.exports,o),t.l=!0,t.exports}void 0===n&&console.error("esm-webpack-plugin: nothing exported!");const r=n.ClientEvents,l=n.CookieDataTypes,s=n.LegalNoticesClient,u=n.DefaultCookieSettingsStorageProvider},808:(e,t,n)=>{var i,a=function(){function l(){for(var e=0,t={};e<arguments.length;e++){var n,i=arguments[e];for(n in i)t[n]=i[n]}return t}function u(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function e(s){function r(){}function n(e,t,n){if("undefined"!=typeof document){"number"==typeof(n=l({path:"/"},r.defaults,n)).expires&&(n.expires=new Date(+new Date+864e5*n.expires)),n.expires=n.expires?n.expires.toUTCString():"";try{var i=JSON.stringify(t);/^[\{\[]/.test(i)&&(t=i)}catch(e){}t=s.write?s.write(t,e):encodeURIComponent(String(t)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),e=encodeURIComponent(String(e)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var a,o="";for(a in n)n[a]&&(o+="; "+a,!0!==n[a]&&(o+="="+n[a].split(";")[0]));return document.cookie=e+"="+t+o}}function t(e,t){if("undefined"!=typeof document){for(var n={},i=document.cookie?document.cookie.split("; "):[],a=0;a<i.length;a++){var o=i[a].split("="),r=o.slice(1).join("=");t||'"'!==r.charAt(0)||(r=r.slice(1,-1));try{var l=u(o[0]),r=(s.read||s)(r,l)||u(r);if(t)try{r=JSON.parse(r)}catch(e){}if(n[l]=r,e===l)break}catch(e){}}return e?n[e]:n}}return r.set=n,r.get=function(e){return t(e,!1)},r.getJSON=function(e){return t(e,!0)},r.remove=function(e,t){n(e,"",l(t,{expires:-1}))},r.defaults={},r.withConverter=e,r}(function(){})};void 0!==(n="function"==typeof(i=a)?i.call(t,n,t,e):i)&&(e.exports=n),e.exports=a()},520:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CookieManager=void 0;const i=n(211);t.CookieManager=class{constructor(e){this.storage=e,this.lnc=new i.LegalNoticesClient}init(e){this.lnc.setLanguageCode(e),this.lnc.run(),this.lnc.on(i.ClientEvents.SETTINGS_CHANGED,e=>{this.storage.setUserCookieSettings(e)})}showSettings(){this.lnc.showSettings()}async canPersistType(e){return this.lnc.canPersistType(e)}}},198:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var a=Object.getOwnPropertyDescriptor(t,n);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,a)}:function(e,t,n,i){e[i=void 0===i?n:i]=t[n]}),a=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),a(n(520),t),a(n(901),t),a(n(542),t),a(n(240),t),a(n(247),t)},901:(e,t)=>{"use strict";var n,i,a;Object.defineProperty(t,"__esModule",{value:!0}),t.getCookieType=t.WolPreference=t.CookieDataTypes=void 0,(a=n=t.CookieDataTypes||(t.CookieDataTypes={})).DIAGNOSTIC="DIAGNOSTIC",a.FUNCTIONAL="FUNCTIONAL",a.STRICTLY_NECESSARY="STRICTLY_NECESSARY",a.USAGE="USAGE",(a=i=t.WolPreference||(t.WolPreference={})).rsconf="rsconf",a.lib="lib",a.lang="lang",a.locale="locale",a.ckLang="ckLang",a.script="script",a.dir="dir",a.title="title",a.privileged="privileged",a.syncrsconf="syncrsconf",a.synclib="synclib",a.synclang="synclang",a.synclocale="synclocale",a.synclangsym="synclangsym",a.synclangscript="synclangscript",a.syncdir="syncdir",a.rb="rb",a.fontScale="fontScale",a.audioPlayer="audioPlayer",a.audioContinuousPlay="audioContinuousPlay",a.prox="prox",a.rank="rank",a.glossaryFilter="glossaryFilter",a.audioLanguage="audioLanguage",a.audioLanguageName="audioLanguageName",a.showStudy="showStudy",a.binavview="binavview",a.preferredVideoResolution="preferredVideoResolution",a.mru="mru",a.jwt="jwt",a.hasJwt="hasJwt",a.id="id",a.hasUser="hasUser",t.getCookieType=function(e){switch(e){case i.jwt:case i.hasJwt:case i.id:case i.hasUser:return n.STRICTLY_NECESSARY;default:return n.FUNCTIONAL}}},83:()=>{},247:function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.MultiSegmentHighlightManager=void 0;const l=i(n(311));n(83),t.MultiSegmentHighlightManager=class{constructor(e){this.enabled=!0,this.dimmedClassName="dimmed",this.highlightClassName="hl",this.insertedHighlightContainerClassName="inserted",this.startTag=`<span class="${this.dimmedClassName} ${this.insertedHighlightContainerClassName}">`,this.endTag="</span>",this.app=e}get article(){return(0,l.default)("#article")}getDimmedClassName(){return this.dimmedClassName}setDimming(){this.article.addClass(this.dimmedClassName)}removeDimming(){this.article.removeClass(this.dimmedClassName),this.article.find("."+this.dimmedClassName).removeClass(this.dimmedClassName)}setupHighlightDismiss(){}getHighlightedElements(){return this.article.find("."+this.highlightClassName)}getFirstHighlightedId(e=!1){return void 0===this.app?null:this.app.utilities.getFirstActionableIdInScope(e,this.getHighlightedElements())}getFirstHighlightedIdNumber(e=0){return null}getHighlightUrlFragment(e=0){return"h=2-4"}highlight(e,t){}toggleHighlight(e,t){}highlightBibleVerseAsync(e,t){}highlightUrlFragment(){}highlightParagraphTextRange(e,t,n,i,a=0){return!1}highlightElemTextRange(e,t,n,i=!1){if(e.length){0<t&&e.first().insertTag(0,t,this.startTag,this.endTag,this.dimmedClassName),0<n&&n!==Number.MAX_VALUE&&e.last().insertTag(n,Number.MAX_VALUE,this.startTag,this.endTag,this.dimmedClassName),e.each((e,t)=>{(0,l.default)(t).addClass(this.highlightClassName)}),this.setDimming();t=this.doEconomize(e);if(0<t.length){n=l.default.Event("texthighlighted");if(n.$items=t,i)return n;(0,l.default)(document).trigger(n)}}}doEconomize(e){let t,n=this;function i(e,t){return l.default.contains(document.body,t)}t=e.find("."+n.highlightClassName).addBack("."+n.highlightClassName);for(var a=0;a<t.length;a++){var o,r=!1;(r=null!=(0,l.default)(t[a]).data("pid")?!0:r)||(r=(0,l.default)(t[a]).parent()).text().replace(/ /g,"").length!==r.find("."+n.highlightClassName).text().replace(/ /g,"").length||(0<(o=r.find("."+n.dimmedClassName+"."+n.insertedHighlightContainerClassName)).length&&o.contents().unwrap(),r.addClass(n.highlightClassName),r.find("*").removeClass(n.highlightClassName),t=t.add(r).filter("."+n.highlightClassName).filter(i),a--)}return t}highlightElems(e){this.highlightElemTextRange(e,0,Number.MAX_VALUE)}removeHighlight(e){}isHighlighted(e){return!0}hasHighlight(){return null!==this.getFirstHighlightedId()}}},542:function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.StorageProvider=void 0;const a=i(n(808)),o=n(901),r={[o.CookieDataTypes.STRICTLY_NECESSARY]:!0,[o.CookieDataTypes.FUNCTIONAL]:!1,[o.CookieDataTypes.DIAGNOSTIC]:!1,[o.CookieDataTypes.USAGE]:!1};t.StorageProvider=class{constructor(e){this.userCookieSettings=this.initCookieSettings(),this.domain=e}initCookieSettings(){const e=r;return"true"===a.default.get("cookieConsent-STRICTLY_NECESSARY")&&(e[o.CookieDataTypes.STRICTLY_NECESSARY]=!0),"true"===a.default.get("cookieConsent-FUNCTIONAL")&&(e[o.CookieDataTypes.FUNCTIONAL]=!0),"true"===a.default.get("cookieConsent-DIAGNOSTIC")&&(e[o.CookieDataTypes.DIAGNOSTIC]=!0),"true"===a.default.get("cookieConsent-USAGE")&&(e[o.CookieDataTypes.USAGE]=!0),e}setUserCookieSettings(e){this.userCookieSettings=e}setCookie(e,t){var n=(0,o.getCookieType)(e);this.userCookieSettings[n]&&a.default.set(e,t,{expires:365,domain:this.domain})}getCookie(e){var t=(0,o.getCookieType)(e);return this.userCookieSettings[t]?a.default.get(e):null}removeCookie(e){a.default.remove(e,{domain:this.domain})}trySetCookie(e,t){return!this.getCookie(e)&&(this.setCookie(e,t),!0)}setLocalStorage(e,t){var n=(0,o.getCookieType)(e);window.localStorage&&this.userCookieSettings[n]&&window.localStorage.setItem(e,t)}getLocalStorage(e){var t=(0,o.getCookieType)(e);return window.localStorage&&this.userCookieSettings[t]?window.localStorage.getItem(e):null}removeLocalStorage(e){window.localStorage&&window.localStorage.removeItem(e)}}},240:function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.isSignLanguage=void 0;const a=i(n(311));t.isSignLanguage=function(){return"false"!==(0,a.default)("#contentLibLangIsSignLanguage").val()}},311:e=>{"use strict";e.exports=jQuery}},i={};function a(e){var t=i[e];if(void 0!==t)return t.exports;t=i[e]={exports:{}};return n[e].call(t.exports,t,t.exports,a),t.exports}a.d=(e,t)=>{for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var e=a(198);wolLib=e})(),!function(e,t){"use strict";t.storage=new wolLib.StorageProvider(e("#siteCookieDomain").val()),t.cookieManager=new wolLib.CookieManager(t.storage)}(jQuery,app),!function($,window,app){"use strict";window.location.origin||(window.location.origin=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:""));var isTouchDevice="ontouchend"in document,iOS=!!navigator.userAgent.match(/(iPad|iPhone|iPod)/i),Android=!!navigator.userAgent.match(/Android/i),WindowsPhone=!!navigator.userAgent.match(/IEMobile|Windows Phone/i),iPadOS=!(!isTouchDevice||!navigator.userAgent.match(/(Macintosh)/i)),hasPositionFixedProblem=!!navigator.userAgent.match(/(iPad|iPhone|iPod);.*?5_\d/i),isPointerDevice=!!navigator.pointerEnabled||!!window.PointerEvent,isIEOlderThan11=function(){return-1!==navigator.userAgent.indexOf("MSIE")},isOldSafari=function(){var e=navigator.userAgent.toLowerCase();return-1<e.indexOf("safari")&&!!(-1<e.indexOf("version/7")||-1<e.indexOf("version/8"))},getUILanguage=function(){return $("#locale").val()},getRsConfigSymbol=function(){return $("#rsconf").val()},getLibrarySymbol=function(){return $("#lib").val()},getLibraryLanguageSymbol=function(){return $("#libLangSym").val()},getLibraryLanguageScript=function(){return $("#libLangScript").val()},getLibraryDir=function(){return $("#libDir").val()},isLibraryRTL=function(){return"rtl"===getLibraryDir()},getLibraryLanguageName=function(){return $("#libLang").val()},getLibraryLocale=function(){return $("#libraryLocale").val()},getLibraryTitle=function(){return $("#libTitle").val()},getLibraryIsPrivileged=function(){return $("#libIsPrivileged").val()},getContentUILanguage=function(){return $("#contentLocale").val()},getContentRsConfigSymbol=function(){return $("#contentRsconf").val()},getContentLibrarySymbol=function(){return $("#contentLib").val()},getContentLibraryLanguageSymbol=function(){return $("#contentLibLangSym").val()},getContentLibraryLanguageScript=function(){return $("#contentLibLangScript").val()},getContentLibraryDir=function(){return $("#contentLibDir").val()},isContentLibraryRTL=function(){return"rtl"===getContentLibraryDir()},isContentLibraryHTML5=function(){return 0<$(".html5").length},getScrollPositionFormatStrings=function(){return{bibleDocumentNavigationChapterManyVerseFormat:$("#bibleDocumentNavigationChapterManyVerseFormat").val(),bibleDocumentNavigationChapterVerseFormat:$("#bibleDocumentNavigationChapterVerseFormat").val(),bibleDocumentNavigationChapterVerseRangeFormat:$("#bibleDocumentNavigationChapterVerseRangeFormat").val(),bibleDocumentNavigationSingleChapterManyVerseFormat:$("#bibleDocumentNavigationSingleChapterManyVerseFormat").val(),bibleDocumentNavigationSingleChapterSingleVerseFormat:$("#bibleDocumentNavigationSingleChapterSingleVerseFormat").val(),documentNavigationMultiplePagesPositionFormat:$("#documentNavigationMultiplePagesPositionFormat").val(),documentNavigationSinglePagePositionFormat:$("#documentNavigationSinglePagePositionFormat").val()}},getCommand=function(e){return URI().segment(e?1:2)},getSelectedText=function(){try{return(window.getSelection?window:document).getSelection().getRangeAt(0)}catch(e){}},getSelectedTextContainers=function(){var e=getSelectedText(),t=e.startContainer.parentElement,n=(""===t.id&&(t=$(t).closest("[id]")[0]),e.endContainer.parentElement),e=(""===n.id&&(n=$(n).closest("[id]")[0]),$(e.commonAncestorContainer)),i=e.find("[id^=v]"),a=(0===i.length&&(i=e.find("*").filter(function(){return void 0!==$(this).data("pid")})),$()),o=!1;return i.each(function(e){e=i[e];e.id!==t.id||o?e.id===n.id&&o?(o=!1,a=a.add($(e))):o&&(a=a.add($(e))):(o=!0,a=a.add($(e)))}),a},multiSegmentSelectionEnabled=function(){return 0<$("#userTextRangeHighlight").length},getTextNodes=function(e){var i=$(),e=$(e);return 0<e.length&&function e(t){var n;if(3===t.nodeType)"\n"!==t.nodeValue&&i.push($(t));else for(n=0;n<t.childNodes.length;n++)e(t.childNodes[n])}(e[0]),i},getCharacterPosition=function(e,t){var n=e.innerHTML,i=getSelectedText(),a=$(e).lettering(),a=$(a).children()[t],t=$(a).position(),a=($(e).innerHTML=n,document.createRange());return a.setStart(i.startContainer.parentNode,i.startOffset),a.setEnd(i.endContainer.parentNode,i.endOffset),t},getVerseNumberFromIDAttribute=function(e){var t=getBookNumber(),n=getChapterNumber(),t=app.utilities.isContentLibraryHTML5()?t?"v"+t+"-"+n+"-(\\d+)":"v\\d+-\\d+-(\\d+)":t?"dcv_"+n+"_(\\d+)":"dcv_\\d+_(\\d+)";return(n=(t=new RegExp(t)).exec(e))?n[1]:null},getVerseNumberObject=function(e){var e=e.$items.closest("#article [id]").not("[data-pid]"),e=getAllVerseSegmentsFromIDAttribute(e.attr("id"));return 0<e.length?(e=e[0],$(e).children(".cl, .vl")):null},getChapterNumberFromIDAttribute=function(e){e=/v\d+-(\d+)-\d+/.exec(e);return e?e[1]:null},getBookNumberFromIDAttribute=function(e){e=/v(\d+)-\d+-\d+/.exec(e);return e?e[1]:null},getAllVerseSegmentsFromIDAttribute=function(e){e=/(v\d+-\d+-\d+)/.exec(e);return e?$("#article").find("[id^="+e[1]+"-]"):$()},getParagraphIDFromIDAttribute=function(e){return Number(e.substr(1))},getParagraphById=function(e){e=parseInt(e,10);e=$("#p"+e);if(0<e.length)return e[0]},getFirstActionableIdInScope=function(e,t){var n,i=$(t[0]);return 0<t.length?(app.isBibleDocument()&&!e?0===(n=i.find("[id^=v]")).length&&0===(n=i.closest("[id]")).length&&(n=i.find("[id]").first()):0===(n=i.closest("[data-pid]")).length&&(n=i.find("[data-pid]").first()),n.attr("id")):null},isDocument=function(e){switch(getCommand(e)){case"d":case"dsync":return!0;default:return!1}},articleHasVerses=function(){var e=$(".article");return/id=\"v/.test(e.html())},getDID=function(e){return $("#docId").val()},getDocumentDescription=function(){return $("#documentDescription").val()},getDocumentDescriptionSubstitute=function(){return $("#documentDescriptionSubstitute").val()},getPubMediaServer=function(){return $("#pubMediaServer").val()||location.host},getInsightApiUrl=function(){return $("#insightApi").val()},getShareBaseUrl=function(){return $("#shareBaseUrl").val()},getShareType=function(){return $("#shareType").val()},getContentTitle=function(){return $("#contentTitle").val()},getContentParentTitle=function(){return $("#parentTitle").val()},getContentThumbnailUrl=function(){return $("#contentThumbnail").val()},getSourcePreferredBible=function(){return $("#sourcePreferredBible").val()},getPubSym=function(){return $("#englishSym").val()},getAudioPubSym=function(){return $("#audioPubSym").val()},getPubYear=function(){return $("#pubYear").val()},getLangSym=function(){return $("#langSym").val()},getIssue=function(){return $("#issue").val()},getIssueDate=function(){return $("#issueDate").val()},getIssueSymbol=function(){return $("#issueSymbol").val()},getBookNumber=function(){return $("#bookNo").val()},getChapterNumber=function(){return $("#chapNo").val()},getTodayDate=function(){return $("#todayDate").val()},getTodayWeek=function(){return $("#todayWeek").val()},getSelectedSearchCategories=function(){var e=[];return $('#searchFilterContainer input[name="fc[]"]:checked').each(function(){e.push($(this).val())}),e},isSubsetSelectedSearchCategories=function(){return 0<$('#searchFilterContainer input[name="fc[]"]:not(:checked)').length},isBibleDocument=function(e){switch(getCommand(e)){case"b":case"bsync":case"sybv":return!0;default:return!1}},isLibraryNav=function(e){switch(getCommand(e)){case"lv":case"library":return!0;default:return!1}},isBibleBookDocument=function(e){return isDocument(e)&&$(".document.bibleBook").length},isBiblePublication=function(e){return!!["nwt","nwtsty","bi7","bi10","b12","bi22","by","int","Rbi8","rh"].indexOf(getPubSym())},isBibleNav=function(e){return"binav"===getCommand(e)},isDefaultBible=function(e){return"true"===$("#isDefaultBible").val()},isPublicationNav=function(e){return"publication"===getCommand(e)},isGalleryNav=function(e){return"gallery"===getCommand(e)},isTodayPage=function(e){return"dt"===getCommand(e)},parseBibleDocumentURL=function(e){return{rsconf:$("#rsconf").val(),lib:$("#lib").val(),book:$("#bookNo").val(),chapter:$("#chapNo").val()}},parsePublicationURL=function(e){return{rsconf:$("#rsconf").val(),lib:$("#lib").val(),englishSymbol:$("#englishSym").val(),languageSymbol:$("#langSym").val()}},isSearchResultsPage=function(e){return"s"===getCommand(e)},isDocumentWithSearchHits=function(e){return!!isDocument(e)&&URI().hasQuery("q")},isDocumentWithImages=function(e){return!!isDocument(e)&&0<$(".article img").length},hasDocumentContent=function(){return 0<$(".scalableui").length},getContentAreaMargins=function(){return{marginTop:$("#regionHeader").outerHeight()||0,marginBottom:0}},transcribeUreLinks=function(e){var t;return e&&(t=sprintf("/%s/wol/",getContentUILanguage()||getUILanguage()),e.replace(/\/wol\/(?!datalink|vidlink|rslink|finder)/g,t))},roundToNearest=function(e,t){return t=1/t,Math.round(e*t)/t},roundDown=function(e,t){return t=1/t,Math.floor(e*t)/t},loadPage=function(e){e=URI(e),e=e.path()+e.search()+e.hash();window.location.href=e},loadJSFile=function(e){var t=document.createElement("script");t.setAttribute("type","text/javascript"),t.setAttribute("src",e),document.getElementsByTagName("head")[0].appendChild(t)},cookiesEnabled=function(){return"cookie"in document&&(0<document.cookie.length||-1<(document.cookie="test").indexOf.call(document.cookie,"test"))},libInfoIsCurrent=function(n,e){var i=!1;return $.each(e.items,function(e,t){$.each(t.libs,function(e,t){if(t.symbol==n)return!(i=!0)})}),i},getMRULibraries=function(){var t=getRsConfigSymbol(),n=getLibrarySymbol(),e=JSON.parse(app.storage.getLocalStorage("mru")||"[]");for((e=$.grep(e,function(e){return!(e.rsconf===t&&e.lib===n)})).unshift({rsconf:t,lib:n});3<e.length;)e.pop();return app.storage.setLocalStorage("mru",JSON.stringify(e)),e},fontSizeManager=function(){function e(){if(-1===r){for(var e=Number.MAX_VALUE,t=(a=app.storage.getCookie("fontScale"))?parseFloat(a):1,n=0;n<o.length;n++){var i=Math.abs(t-o[n]);if(!(i<e))break;e=i,r=n}app.storage.setCookie("fontScale",o[r])}var a}var o=[.7,.78,.85,1,1.17,1.38,1.72,1.9,2.23,2.67,3.08,3.7],r=-1;return{getScale:function(){return e(),o[r]},decrement:function(){return e(),0<r&&(--r,!0)},increment:function(){return e(),r+1<o.length&&(r+=1,!0)},reset:function(){r=3}}}(),getDefaultFontSize=function(){var e,t=parseInt($("body").css("font-size"),10);return t=t,Math.round(72*t/(t=$('<div style="width:1in;visible:hidden;padding:0px"></div>').appendTo("body"),e=t[0].offsetWidth,t.remove(),e))},isFeatureEnabled=function(e){return"true"===app.storage.getCookie(e)},enableFeature=function(e){app.storage.setCookie(e,!0)},disableFeature=function(e){app.storage.setCookie(e,!1)},isFeatureSet=function(e){return void 0!==app.storage.getCookie(e)},normalizeText=function(e){return isLibraryRTL()?e.replace("(","&#x200E;(").replace(")",")&#x200E;").replace(//,"&#x200E;").replace(//,"&#x200E;"):e},localizeNumber=function(e){var t;return t=null!=(t=void 0===(t=void 0===(t="undefined"!=typeof localizedNumbers&&null!==localizedNumbers&&localizedNumbers instanceof Array?localizedNumbers[e]:t)?$("[data-no="+e+"]").data("beforeText"):t)?$(".v[id$=-"+e+"-1]").children(".vl").first().text().trim():t)&&0!==t.length?t:e},hasAudio=!1,isFallbackAudio=!1,shouldShowAudioPlayer=function(){var e=app.storage.getCookie("audioPlayer");return!e||"true"===e},shouldContinuousPlayAudio=function(){var e=app.storage.getCookie("audioContinuousPlay");return!e||"true"===e},audioPlayerSetup=!1,isIE=function(){var e=window.navigator.userAgent;return 0<e.indexOf("MSIE ")||0<e.indexOf("Trident/")},isEdge=/Edge\/\d./i.test(navigator.userAgent),isOpera=function(){return!!(/OPR\/\d./i.test(navigator.userAgent)||/Opera\/\d./i.test(navigator.userAgent)||/Opera Mini\/\d./i.test(navigator.userAgent))},isChrome=function(){var e=window.chrome,t=window.navigator,n=t.vendor,i=-1<t.userAgent.indexOf("OPR")||-1<t.userAgent.indexOf("Opera"),a=-1<t.userAgent.indexOf("Edge");return!!t.userAgent.match("CriOS")||null!=e&&"Google Inc."===n&&!1==i&&!1==a},isJscriptGt4=eval("/*@cc_on (@_jscript_version >= 4)@*/"),isHTTPS=function(){return"https:"===location.protocol};function isFromTouch(e){return"touch"===e.originalEvent.pointerType||void 0===e.originalEvent.pointerType&&(app.WindowsPhone||app.iOS||app.Android)}function getFirstIdMatchingVerseNumber(e){var t,n="v\\d+-\\d+-"+e+"-1",n=new RegExp(n),e=$("[id^=v]").filter(function(e,t){return n.test(t.id)});return 0<e.length&&(t=e.first().attr("id")),app.utilities.getAllVerseSegmentsFromIDAttribute(t)}function updateFontSize(e){var t=app.fontSizeManager.getScale(),e=(e&&app.storage.setCookie("fontScale",t),parseInt(getDefaultFontSize()*t,10));$("#fontPointSize").text(e).css("font-size",100*t+"%")}function getVideoResolution(){var e=app.storage.getCookie("preferredVideoResolution");return e||"720p"}function setVideoResolution(e){app.storage.setCookie("preferredVideoResolution",e)}function getSearchProximity(){var e=app.storage.getCookie("prox");return e||"par"}function getSearchRank(){var e=app.storage.getCookie("rank");return e||"occ"}function setupAsyncPartialPageLoad(t){var n;Modernizr.history&&window.history.pushState&&(n={success:function(e){t.pageContentObject.html(e),app.menu.markButtonByLocation(),app.images.placeholders(),app.media.removeAudioSetup(),app.media.audioNavigationSetup(),app.bibleAudioCheck.checkBibleAudio(),app.share.setupShare(),app.pref.updatePreferencesRedirect(),null!=t.successCallback&&"function"==typeof t.successCallback&&t.successCallback()},error:function(e){var t=new URI(this.url).removeQuery("snip","yes");app.loadPage(t.toString())}},t.pageContentObject.off("click").on("click",t.filter,function(){var e=new URI(this.href).addQuery("snip","yes");return(isTouchDevice||isPointerDevice)&&t.pageContentObject.html('<div class="loading"><span class="icon"></span></div>'),app.web.ajax(e.toString(),n),window.history.pushState(null,null,this.href),window.scroll(0,0),app.utilities.isPublicationNav()&&(app.audioPlayerSetup=!1,app.media.audioNavigationSetup()),!1}),window.onpopstate=function(){var e;new URI(window.location.href).hasQuery("q")||(e=new URI(window.location.pathname).addQuery("snip","yes"),$.ajax(e.toString(),n))})}function isSignLanguage(){return"false"!==$("#contentLibLangIsSignLanguage").val()}function externalizeArticleLinks(){$("article").find("a").each(function(){var e,t=$(this);t.attr("href")&&(""!==(e=URI(t.attr("href")).host())&&e!==window.location.host||t.hasClass("fb"))&&(t.attr("target","_blank"),t.addClass("fb"))})}function rubyAvailable(){return"true"===$("#rubyAvailable").val()}function rubyVisible(){return 0<$(".article").find("ruby").length}function currentDocumentRubyAvailable(){return"true"===$("#hasRuby").val()}function showRubyOnForPage(){return"true"===$("#isRuby").val()}function enableRubyDocumentMenu(){return!0}function libraryHasRubyAsync(t,n){app.web.getJSON("/wol/li").done(function(e){e=e.items.some(function(e){return e.libs.some(function(e){return t===e.symbol&&!0===e.hasRuby})});n(e)}).fail(function(e){n(!1)})}function selectText(e){var t,n;iOS||iPadOS?((t=document.createRange()).selectNodeContents(e),(n=window.getSelection()).removeAllRanges(),n.addRange(t),e.setSelectionRange(0,999999)):e.select()}function copyToClipboard(e){var t=document.createElement("textarea");t.style.cssText="position: absolute; left: -9999px; top: -9999px;",t.readOnly=!0,t.contentEditable="true",t.value=e,document.body.appendChild(t),selectText(t),document.execCommand("copy"),document.body.removeChild(t)}function copyRichText(t){var n=stripHtml(t);function e(e){e.clipboardData.setData("text/html",t),e.clipboardData.setData("text/plain",n),e.preventDefault()}iOS||iPadOS?copyToClipboard(n):(document.addEventListener("copy",e),copyToClipboard(n),document.removeEventListener("copy",e))}function stripHtml(e){e=e.replace(/<rt>.*?<\/rt>/g,"");var t=document.createElement("div");return t.innerHTML=e,t.textContent||t.innerText||""}function getVideoPlayerHeight(){return $("#regionMain.hasVideoPlayer #videoWrapper").height()||0}function leftPad(e,t){for(var n=e+"";n.length<t;)n="0"+n;return n}function getWeekNumber(e){(e=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate()))).setUTCDate(e.getUTCDate()+4-(e.getUTCDay()||7));var t=new Date(Date.UTC(e.getUTCFullYear(),0,1)),t=Math.ceil(((e-t)/864e5+1)/7);return[e.getUTCFullYear(),t]}function getDateString(e){return e.getFullYear()+"-"+("00"+(e.getMonth()+1)).slice(-2)+"-"+("00"+e.getDate()).slice(-2)}app.isTouchDevice=isTouchDevice,app.isPointerDevice=isPointerDevice,app.isIEOlderThan11=isIEOlderThan11,app.iOS=iOS,app.Android=Android,app.WindowsPhone=WindowsPhone,app.iPadOS=iPadOS,app.hasPositionFixedProblem=hasPositionFixedProblem,app.getUILanguage=getUILanguage,app.getRsConfigSymbol=getRsConfigSymbol,app.getLibrarySymbol=getLibrarySymbol,app.getLibraryLanguageSymbol=getLibraryLanguageSymbol,app.getLibraryLanguageScript=getLibraryLanguageScript,app.getLibraryDir=getLibraryDir,app.isLibraryRTL=isLibraryRTL,app.getLibraryLanguageName=getLibraryLanguageName,app.getLibraryLocale=getLibraryLocale,app.getLibraryTitle=getLibraryTitle,app.getLibraryIsPrivileged=getLibraryIsPrivileged,app.getContentUILanguage=getContentUILanguage,app.getContentRsConfigSymbol=getContentRsConfigSymbol,app.getContentLibrarySymbol=getContentLibrarySymbol,app.getContentLibraryLanguageSymbol=getContentLibraryLanguageSymbol,app.getContentLibraryLanguageScript=getContentLibraryLanguageScript,app.getContentLibraryDir=getContentLibraryDir,app.isContentLibraryRTL=isContentLibraryRTL,app.getCommand=getCommand,app.getVerseNumberFromIDAttribute=getVerseNumberFromIDAttribute,app.getChapterNumberFromIDAttribute=getChapterNumberFromIDAttribute,app.getBookNumberFromIDAttribute=getBookNumberFromIDAttribute,app.getParagraphIDFromIDAttribute=getParagraphIDFromIDAttribute,app.isDocument=isDocument,app.getDID=getDID,app.getDocumentDescription=getDocumentDescription,app.isBibleDocument=isBibleDocument,app.isBibleBookDocument=isBibleBookDocument,app.isBiblePublication=isBiblePublication,app.isSearchResultsPage=isSearchResultsPage,app.isDocumentWithSearchHits=isDocumentWithSearchHits,app.isDocumentWithImages=isDocumentWithImages,app.parseBibleDocumentURL=parseBibleDocumentURL,app.parsePublicationURL=parsePublicationURL,app.hasDocumentContent=hasDocumentContent,app.transcribeUreLinks=transcribeUreLinks,app.loadPage=loadPage,app.cookiesEnabled=cookiesEnabled,app.getMRULibraries=getMRULibraries,app.fontSizeManager=fontSizeManager,app.normalizeText=normalizeText,app.isFeatureEnabled=isFeatureEnabled,app.enableFeature=enableFeature,app.disableFeature=disableFeature,app.isFeatureSet=isFeatureSet,app.hasAudio=hasAudio,app.audioPlayerVisible=shouldShowAudioPlayer(),app.audioPlayerSetup=audioPlayerSetup,app.isFallbackAudio=isFallbackAudio,app.isIE=isIE,app.isEdge=isEdge,app.isChrome=isChrome,app.isOpera=isOpera,app.isJscriptGt4=isJscriptGt4,app.isHTTPS=isHTTPS,app.pubMediaServer=getPubMediaServer,app.getPubSym=getPubSym,app.getAudioPubSym=getAudioPubSym,app.getLangSym=getLangSym,app.getPubYear=getPubYear,app.getIssue=getIssue,app.getIssueDate=getIssueDate,app.getIssueSymbol=getIssueSymbol,app.getDocumentDescriptionSubstitute=getDocumentDescriptionSubstitute,app.getBookNumber=getBookNumber,app.getChapterNumber=getChapterNumber,app.getTodayDate=getTodayDate,app.getTodayWeek=getTodayWeek,app.getShareBaseUrl=getShareBaseUrl,app.getShareType=getShareType,app.getContentTitle=getContentTitle,app.getContentParentTitle=getContentParentTitle,app.getContentThumbnailUrl=getContentThumbnailUrl,app.getSourcePreferredBible=getSourcePreferredBible,app.localizeNumber=localizeNumber,app.lastClickEvent=null,app.getInsightApiUrl=getInsightApiUrl,app.getSelectedSearchCategories=getSelectedSearchCategories,app.isSubsetSelectedSearchCategories=isSubsetSelectedSearchCategories,app.utilities={isOldSafari:isOldSafari,getScrollPositionFormatStrings:getScrollPositionFormatStrings,getAllVerseSegmentsFromIDAttribute:getAllVerseSegmentsFromIDAttribute,getSelectedText:getSelectedText,getSelectedTextContainers:getSelectedTextContainers,multiSegmentSelectionEnabled:multiSegmentSelectionEnabled,getCharacterPosition:getCharacterPosition,getTextNodes:getTextNodes,getParagraphById:getParagraphById,updateFontSize:updateFontSize,articleHasVerses:articleHasVerses,getContentAreaMargins:getContentAreaMargins,loadJSFile:loadJSFile,isContentLibraryHTML5:isContentLibraryHTML5,roundToNearest:roundToNearest,roundDown:roundDown,getVerseNumberObject:getVerseNumberObject,isFromTouch:isFromTouch,isBibleNav:isBibleNav,isDefaultBible:isDefaultBible,isPublicationNav:isPublicationNav,isLibraryNav:isLibraryNav,isGalleryNav:isGalleryNav,isTodayPage:isTodayPage,getFirstActionableIdInScope:getFirstActionableIdInScope,audioContinuousPlayEnabled:shouldContinuousPlayAudio(),getFirstIdMatchingVerseNumber:getFirstIdMatchingVerseNumber,getSearchProximity:getSearchProximity,getSearchRank:getSearchRank,getVideoResolution:getVideoResolution,setVideoResolution:setVideoResolution,setupAsyncPartialPageLoad:setupAsyncPartialPageLoad,isSignLanguage:isSignLanguage,externalizeLinks:externalizeArticleLinks,rubyAvailable:rubyAvailable,rubyVisible:rubyVisible,currentDocumentRubyAvailable:currentDocumentRubyAvailable,enableRubyDocumentMenu:enableRubyDocumentMenu,showRubyOnForPage:showRubyOnForPage,libraryHasRubyAsync:libraryHasRubyAsync,copyToClipboard:copyToClipboard,copyRichText:copyRichText,stripHtml:stripHtml,getVideoPlayerHeight:getVideoPlayerHeight,leftPad:leftPad,getWeekNumber:getWeekNumber,getDateString:getDateString}}(jQuery,window,app=app||{}),!function(t){t.fn.pointLink=function(a,o){var r=null;function n(e){var t,n,i=this.href||e.target.href||e.currentTarget.href;return!o(i)||(e._clickorhoverlink_FromTouch=r,a(i,(n=i=0,(t=(t=e).clientX&&t.clientY?t:t.originalEvent).pageX||t.pageY?(i=t.pageX,n=t.pageY):(t.clientX||t.clientY)&&(i=t.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,n=t.clientY+document.body.scrollTop+document.documentElement.scrollTop),{x:i,y:n}),e),!1)}var e=t(this).find('a:not([role="navigation"] a, .selectionList a, .noTooltips a, a.noTooltips, .itemCaption a, .search a, .topic a, .caption a, a.galleryItem, .docNav a, a.fb)');return e.on("touchstart",function(e){null==r&&(r=!0)}),e.on("pointerover",function(e){var t;return t=e,!!(r=r||"touch"===t.originalEvent.pointerType||"pen"===t.originalEvent.pointerType)||n(e)}),e.on("pointerup",function(e){return!r||n(e)}),e.on("pointercancel",function(e){return!(r=!1)}),e.on("click",function(e){e=this.href||e.target.href||e.currentTarget.href;return!o(e)||!r}),this}}(jQuery),!function(y){y.fn.insertTag=function(e,t,n,i,a){function o(e){return y.support.leadingWhitespace?e:e.replace(/^ /,"&#xA0;")}r=this,l=y(),0<(r=y(r)).length&&function e(t){var n;if(3===t.nodeType)"\n"!==t.nodeValue&&l.push(t);else for(n=0;n<t.childNodes.length;n++)e(t.childNodes[n])}(r[0]);for(var r,l,s,u,c,d,p,g=l,h=g.length,f=0,m=0;m<h;m++){if(d=(s=y(g[m])).text(),u=e-f,e<f+d.length){t<f+d.length?d===d.substr(u,(c=t-f)-u)&&d.length===s.parent().text().length?s.parent().addClass(a):(p=o(d.substr(0,u)),p=(p=(p=(p+=n)+o(d.substr(u,c-u)))+i)+o(d.substr(c)),s.replaceWith(p)):d===d.substr(u)&&d.length===s.parent().text().length?s.parent().addClass(a):(p=o(d.substr(0,u)),p=(p=(p+=n)+o(d.substr(u)))+i,s.replaceWith(p)),f+=d.length,m++;break}f+=d.length}for(;m<h;m++)if(d=(s=y(g[m])).text(),f<t){if(t<f+d.length){if(d===d.substr(0,c)&&d.length===s.parent().text().length){s.parent().addClass(a);break}p=n,p=(p=(p+=o(d.substr(0,c=t-f)))+i)+o(d.substr(c)),s.replaceWith(p);break}d===s.parent().text()?s.parent().addClass(a):(p=n,p=(p+=o(d))+i,s.replaceWith(p)),f+=d.length}return this}}(jQuery),!function(a){a.fn.jumpTo=function(e,t){var n,i;return e=a.extend({marginTop:0,marginBottom:0,positionRatio:.05},e),0<this.length&&(n=a(this),e=(a(window).height()-e.marginTop-e.marginBottom)*e.positionRatio+e.marginTop,n.is(":visible")?i=n.offset().top:(n.removeClass("hidden").show(),i=n.offset().top,n.css("display","")),a("html, body").animate({scrollTop:i-(a("#regionMain").offset().top+e)},"fast",function(){var e=a.Event("jumptoend");a(document).trigger(e)}),!0)}}(jQuery),!function(d){"use strict";Modernizr.touchevents;function n(e){return"MSPointerDown"===e.type||"MSPointerUp"===e.type||"MSPointerMove"===e.type||"pointerdown"===e.type||"pointerup"===e.type||"pointermove"===e.type}function p(e){var t;return n(e)?(t=e.target.parentNode.offsetLeft,e.originalEvent.clientX-t):(t=e.target.parentNode.offsetLeft,e.originalEvent.touches&&0<e.originalEvent.touches.length?e.originalEvent.touches[0].pageX-window.scrollX-t:e.originalEvent.changedTouches[0].pageX-window.scrollX-t)}function g(e){var t;return n(e)?(t=e.target.parentNode.offsetTop,e.originalEvent.clientY-t):(t=e.target.parentNode.offsetTop,e.originalEvent.touches&&0<e.originalEvent.touches.length?e.originalEvent.touches[0].pageY-window.scrollY-t:e.originalEvent.changedTouches[0].pageY-window.scrollY-t)}var e,h=!1;(e=navigator.userAgent.match(/(?:iPad|iPhone|iPod);.*?OS (\d+)_/i))&&(e=Number(e[1]),h=e<=5);d.fn.singleclickortap=function(){var e,t,i,a,o,r,l,s,u,n=0,c=("string"==typeof arguments[n]&&(e=arguments[n],n++),"function"==typeof arguments[n+1]&&(t=arguments[n],n++),"function"==typeof arguments[n]&&(i=arguments[n],n++),"object"==typeof arguments[n]&&(c=arguments[n],n++),d.extend({hasTimeout:!0,acceptableClickRange:20},c));return h?this.on("click",e,t,i):app.isPointerDevice?(a=!1,o=null,this.on("pointerdown",e,t,function(e){a=!1,window.clearTimeout(o),o=setTimeout(function(){a=!0,o=null},1e3),r=p(e),l=g(e)}).on("pointerup",e,t,function(e){window.clearTimeout(o),o=null;var t=p(e),n=g(e),t=Math.abs(t-r),n=Math.abs(n-l);!a&&t<c.acceptableClickRange&&n<c.acceptableClickRange&&i(e)})):(s=0,this.on("mousedown",e,t,function(e){u=e}).on("click",e,t,function(e){var t,n;u=u||e,1===++s&&(t=Math.abs(e.clientX-u.clientX),n=Math.abs(e.clientY-u.clientY),c.hasTimeout?setTimeout(function(){1===s&&t<c.acceptableClickRange&&n<c.acceptableClickRange&&i(e),s=0},300):(1===s&&t<c.acceptableClickRange&&n<c.acceptableClickRange&&i(e),s=0))})),this}}(jQuery),!function(u,c){"use strict";var a=250,o=3e3,r=null,i=[],l={},d={fetchOptions:{credentials:"include"}},p=MediaPlayer.playlists.BasePlaylist.extend({init:function(e,t){this._playlist=e,this._segments=t},_loadItemsImpl:function(){return Promise.resolve(this._playlist._items)},getItemAt:function(e){var t,n=this._segments[e];return n&&(t=this._playlist.getItemAt(n.index))?(t.segment=n,t.setSegmentStartEnd=this.setSegmentStartEnd.bind(this,e),t):null},getNumberOfItems:function(){return this._segments.length},setSegments:function(e){this._segments=e},setSegmentStartEnd:function(e,t,n){isNaN(t)&&(t=0),this._segments[e].start=t,isNaN(n)&&(n=Number.MAX_VALUE),this._segments[e].end=n}}),g=MediaPlayer.behaviors.BaseBehavior.extend({bind:function(e){e._playedIndexes=[],this._boundItemChangedHandler=this._useItemSegmentIfExists.bind(this,e),e.on("currentItemChanged",this._boundItemChangedHandler)},respondToOutOfBoundsQueueItemRequest:function(e,t,n){return e.pause(),0},unbind:function(e){e.off("currentItemChanged",this._boundItemChangedHandler)},_boundItemChangedHandler:null,_useItemSegmentIfExists:function(n,e){function t(e,t){t&&t.segment?t.segment.inSegment&&e>=t.segment.end?(t.segment.playNextItem?n.nextItem():(n.pause(),i()),t.setSegmentStartEnd()):t.segment.start<=e&&e<=t.segment.end&&(t.segment.inSegment=!0):i()}function i(){n.off("timeChanged",t),n.off("seekStarted",i),n.off("currentItemChanged",i)}e&&e.segment&&(0!==e.segment.start||e.segment.end!==Number.MAX_VALUE)&&n.once("timeChanged",function(){e.segment&&(n.on("timeChanged",t),n.once("seekStarted",function(){n.once("seekStarted",i)}),n.once("currentItemChanged",i),n.seek(e.segment.start))})}});function s(e,t,n,i){var a=e.getPlaylist();return null!=a.getItemAt(t)&&(a=new p(a,[{index:t,start:n,end:i,playNextItem:!1}])),e.changePlaylistSynchronously(a)}function n(e){var t,n,i,a=Math.floor(e/3600),o=Math.floor((e-3600*a)/60),e=e-3600*a-60*o;return((t=a<10?"0"+a:t)||a)+":"+((n=o<10?"0"+o:n)||o)+":"+((i=e<10?"0"+e:i)||e)}function h(e){e=e.split(":");var t=parseInt(e[0],10),n=parseInt(e[1],10),e=parseFloat(e[2]);return 3600*t+60*n+Math.trunc(1e3*e)/1e3}function f(e){var t=document.createElement("textarea");return t.innerHTML=e,t.value}function m(i,e,a){var t=i.data("jsonSrc"),o=i.data("imgSrc"),r=(a&&a.forEach(function(e){e.duration=n(e.duration),e.startTime=n(e.startTime)}),new MediaPlayer.playlists.PubMedia(t,d));return r.loadItems().then(function(e){e.forEach(function(e){null!=o&&e.setPosterURL(o),null!=a&&e.setMarkers(a)});var t=MediaPlayer.builderFor("video").setPlaylist(r).addBehavior(new g).setSourceSelectionFn(function(e){var t=c.utilities.getVideoResolution();return e.find(function(e){return e.getResolution()===parseInt(t,10)})}),n=(t=(t=null!=o?t.setDefaultPoster(o):t).build(i.get(0)),u.Deferred());return t.once("ready",function(){n.resolve(t)}),n}).then(function(e){return e.getImplementation().on("qualitySelected",function(e,t){c.utilities.setVideoResolution(t.label)}),y(e),e}).catch(function(e){C(i)})}function e(n){n="object"==typeof n?n.getDOMElement().id:n,Object.keys(i).forEach(function(e){var t=i[e];u.contains(document,t.getDOMElement())&&(null==n||t.getDOMElement().id!==n)||(t.destroy(),delete i[e])}),i=i.filter(function(e){return e})}function y(t){e(),t&&(t.on("itemPlaying",function(){i.forEach(function(e){e!==t&&e.pause()})}),i.push(t))}function b(e,t,n,i){var a,o;(i=i&&c.utilities.isSignLanguage())?(i=e,a=t,o=n,c.utilities.isSignLanguage()&&i.setMuted(!0),s(i,0,a,o).playItemAt(0)):s(e,0,t,n)}function v(e,t){var n=(n=t.map(function(e,t){return c.isBibleDocument()?u(t).find("[id^=v]").addBack("[id^=v]").map(function(e,t){t=u(t).attr("id");return c.getVerseNumberFromIDAttribute(t)}).get():(t=c.utilities.getFirstActionableIdInScope(!1,[t]),c.getParagraphIDFromIDAttribute(t))}).get()).filter(function(e,t){return this.indexOf(e)===t},n),i=[];n.forEach(function(e){null!=l[e]&&i.push(l[e])}),0<i.length?(i.sort(function(e,t){return parseFloat(e.startTime)-parseFloat(t.startTime)}),b(e,h(i[0].startTime),h((n=i[i.length-1]).startTime)+h(n.duration),!0)):0<t.length&&null!=r&&u(r.getDOMElement()).parent().find(".noMarkerNotice").hide().removeClass("hidden").fadeIn(a).delay(o/2).fadeOut(o/2)}function C(e){u(e.selector).hide().parent().find(".videoErrorNotice").hide().removeClass("hidden").fadeIn(a)}function w(e){var t;e.hasClass("constrainedHeight")?e.css("height","100%"):(t=parseInt(e.width(),10),t=Math.ceil(9*t/16),t+=e.innerHeight()-e.height(),e.css("height",t+"px"),e.trigger("videoResize"))}function S(){var e;return null!=r&&0<(e=u(this).closest("[id^=v]")).length&&(e=e.attr("id"),e=c.utilities.getAllVerseSegmentsFromIDAttribute(e),r.pause(),v(r,e)),!1}c.video={setupVideoPlaceHolder:function(){var e=u("#article"),t=e.find("video");t.each(function(e,t){var n=u(t.outerHTML.replace(/^<video/,"<div").replace(/video>$/,"div>")).addClass("videoContainer");u(t).after(n)}),t.remove(),e.find(".videoContainer").each(function(e,t){t=u(t).addClass("videoPlayerHolder").addClass("placeholder");w(t),w(t)})},setupEmbeddedVideoPlayer:function(e){u(e).find(".videoContainer").each(function(e){var i=this,t=u(this);w(t),m(t).then(function(){var t,n="resize orientationchange";u(window).on(n,function e(){clearTimeout(t),u.contains(document,i)?t=setTimeout(function(){w(u(i))},100):u(window).off(n,e)})})}).removeClass("videoContainer")},destroyPlayers:e,setupSharedPlayer:function(){var e,t,n,i=u("#videoUrl");0<i.length&&(e=u("#videoWrapper"),n=i.data("jsonSrc"),i=i.data("imgSrc"),""!==n&&(u("#regionHeader, #regionMain").addClass("hasVideoPlayer"),(t=e.find("#playerShared")).data("jsonSrc",n).data("imgSrc",i).addClass("videoPlayerHolder").addClass("placeholder").addClass("constrainedHeight"),0<(n=u("#videoMarkers")).length&&(l=n.data("jsonMarkers")),e.hide().removeClass("hidden").fadeIn(a),m(t,0,_.values(l)).then(function(t){var e;if(null!=t)return t.on("timeChanged",function(e,t,n){n&&.1<e&&c.mediaMarker.updateVideoPosition(n)}).on("markerStarted",function(e){0<e.startTimeInSeconds&&c.mediaMarker.updateVideoPosition(e);setTimeout(function(){t.isPlaying()||c.mediaMarker.clearMarkers()},1e3)}).on("playbackPaused",function(){c.mediaMarker.clearMarkers()}),u(document).on("texthighlighted",function(e){t.pause(),c.mediaMarker.autoScrollEnabled=!0,v(t,e.$items)}),u(document).on("textunhighlighted",function(){t.pause()}),e=c.highlightManager.getHighlightedElements(),v(t,e),u("#article.bible").find(".cl, .vl").on("click",S),w(u("#playerShared")),r=t})))},setupTooltipPlayer:function e(t,n,i,a){var o,r,l,s;1<u("[id="+t+"]").length?setTimeout(function(){e(t,n,i,a)},10):(w(o=u("#"+t)),0!==(r=o.data("playlist")).length&&(l=r.map(function(e){var t;return e=(e=new MediaPlayer.playlists.PubMedia(f(e.jsonSrc),d)).loadItems(),t=u.Deferred(),e.then(function(e){t.resolve(e)}).catch(function(e){t.reject(e)}),t}),null!=(s=r.find(function(e){return!!e.imgSrc}))&&(s=f(s)),u.when.apply(u,l).then(function(){var e=[].slice.call(arguments),e=[].concat.apply([],e);return new MediaPlayer.playlists.BasePlaylist(e,d)},function(e){C(o)}).then(function(n){(r=r.map(function(e,t){return{index:t,start:e.startTime,end:e.startTime+e.duration,playNextItem:!0}}))[r.length-1].playNextItem=!1,(n=new p(n,r)).loadItems().then(function(){var e=MediaPlayer.builderFor("video").setPlaylist(n).addBehavior(new g).setSourceSelectionFn(function(e){return e.sort(function(e,t){return e.getResolution()>t.getResolution()})[0]}),t=(e=(e=null!=s?e.setDefaultPoster(s):e).build(o.get(0)),u.Deferred());return e.once("ready",function(){t.resolve(e)}),t}).then(function(e){return y(e),a&&(c.utilities.isSignLanguage()&&e.setMuted(!0),e.play()),e}).catch(function(e){C(o)})},function(e){C(o)})))},findPlayingPlayers:function(t){return t=u(t=t||"body"),i.filter(function(e){return e.isPlaying()&&t.find(e.getDOMElement())})},timeChangeDebounceTime:.1}}(jQuery,app),!function(u){u.fn.wolTooltip=function(e,t,n,r){r=u.extend({},r);var l,i=u(this),s=u("<div/>").addClass(n).attr("dir",r.rtl?"rtl":"ltr"),n=navigator.pointerEnabled,n=(navigator.userAgent.match(/(iPad|iPhone|iPod);/i),!!(navigator.userAgent.match(/IEMobile/)||navigator.userAgent.match(/Trident/)&&n)&&(s.css("overflow-y","auto"),u(document).css("overflow-y","auto")),u(".tooltip").each(function(){u(this).hide().find(".closeBtn").trigger("click")}),l=s.append(i).window({complete:function(){u(r.target).off(".tooltip"),l=void 0,r.complete&&r.complete()},rendered:function(){app.images.placeholders();var e=u(".tooltipContainer");app.video.setupEmbeddedVideoPlayer(e),u(i).find("a.galleryItem").on("click",function(e){e.preventDefault(),i.find(".closeBtn").trigger("click"),app.gallery.handleGalleryItem.call(this,e)})},css:{top:t,left:e},modal:!1,rtl:r.rtl,parent:u(r.target).closest("#regionMain")}),s.on("mouseenter",function(e){s.on("wheel",function(e,t){var n=u(this);return!(0<t&&n.prop("scrollTop")<=0)&&(!(t<0&&n.prop("scrollTop")+n.prop("offsetHeight")>=n.prop("scrollHeight"))&&void 0)})}),l.form.find(".closeBtn").on("click",function(){l&&l.close()}),"scroll.tooltip pointermove.tooltip pointerenter.tooltip pointerdown.tooltip pointerover.tooltip wheel.tooltip");return u(r.target).on(n,function(e){e.stopPropagation()}),s.on(n,function(e){e.stopPropagation()}),u(document).on("scroll.tooltip mousewheel.tooltip pointermove.tooltip pointerdown.tooltip",function(e){var t=e.originalEvent&&e.originalEvent.pointerType&&"mouse"===e.originalEvent.pointerType,n="scroll"===e.type,i="pointerdown"===e.type,a="pointermove"===e.type,o=t&&a||n||!t&&!a||i;l&&o?setTimeout(function(){var e=u(r.target).is(":hover")||s.is(":hover");l&&(o&&(!e&&t||n&&!e&&t||!t&&!n||i))&&(0<app.video.findPlayingPlayers(l.form).length&&a||l.close())},500):0===u(".tooltip").length&&u(document).off(".tooltip")}),this}}(jQuery),!function(h,f){"use strict";f.typingSuggestionList={typingSuggestionList:function(n,a,o,r,l){var s,u,c,d=0,p=h("<div/>");function i(){r.fadeOut(function(){c=u=s=void 0,l.hideComplete()})}function g(e){var t,i;h.trim(e).length&&(i=++d,(t=e)&&f.web.getNoSessionDialogJSON(n(t)).done(function(e){var n;i<d||0===e.items.length||(s=e.items,u=-1,c=t,n="<ul>",h.each(s,function(e,t){this.label?n+='<li data-index="'+e+'">'+this.caption+' <span class="caption">'+this.label+"</span></li>":n+='<li data-index="'+e+'">'+this.caption+"</li>"}),n+="</ul>",p.html(n),p.find("li").on("click",function(){location.href=a(s[h(this).data("index")])}),p.find("li").on("mouseenter",function(){var e=p.find("li");e.removeClass("sgSel"),u=e.index(this),h(this).addClass("sgSel")}),e=o[0].getBoundingClientRect(),r.css({width:o.innerWidth(),left:e.left,top:e.top+o.height()}),r.removeClass("hidden").show(),l.showComplete())}))}function t(e){var t=o.val();0===t.length||-1!==o.val().indexOf(";")?i():9!==(e=e)&&13!==e&&27!==e&&37!==e&&38!==e&&39!==e&&40!==e&&g(t)}return l=h.extend({showComplete:function(){},hideComplete:function(){}},l),r.append(p),o.on("keydown",function(e){return 13!==(e=e.keyCode)?27===e?(s?(o.val(c),i()):o.val(""),!1):9===e||38===e||40===e?!s||(-1<u&&p.find("li").eq(u).removeClass("sgSel"),38===e?-1===u?u=s.length-1:--u:9!==e&&40!==e||(u===s.length-1?u=-1:u+=1),-1===u?o.val(c):(p.find("li").eq(u).addClass("sgSel"),o.val(s[u].query)),!1):void 0:s&&-1!==u?(p.find("li").eq(u).trigger("click"),!1):void 0}).on("keyup",function(e){t(e.keyCode)}).on("blur",function(){i()}),o}}}(jQuery,app),!function(f){f.fn.window=function(i){var a,e,t,o=f(window).height(),n=f(window).width(),r=f(document).scrollLeft(),l=f(document).scrollTop(),s=f(document).height(),u=f(document).width();function c(){o=f(window).height(),n=f(window).width(),r=f(document).scrollLeft(),l=f(document).scrollTop(),s=f(document).height(),u=f(document).width()}function d(){a.fadeOut({duration:"fast",always:function(){a.remove(),a=void 0}}),i.modal&&e.fadeOut({duration:"fast",always:function(){e.remove(),e=void 0}}),f(document).off("keyup",t),i.complete()}function p(){var e=a;if(i.css.top){var t=o/2+l,n=l+o;if(i.css.top+e.outerHeight()<n)return i.css.top+i.offset;if(i.css.top-e.outerHeight()>l)return i.css.top-e.outerHeight()-i.offset;n=o/2-2*i.offset;return e.children().first().height(n),t>i.css.top?i.css.top+i.offset:i.css.top-n-i.offset}return l+o/2-e.outerHeight()/2}function g(){return i.css.left?i.rtl?i.css.left-a.outerWidth()<r?r:i.css.left-a.outerWidth():i.css.left+a.outerWidth()+i.offset>r+n?r+n-a.outerWidth()-i.offset:i.css.left+i.offset:r+n/2-a.outerWidth()/2}t=function(e){(27===e.keyCode||13===e.keyCode&&i.ok())&&d()},(i=f.extend({ok:function(){return!0},css:{},init:function(){},complete:function(){},rendered:function(){},offset:12,modal:!0,modalTransparency:.2,rtl:!1},i)).css=f.extend({width:"auto",height:"auto"},i.css),this.css(i.css),a=this.wrapAll("<div/>").parent().wrapAll('<div class="tooltipContainer" />').parent().css({position:"absolute","z-index":999,overflow:"visible",height:"auto"}),i.modal&&(e=f("<div/>").css({position:"absolute","z-index":998,height:s,width:u,top:0,left:0,background:"black"}).on("touchstart touchmove touchend MSPointerDown MSPointerMove MSPointerUp",function(e){e.stopPropagation()}).on("click",function(e){d()})),f(document).on("keyup",t),f(window).on("resize",function(){c(),a&&a.css({top:p(),left:g()}),e&&e.css({height:s,width:u,top:0,left:0}),i.rendered()});var h=f("body");return i.parent&&(h=f(i.parent)),i.modal&&e.appendTo(h).fadeTo(0,i.modalTransparency),c(),a.appendTo(h).css({top:p(),left:g()}).fadeIn("fast",i.init),i.rendered(),{close:d,form:a}}}(jQuery),!function(){"use strict";var t=0,o={};function n(e){if(!e)throw new Error("No options passed to Waypoint constructor");if(!e.element)throw new Error("No element option passed to Waypoint constructor");if(!e.handler)throw new Error("No handler option passed to Waypoint constructor");this.key="waypoint-"+t,this.options=n.Adapter.extend({},n.defaults,e),this.element=this.options.element,this.adapter=new n.Adapter(this.element),this.callback=e.handler,this.axis=this.options.horizontal?"horizontal":"vertical",this.enabled=this.options.enabled,this.triggerPoint=null,this.group=n.Group.findOrCreate({name:this.options.group,axis:this.axis}),this.context=n.Context.findOrCreateByElement(this.options.context),n.offsetAliases[this.options.offset]&&(this.options.offset=n.offsetAliases[this.options.offset]),this.group.add(this),this.context.add(this),o[this.key]=this,t+=1}n.prototype.queueTrigger=function(e){this.group.queueTrigger(this,e)},n.prototype.trigger=function(e){this.enabled&&this.callback&&this.callback.apply(this,e)},n.prototype.destroy=function(){this.context.remove(this),this.group.remove(this),delete o[this.key]},n.prototype.disable=function(){return this.enabled=!1,this},n.prototype.enable=function(){return this.context.refresh(),this.enabled=!0,this},n.prototype.next=function(){return this.group.next(this)},n.prototype.previous=function(){return this.group.previous(this)},n.invokeAll=function(e){var t,n=[];for(t in o)n.push(o[t]);for(var i=0,a=n.length;i<a;i++)n[i][e]()},n.destroyAll=function(){n.invokeAll("destroy")},n.disableAll=function(){n.invokeAll("disable")},n.enableAll=function(){for(var e in n.Context.refreshAll(),o)o[e].enabled=!0;return this},n.refreshAll=function(){n.Context.refreshAll()},n.viewportHeight=function(){return window.innerHeight||document.documentElement.clientHeight},n.viewportWidth=function(){return document.documentElement.clientWidth},n.adapters=[],n.defaults={context:window,continuous:!0,enabled:!0,group:"default",horizontal:!1,offset:0},n.offsetAliases={"bottom-in-view":function(){return this.context.innerHeight()-this.adapter.outerHeight()},"right-in-view":function(){return this.context.innerWidth()-this.adapter.outerWidth()}},window.Waypoint=n}(),!function(){"use strict";function t(e){window.setTimeout(e,1e3/60)}var n=0,i={},g=window.Waypoint,e=window.onload;function a(e){this.element=e,this.Adapter=g.Adapter,this.adapter=new this.Adapter(e),this.key="waypoint-context-"+n,this.didScroll=!1,this.didResize=!1,this.oldScroll={x:this.adapter.scrollLeft(),y:this.adapter.scrollTop()},this.waypoints={vertical:{},horizontal:{}},e.waypointContextKey=this.key,i[e.waypointContextKey]=this,n+=1,g.windowContext||(g.windowContext=!0,g.windowContext=new a(window)),this.createThrottledScrollHandler(),this.createThrottledResizeHandler()}a.prototype.add=function(e){var t=e.options.horizontal?"horizontal":"vertical";this.waypoints[t][e.key]=e,this.refresh()},a.prototype.checkEmpty=function(){var e=this.Adapter.isEmptyObject(this.waypoints.horizontal),t=this.Adapter.isEmptyObject(this.waypoints.vertical),n=this.element==this.element.window;e&&t&&!n&&(this.adapter.off(".waypoints"),delete i[this.key])},a.prototype.createThrottledResizeHandler=function(){var e=this;function t(){e.handleResize(),e.didResize=!1}this.adapter.on("resize.waypoints",function(){e.didResize||(e.didResize=!0,g.requestAnimationFrame(t))})},a.prototype.createThrottledScrollHandler=function(){var e=this;function t(){e.handleScroll(),e.didScroll=!1}this.adapter.on("scroll.waypoints",function(){e.didScroll&&!g.isTouch||(e.didScroll=!0,g.requestAnimationFrame(t))})},a.prototype.handleResize=function(){g.Context.refreshAll()},a.prototype.handleScroll=function(){var e,t,n={},i={horizontal:{newScroll:this.adapter.scrollLeft(),oldScroll:this.oldScroll.x,forward:"right",backward:"left"},vertical:{newScroll:this.adapter.scrollTop(),oldScroll:this.oldScroll.y,forward:"down",backward:"up"}};for(e in i){var a,o=i[e],r=o.newScroll>o.oldScroll?o.forward:o.backward;for(a in this.waypoints[e]){var l,s,u=this.waypoints[e][a];null!==u.triggerPoint&&(l=o.oldScroll<u.triggerPoint,s=o.newScroll>=u.triggerPoint,(l&&s||!l&&!s)&&(u.queueTrigger(r),n[u.group.id]=u.group))}}for(t in n)n[t].flushTriggers();this.oldScroll={x:i.horizontal.newScroll,y:i.vertical.newScroll}},a.prototype.innerHeight=function(){return this.element==this.element.window?g.viewportHeight():this.adapter.innerHeight()},a.prototype.remove=function(e){delete this.waypoints[e.axis][e.key],this.checkEmpty()},a.prototype.innerWidth=function(){return this.element==this.element.window?g.viewportWidth():this.adapter.innerWidth()},a.prototype.destroy=function(){var e,t=[];for(e in this.waypoints)for(var n in this.waypoints[e])t.push(this.waypoints[e][n]);for(var i=0,a=t.length;i<a;i++)t[i].destroy()},a.prototype.refresh=function(){var e,t,n=this.element==this.element.window,i=n?void 0:this.adapter.offset(),a={};for(t in this.handleScroll(),e={horizontal:{contextOffset:n?0:i.left,contextScroll:n?0:this.oldScroll.x,contextDimension:this.innerWidth(),oldScroll:this.oldScroll.x,forward:"right",backward:"left",offsetProp:"left"},vertical:{contextOffset:n?0:i.top,contextScroll:n?0:this.oldScroll.y,contextDimension:this.innerHeight(),oldScroll:this.oldScroll.y,forward:"down",backward:"up",offsetProp:"top"}}){var o,r=e[t];for(o in this.waypoints[t]){var l,s=this.waypoints[t][o],u=s.options.offset,c=s.triggerPoint,d=0,p=null==c;s.element!==s.element.window&&(d=s.adapter.offset()[r.offsetProp]),"function"==typeof u?u=u.apply(s):"string"==typeof u&&(u=parseFloat(u),-1<s.options.offset.indexOf("%")&&(u=Math.ceil(r.contextDimension*u/100))),l=r.contextScroll-r.contextOffset,s.triggerPoint=Math.floor(d+l-u),d=c<r.oldScroll,l=s.triggerPoint>=r.oldScroll,u=!d&&!l,!p&&(d&&l)?(s.queueTrigger(r.backward),a[s.group.id]=s.group):(!p&&u||p&&r.oldScroll>=s.triggerPoint)&&(s.queueTrigger(r.forward),a[s.group.id]=s.group)}}return g.requestAnimationFrame(function(){for(var e in a)a[e].flushTriggers()}),this},a.findOrCreateByElement=function(e){return a.findByElement(e)||new a(e)},a.refreshAll=function(){for(var e in i)i[e].refresh()},a.findByElement=function(e){return i[e.waypointContextKey]},window.onload=function(){e&&e(),a.refreshAll()},g.requestAnimationFrame=function(e){(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||t).call(window,e)},g.Context=a}(),!function(){"use strict";function o(e,t){return e.triggerPoint-t.triggerPoint}function r(e,t){return t.triggerPoint-e.triggerPoint}var t={vertical:{},horizontal:{}},n=window.Waypoint;function i(e){this.name=e.name,this.axis=e.axis,this.id=this.name+"-"+this.axis,this.waypoints=[],this.clearTriggerQueues(),t[this.axis][this.name]=this}i.prototype.add=function(e){this.waypoints.push(e)},i.prototype.clearTriggerQueues=function(){this.triggerQueues={up:[],down:[],left:[],right:[]}},i.prototype.flushTriggers=function(){for(var e in this.triggerQueues){var t=this.triggerQueues[e];t.sort("up"===e||"left"===e?r:o);for(var n=0,i=t.length;n<i;n+=1){var a=t[n];!a.options.continuous&&n!==t.length-1||a.trigger([e])}}this.clearTriggerQueues()},i.prototype.next=function(e){this.waypoints.sort(o);e=n.Adapter.inArray(e,this.waypoints);return e===this.waypoints.length-1?null:this.waypoints[e+1]},i.prototype.previous=function(e){this.waypoints.sort(o);e=n.Adapter.inArray(e,this.waypoints);return e?this.waypoints[e-1]:null},i.prototype.queueTrigger=function(e,t){this.triggerQueues[t].push(e)},i.prototype.remove=function(e){e=n.Adapter.inArray(e,this.waypoints);-1<e&&this.waypoints.splice(e,1)},i.prototype.first=function(){return this.waypoints[0]},i.prototype.last=function(){return this.waypoints[this.waypoints.length-1]},i.findOrCreate=function(e){return t[e.axis][e.name]||new i(e)},n.Group=i}(),!function(){"use strict";var n=window.jQuery,e=window.Waypoint;function i(e){this.$element=n(e)}n.each(["innerHeight","innerWidth","off","offset","on","outerHeight","outerWidth","scrollLeft","scrollTop"],function(e,t){i.prototype[t]=function(){var e=Array.prototype.slice.call(arguments);return this.$element[t].apply(this.$element,e)}}),n.each(["extend","inArray","isEmptyObject"],function(e,t){i[t]=n[t]}),e.adapters.push({name:"jquery",Adapter:i}),e.Adapter=i}(),!function(){"use strict";var a=window.Waypoint;function e(i){return function(){var t=[],n=arguments[0];return i.isFunction(arguments[0])&&((n=i.extend({},arguments[1])).handler=arguments[0]),this.each(function(){var e=i.extend({},n,{element:this});"string"==typeof e.context&&(e.context=i(this).closest(e.context)[0]),t.push(new a(e))}),t}}window.jQuery&&(window.jQuery.fn.waypoint=e(window.jQuery)),window.Zepto&&(window.Zepto.fn.waypoint=e(window.Zepto))}(),!function(r){function o(e){var t=r(window),n=s.test(e[0].nodeName);return{border:n?{top:0,left:0,bottom:0,right:0}:i(e[0]),scroll:{top:(n?t:e).scrollTop(),left:(n?t:e).scrollLeft()},scrollbar:{right:n?0:e.innerWidth()-e[0].clientWidth,bottom:n?0:e.innerHeight()-e[0].clientHeight},rect:(t=e[0].getBoundingClientRect(),{top:n?0:t.top,left:n?0:t.left,bottom:n?e[0].clientHeight:t.bottom,right:n?e[0].clientWidth:t.right})}}var l={vertical:{x:!1,y:!0},horizontal:{x:!0,y:!1},both:{x:!0,y:!0},x:{x:!0,y:!1},y:{x:!1,y:!0}},n={direction:"both",topOffset:0},s=/^(?:html)$/i,i=function(e,t){t=t||(document.defaultView&&document.defaultView.getComputedStyle?document.defaultView.getComputedStyle(e,null):e.currentStyle);var n=!(!document.defaultView||!document.defaultView.getComputedStyle),i=parseFloat(n?t.borderTopWidth:r.css(e,"borderTopWidth"))||0,a=parseFloat(n?t.borderLeftWidth:r.css(e,"borderLeftWidth"))||0,o=parseFloat(n?t.borderBottomWidth:r.css(e,"borderBottomWidth"))||0,n=parseFloat(n?t.borderRightWidth:r.css(e,"borderRightWidth"))||0;return{top:i,left:a,bottom:o,right:n,vertical:i+o,horizontal:a+n}};function u(t,e,n){(t=s.test(t[0].nodeName)?r("html,body"):t).animate(e,n).eq(0).queue(function(e){r.isFunction(n.complete)&&n.complete.call(t[0]),e()})}function c(e){var t={};return 0<arguments.length&&("object"!=typeof e[0]?(t.duration=e[0],1<e.length&&(t.easing=e[1],2<e.length&&(t.complete=e[2]))):t=r.extend(t,e[0])),(t=r.extend({},n,t)).direction=l["string"==typeof t.direction&&t.direction.toLowerCase()]||l.both,!0===t.direction.x&&(t.direction.selector="horizontal"),!0===t.direction.y&&(t.direction.selector=t.direction.selector?"both":"vertical"),t}function e(){var e,t,n=c(arguments),i=this.eq(0),a=i.closest(":scrollable("+n.direction.selector+")");return 0<a.length&&(a=a.eq(0),i=o(i),e=o(a),i={top:i.rect.top-(e.rect.top+e.border.top)-parseInt(n.topOffset,10),bottom:e.rect.bottom-e.border.bottom-e.scrollbar.bottom-i.rect.bottom,left:i.rect.left-(e.rect.left+e.border.left),right:e.rect.right-e.border.right-e.scrollbar.right-i.rect.right},t={},!0===n.direction.y&&(i.top<0?t.scrollTop=e.scroll.top+i.top:0<i.top&&i.bottom<0&&(t.scrollTop=e.scroll.top+Math.min(i.top,-i.bottom))),!0===n.direction.x&&(i.left<0?t.scrollLeft=e.scroll.left+i.left:0<i.left&&i.right<0&&(t.scrollLeft=e.scroll.left+Math.min(i.left,-i.right))),r.isEmptyObject(t)?r.isFunction(n.complete)&&n.complete.call(a[0]):u(a,t,n)),this}function t(){var e,t,n,i=c(arguments),a=this.eq(0),o=a.closest(":scrollable(vertical)");return 0<o.length&&(o=o.eq(0),e=s.test(o[0].nodeName)?0:o.scrollTop(),t="HTML"===o.prop("tagName")?0:o.offset().top,(n={}).scrollTop=e+a.offset().top-parseFloat(a.css("margin-top"))-t-parseFloat(o.css("margin-top"))-parseFloat(o.css("padding-top"))-parseInt(i.topOffset,10),u(o,n,i)),this}r.fn.extend({scrollIntoView:e,scrollintoview:e,scrollToTop:t,scrolltotop:t});var d={auto:!0,overlay:!0,scroll:!0,visible:!1,hidden:!1};r.extend(r.expr[":"],{scrollable:function(e,t,n,i){var n=l["string"==typeof n[3]&&n[3].toLowerCase()]||l.both,a=document.defaultView&&document.defaultView.getComputedStyle?document.defaultView.getComputedStyle(e,null):e.currentStyle,o={x:d[a.overflowX.toLowerCase()]||!1,y:d[a.overflowY.toLowerCase()]||!1,isRoot:s.test(e.nodeName)};if(!o.x&&!o.y&&!o.isRoot)return!1;a={height:{scroll:e.scrollHeight,client:e.clientHeight},width:{scroll:e.scrollWidth,client:e.clientWidth},scrollableX:function(){return(o.x||o.isRoot)&&this.width.scroll>this.width.client},scrollableY:function(){return(o.y||o.isRoot)&&this.height.scroll>this.height.client}};return n.y&&a.scrollableY()||n.x&&a.scrollableX()}})}(jQuery),!function(){"use strict";var h={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[+-]/};function f(e){var t,n,i,a,o,r,l,s,u=function(e){if(m[e])return m[e];var t,n=e,i=[],a=0;for(;n;){if(null!==(t=h.text.exec(n)))i.push(t[0]);else if(null!==(t=h.modulo.exec(n)))i.push("%");else{if(null===(t=h.placeholder.exec(n)))throw new SyntaxError("[sprintf] unexpected placeholder");if(t[2]){a|=1;var o=[],r=t[2],l=[];if(null===(l=h.key.exec(r)))throw new SyntaxError("[sprintf] failed to parse named argument key");for(o.push(l[1]);""!==(r=r.substring(l[0].length));)if(null!==(l=h.key_access.exec(r)))o.push(l[1]);else{if(null===(l=h.index_access.exec(r)))throw new SyntaxError("[sprintf] failed to parse named argument key");o.push(l[1])}t[2]=o}else a|=2;if(3===a)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");i.push({placeholder:t[0],param_no:t[1],keys:t[2],sign:t[3],pad_char:t[4],align:t[5],width:t[6],precision:t[7],type:t[8]})}n=n.substring(t[0].length)}return m[e]=i}(e),c=arguments,d=1,p=u.length,g="";for(n=0;n<p;n++)if("string"==typeof u[n])g+=u[n];else if("object"==typeof u[n]){if((a=u[n]).keys)for(t=c[d],i=0;i<a.keys.length;i++){if(null==t)throw new Error(f('[sprintf] Cannot access property "%s" of undefined value "%s"',a.keys[i],a.keys[i-1]));t=t[a.keys[i]]}else t=a.param_no?c[a.param_no]:c[d++];if(h.not_type.test(a.type)&&h.not_primitive.test(a.type)&&t instanceof Function&&(t=t()),h.numeric_arg.test(a.type)&&"number"!=typeof t&&isNaN(t))throw new TypeError(f("[sprintf] expecting number but found %T",t));switch(h.number.test(a.type)&&(l=0<=t),a.type){case"b":t=parseInt(t,10).toString(2);break;case"c":t=String.fromCharCode(parseInt(t,10));break;case"d":case"i":t=parseInt(t,10);break;case"j":t=JSON.stringify(t,null,a.width?parseInt(a.width):0);break;case"e":t=a.precision?parseFloat(t).toExponential(a.precision):parseFloat(t).toExponential();break;case"f":t=a.precision?parseFloat(t).toFixed(a.precision):parseFloat(t);break;case"g":t=a.precision?String(Number(t.toPrecision(a.precision))):parseFloat(t);break;case"o":t=(parseInt(t,10)>>>0).toString(8);break;case"s":t=String(t),t=a.precision?t.substring(0,a.precision):t;break;case"t":t=String(!!t),t=a.precision?t.substring(0,a.precision):t;break;case"T":t=Object.prototype.toString.call(t).slice(8,-1).toLowerCase(),t=a.precision?t.substring(0,a.precision):t;break;case"u":t=parseInt(t,10)>>>0;break;case"v":t=t.valueOf(),t=a.precision?t.substring(0,a.precision):t;break;case"x":t=(parseInt(t,10)>>>0).toString(16);break;case"X":t=(parseInt(t,10)>>>0).toString(16).toUpperCase()}h.json.test(a.type)?g+=t:(!h.number.test(a.type)||l&&!a.sign?s="":(s=l?"+":"-",t=t.toString().replace(h.sign,"")),o=a.pad_char?"0"===a.pad_char?"0":a.pad_char.charAt(1):" ",r=a.width-(s+t).length,r=a.width&&0<r?o.repeat(r):"",g+=a.align?s+t+r:"0"===o?s+r+t:r+s+t)}return g}function e(e,t){return f.apply(null,[e].concat(t||[]))}var m=Object.create(null);"undefined"!=typeof exports&&(exports.sprintf=f,exports.vsprintf=e),"undefined"!=typeof window&&(window.sprintf=f,window.vsprintf=e,"function"==typeof define&&define.amd&&define(function(){return{sprintf:f,vsprintf:e}}))}(),!function(r,o){"use strict";o.bibleAudioCheck={checkBibleAudio:function(){var e=r("#rsconf").attr("value"),t=r("#lib").attr("value"),n=r("#englishSym").attr("value"),i=r("#langSym").attr("value"),a=r("#pubYear").attr("value");r("#isPublicationABible").val()&&n&&i&&a&&(i="/wol/baa/%s/%s/%s",i=sprintf(i,e,t,n),o.web.getJSON(i).done(function(e){var i,a,o;i=e,e=r("#bookNo").attr("value"),o='<span class="hasAudioStatic"><span class="audioIcon"></span></span>',e?i[e]&&r(".navBook").append(o):i[0]?r(".materialNav").find("header h1").filter(function(){return 0===r(this).find(".hasAudio").length}).append(o):(a=r("nav.bibleNav").hasClass("legacy"),r("[data-bookid]").filter(function(){return 0===r(this).find(".hasAudio").length}).each(function(e,t){var t=r(t),n=t.data("bookid");i[n]&&(a?t.append(o):t.parent().addClass("audio"))}))}))}}}(jQuery,app),!function(e,t){"use strict";var n=null,i=[];function a(){i.forEach(function(e){e()})}try{var o=new Audio,r=o.canPlayType("audio/ogg")?"data:audio/ogg;base64,T2dnUwACAAAAAAAAAAD/QwAAAAAAAM2LVKsBHgF2b3JiaXMAAAAAAUSsAAAAAAAAgLsAAAAAAAC4AU9nZ1MAAAAAAAAAAAAA/0MAAAEAAADmvOe6Dy3/////////////////MgN2b3JiaXMdAAAAWGlwaC5PcmcgbGliVm9yYmlzIEkgMjAwNzA2MjIAAAAAAQV2b3JiaXMfQkNWAQAAAQAYY1QpRplS0kqJGXOUMUaZYpJKiaWEFkJInXMUU6k515xrrLm1IIQQGlNQKQWZUo5SaRljkCkFmVIQS0kldBI6J51jEFtJwdaYa4tBthyEDZpSTCnElFKKQggZU4wpxZRSSkIHJXQOOuYcU45KKEG4nHOrtZaWY4updJJK5yRkTEJIKYWSSgelU05CSDWW1lIpHXNSUmpB6CCEEEK2IIQNgtCQVQAAAQDAQBAasgoAUAAAEIqhGIoChIasAgAyAAAEoCiO4iiOIzmSY0kWEBqyCgAAAgAQAADAcBRJkRTJsSRL0ixL00RRVX3VNlVV9nVd13Vd13UgNGQVAAABAEBIp5mlGiDCDGQYCA1ZBQAgAAAARijCEANCQ1YBAAABAABiKDmIJrTmfHOOg2Y5aCrF5nRwItXmSW4q5uacc845J5tzxjjnnHOKcmYxaCa05pxzEoNmKWgmtOacc57E5kFrqrTmnHPGOaeDcUYY55xzmrTmQWo21uaccxa0pjlqLsXmnHMi5eZJbS7V5pxzzjnnnHPOOeecc6oXp3NwTjjnnHOi9uZabkIX55xzPhmne3NCOOecc84555xzzjnnnHOC0JBVAAAQAABBGDaGcacgSJ+jgRhFiGnIpAfdo8MkaAxyCqlHo6ORUuoglFTGSSmdIDRkFQAACAAAIYQUUkghhRRSSCGFFFKIIYYYYsgpp5yCCiqppKKKMsoss8wyyyyzzDLrsLPOOuwwxBBDDK20EktNtdVYY62555xrDtJaaa211koppZRSSikIDVkFAIAAABAIGWSQQUYhhRRSiCGmnHLKKaigAkJDVgEAgAAAAgAAADzJc0RHdERHdERHdERHdETHczxHlERJlERJtEzL1ExPFVXVlV1b1mXd9m1hF3bd93Xf93Xj14VhWZZlWZZlWZZlWZZlWZZlWYLQkFUAAAgAAIAQQgghhRRSSCGlGGPMMeegk1BCIDRkFQAACAAgAAAAwFEcxXEkR3IkyZIsSZM0S7M8zdM8TfREURRN01RFV3RF3bRF2ZRN13RN2XRVWbVdWbZt2dZtX5Zt3/d93/d93/d93/d93/d1HQgNWQUASAAA6EiOpEiKpEiO4ziSJAGhIasAABkAAAEAKIqjOI7jSJIkSZakSZ7lWaJmaqZneqqoAqEhqwAAQAAAAQAAAAAAKJriKabiKaLiOaIjSqJlWqKmaq4om7Lruq7ruq7ruq7ruq7ruq7ruq7ruq7ruq7ruq7ruq7ruq7rui4QGrIKAJAAANCRHMmRHEmRFEmRHMkBQkNWAQAyAAACAHAMx5AUybEsS9M8zdM8TfRET/RMTxVd0QVCQ1YBAIAAAAIAAAAAADAkw1IsR3M0SZRUS7VUTbVUSxVVT1VVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVTVN0zRNIDRkJQAABADAYo3B5SAhJSXl3hDCEJOeMSYhtV4hBJGS3jEGFYOeMqIMct5C4xCDHggNWREARAEAAMYgxxBzyDlHqZMSOeeodJQa5xyljlJnKcWYYs0oldhSrI1zjlJHraOUYiwtdpRSjanGAgAAAhwAAAIshEJDVgQAUQAAhDFIKaQUYow5p5xDjCnnmHOGMeYcc44556B0UirnnHROSsQYc445p5xzUjonlXNOSiehAACAAAcAgAALodCQFQFAnACAQZI8T/I0UZQ0TxRFU3RdUTRd1/I81fRMU1U90VRVU1Vt2VRVWZY8zzQ901RVzzRV1VRVWTZVVZZFVdVt03V123RV3ZZt2/ddWxZ2UVVt3VRd2zdV1/Zd2fZ9WdZ1Y/I8VfVM03U903Rl1XVtW3VdXfdMU5ZN15Vl03Vt25VlXXdl2fc103Rd01Vl2XRd2XZlV7ddWfZ903WF35VlX1dlWRh2XfeFW9eV5XRd3VdlVzdWWfZ9W9eF4dZ1YZk8T1U903RdzzRdV3VdX1dd19Y105Rl03Vt2VRdWXZl2fddV9Z1zzRl2XRd2zZdV5ZdWfZ9V5Z13XRdX1dlWfhVV/Z1WdeV4dZt4Tdd1/dVWfaFV5Z14dZ1Ybl1XRg+VfV9U3aF4XRl39eF31luXTiW0XV9YZVt4VhlWTl+4ViW3feVZXRdX1ht2RhWWRaGX/id5fZ943h1XRlu3efMuu8Mx++k+8rT1W1jmX3dWWZfd47hGDq/8OOpqq+brisMpywLv+3rxrP7vrKMruv7qiwLvyrbwrHrvvP8vrAso+z6wmrLwrDatjHcvm4sv3Acy2vryjHrvlG2dXxfeArD83R1XXlmXcf2dXTjRzh+ygAAgAEHAIAAE8pAoSErAoA4AQCPJImiZFmiKFmWKIqm6LqiaLqupGmmqWmeaVqaZ5qmaaqyKZquLGmaaVqeZpqap5mmaJqua5qmrIqmKcumasqyaZqy7LqybbuubNuiacqyaZqybJqmLLuyq9uu7Oq6pFmmqXmeaWqeZ5qmasqyaZquq3meanqeaKqeKKqqaqqqraqqLFueZ5qa6KmmJ4qqaqqmrZqqKsumqtqyaaq2bKqqbbuq7Pqybeu6aaqybaqmLZuqatuu7OqyLNu6L2maaWqeZ5qa55mmaZqybJqqK1uep5qeKKqq5ommaqqqLJumqsqW55mqJ4qq6omea5qqKsumatqqaZq2bKqqLZumKsuubfu+68qybqqqbJuqauumasqybMu+78qq7oqmKcumqtqyaaqyLduy78uyrPuiacqyaaqybaqqLsuybRuzbPu6aJqybaqmLZuqKtuyLfu6LNu678qub6uqrOuyLfu67vqucOu6MLyybPuqrPq6K9u6b+sy2/Z9RNOUZVM1bdtUVVl2Zdn2Zdv2fdE0bVtVVVs2TdW2ZVn2fVm2bWE0Tdk2VVXWTdW0bVmWbWG2ZeF2Zdm3ZVv2ddeVdV/XfePXZd3murLty7Kt+6qr+rbu+8Jw667wCgAAGHAAAAgwoQwUGrISAIgCAACMYYwxCI1SzjkHoVHKOecgZM5BCCGVzDkIIZSSOQehlJQy5yCUklIIoZSUWgshlJRSawUAABQ4AAAE2KApsThAoSErAYBUAACD41iW55miatqyY0meJ4qqqaq27UiW54miaaqqbVueJ4qmqaqu6+ua54miaaqq6+q6aJqmqaqu67q6Lpqiqaqq67qyrpumqqquK7uy7Oumqqqq68quLPvCqrquK8uybevCsKqu68qybNu2b9y6ruu+7/vCka3rui78wjEMRwEA4AkOAEAFNqyOcFI0FlhoyEoAIAMAgDAGIYMQQgYhhJBSSiGllBIAADDgAAAQYEIZKDRkRQAQJwAAGEMppJRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkgppZRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkqppJRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkoplVJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSCgCQinAAkHowoQwUGrISAEgFAACMUUopxpyDEDHmGGPQSSgpYsw5xhyUklLlHIQQUmktt8o5CCGk1FJtmXNSWosx5hgz56SkFFvNOYdSUoux5ppr7qS0VmuuNedaWqs115xzzbm0FmuuOdecc8sx15xzzjnnGHPOOeecc84FAOA0OACAHtiwOsJJ0VhgoSErAYBUAAACGaUYc8456BBSjDnnHIQQIoUYc845CCFUjDnnHHQQQqgYc8w5CCGEkDnnHIQQQgghcw466CCEEEIHHYQQQgihlM5BCCGEEEooIYQQQgghhBA6CCGEEEIIIYQQQgghhFJKCCGEEEIJoZRQAABggQMAQIANqyOcFI0FFhqyEgAAAgCAHJagUs6EQY5Bjw1BylEzDUJMOdGZYk5qMxVTkDkQnXQSGWpB2V4yCwAAgCAAIMAEEBggKPhCCIgxAABBiMwQCYVVsMCgDBoc5gHAA0SERACQmKBIu7iALgNc0MVdB0IIQhCCWBxAAQk4OOGGJ97whBucoFNU6iAAAAAAAAwA4AEA4KAAIiKaq7C4wMjQ2ODo8AgAAAAAABYA+AAAOD6AiIjmKiwuMDI0Njg6PAIAAAAAAAAAAICAgAAAAAAAQAAAAICAT2dnUwAE7AwAAAAAAAD/QwAAAgAAADuydfsFAQEBAQEACg4ODg==":"data:audio/mpeg;base64,//MUxAAB6AXgAAAAAPP+c6nf//yi/6f3//MUxAMAAAIAAAjEcH//0fTX6C9Lf//0//MUxA4BeAIAAAAAAKX2/6zv//+IlR4f//MUxBMCMAH8AAAAABYWalVMQU1FMy45//MUxBUB0AH0AAAAADkuM1VVVVVVVVVV//MUxBgBUATowAAAAFVVVVVVVVVVVVVV";o.autoplay=!0,o.volume=0,e(o).on("play",function(){n=!0,a()}),o.src=r}catch(e){n=!1,a()}setTimeout(function(){null===n&&(n=!1,a())},1e3),t.audioAutoplay={canAutoplay:n,onReady:function(e){null===n?i.push(e):e()}}}(jQuery,app),!function(h,f){"use strict";var e=250;function m(e,t,n){return e.replace("{rsconf}",t).replace("{library}",n).replace("/#","")}function y(){var e=new URI(this.href),e=(e.pathname()===window.location.pathname&&(e=this.attributes.rsconf&&this.attributes.lib?m(t(),this.attributes.rsconf.value,this.attributes.lib.value):(e=new URI("/"+f.getUILanguage()+"/wol/sysl/"+f.getRsConfigSymbol()+"/"+f.getLibrarySymbol())).addQuery("url",t())),function(e){var t,n=e;!f.highlightManager.hasHighlight()||null==(t=f.highlightManager.getFirstHighlightedIdNumber())||isNaN(t)||(n=e.replace("{no}",t));return n}(decodeURIComponent(e.toString())));return e&&f.loadPage(e),!1}function t(){var e="",t="",n=f.getRsConfigSymbol()+"/"+f.getLibrarySymbol(),i=f.getContentRsConfigSymbol()+"/"+f.getContentLibrarySymbol();switch(f.getCommand()){case"d":case"dsync":case"sydp":e="sydp",t=f.getDID()+"/{no}";break;case"dt":case"dtsync":case"sydt":e="sydt",t=f.getTodayDate();break;case"meetings":case"msync":case"sym":e="sym",t=f.getTodayWeek();break;case"b":case"bsync":case"sybv":e="sybv",t=f.getBookNumber()+"/"+f.getChapterNumber()+"/{no}"}return e?(n=[f.getUILanguage(),"wol",e,n],"sybv"===e&&n.push(f.getSourcePreferredBible()),n.push("{rsconf}/{library}",i,t),"/"+n.join("/")):""}function b(){var e=h(".convenienceCharsMenu li");0<e.length&&(e.on("click",function(){var e,t=h(this).text();t=t,(e=w().find(".searchField")).val(e.val()+t),i(),n()}),h(".convenienceCharsButton").on("click",function(){return a(),!1}))}function i(){w().find(".convenienceCharsFrame").fadeOut(e),h(document).off("click.convenienceCharsFrame")}function a(){var e,t,n;w().find(".convenienceCharsFrame").is(":visible")?i():(e=w().find(".convenienceCharsFrame"),t=w().find(".searchFieldContainer"),n=t[0].getBoundingClientRect(),e.css({width:t.outerWidth(),left:n.left,top:n.top+t.height()}),e.removeClass("hidden").show(),h(document).one("click.convenienceCharsFrame",function(){a()}))}function v(){var e=!1,t=w().find(".searchField");t.on("keydown",function(){e||(t.removeAttr("title"),e=!0)})}function C(){var e=h("#standardSearch");e.find(".searchIcon").on("click",f.menu.toggleSearch),e.find(".closeIcon").on("click",f.menu.hideSearch),h("#regionMain, #publicationNavigation, #regionFooter").on("pointerdown pointerup click",function(){h(".searchControl").removeClass("searchFocused"),f.menu.hideSearch()}),h(".searchField").on("input propertychange change keydown",n),h(".searchFieldCancel").on("click",function(){h(".searchField").focus(),f.menu.clearSearch()}),n()}function w(){return h("#standardSearch")}function n(){h(".searchField").val().length?h(".searchFieldCancel").show():h(".searchFieldCancel").hide()}function S(){var e=h("#menuBible").removeClass("selected"),t=h("#menuToday").removeClass("selected"),n=h("#menuToolsPreferences").removeClass("selected"),i=h("#menuPublications").removeClass("selected"),a=h(".librarySelectionLink").removeClass("selected");switch(f.getCommand()){case"d":case"dsync":case"sim":(h("#documentInBible").val()?e:i).addClass("selected");break;case"lv":case"library":i.addClass("selected");break;case"b":case"bsync":case"binav":case"bibles":case"gallery":case"galleryitem":case"bibledocument":e.addClass("selected");break;case"dt":case"dtsync":case"meetings":case"msync":t.addClass("selected");break;case"pref":n.addClass("selected");break;case"li":a.addClass("selected");break;case"publication":(h("#isPublicationABible").val()?e:i).addClass("selected")}}f.menu={setupMenu:function(){var t,n,e,i,a,o,r,l,s,u,c,d,p=h("#menuSynchronize"),g=h("#linkSynchronizeSwitch");0<p.length&&(null==(i=function(){var e=f.net.convertSymbolToFromRb(f.getLibrarySymbol(),!1),t=f.net.convertSymbolToFromRb(f.getContentLibrarySymbol(),!1),n=f.net.convertSymbolToFromRb(f.storage.getCookie("lib")||"",!1),i=f.net.convertSymbolToFromRb(f.storage.getCookie("synclib")||"",!1),e=!(f.getRsConfigSymbol()===f.getContentRsConfigSymbol()&&e===t),i=f.getContentRsConfigSymbol()===f.storage.getCookie("syncrsconf")&&t===i,t=f.getContentRsConfigSymbol()===f.storage.getCookie("rsconf")&&t===n;if(e&&!t||!e&&i){if(f.validator.isValidRsconf(f.storage.getCookie("rsconf"))&&f.validator.isValidLib(f.storage.getCookie("lib"))&&f.validator.containsNoTags(f.storage.getCookie("lang"))&&f.validator.isValidLocale(f.storage.getCookie("locale")))return!0}else if((!e||t)&&f.validator.isValidRsconf(f.storage.getCookie("syncrsconf"))&&f.validator.isValidLib(f.storage.getCookie("synclib"))&&f.validator.containsNoTags(f.storage.getCookie("synclang"))&&f.validator.isValidLocale(f.storage.getCookie("synclocale")))return!1;return null}())?p.hide():(a=h("#menuSynchronizeSwitch"),o=h("#linkSynchronize"),i=!0===i?(t=f.storage.getCookie("rsconf"),n=f.storage.getCookie("lib"),f.storage.getCookie("locale"),e=f.normalizeText(decodeURI(f.storage.getCookie("lang")).replace("+"," ")),l=f.storage.getCookie("ckLang"),d=f.storage.getCookie("script"),f.storage.getCookie("dir")):(t=f.storage.getCookie("syncrsconf"),n=f.storage.getCookie("synclib"),f.storage.getCookie("synclocale"),e=f.normalizeText(decodeURI(f.storage.getCookie("synclang")).replace("+"," ")),l=f.storage.getCookie("synclangsym"),d=f.storage.getCookie("synclangscript"),f.storage.getCookie("syncdir")),o.addClass("ml-"+l).addClass("ms-"+d).addClass("dir-"+i).children(".label").html(e),0<a.length&&(a.removeClass("tbSync"),a.addClass("tbSyncSelect")),h.when().then(function(){var e=h.Deferred();return f.isFeatureEnabled("rb")?f.utilities.libraryHasRubyAsync(n,e.resolve):e.resolve(!1),e}).then(function(e){n=f.net.convertSymbolToFromRb(n,e),o.attr("href",m(o.attr("href"),t,n)).attr("rsconf",t).attr("lib",n).on("click",y),p.removeClass("hidden").show()}))),0<g.length&&g.on("click",y),h("#menuSynchronizeControls").removeClass("hidden"),h("a.todayNav").attr("href",f.url.makeDateDataUrl(new Date,0)),h(".todayNav a").not("#dailyText a").attr("href",f.url.makeDateDataUrl(new Date,0,!1,!0)),h(".searchForm").on("submit",function(){switch(document.activeElement.className){case"searchField":h(".searchForm #st").val(wolConstants.QUERY_SEARCH_TRIGGER_FieldSubmit);break;case"searchButton":h(".searchForm #st").val(wolConstants.QUERY_SEARCH_TRIGGER_ButtonSubmit)}if(!w().find(".searchField").val().length)return!1}),f.isLibraryRTL()&&(r=h(".searchField"),l=f.isIE()?"keydown":"input",r.on(l,function(e){var t=r.val(),n=e.target.selectionStart,i=new RegExp("([:,./-])(?!)","gm");r.val(t.replace(i,function(e){return n++,e+""})),e.target.setSelectionRange(n,n)})),!0!==/[A|a]ndroid 2/.test(navigator.userAgent)&&(s=f.getUILanguage(),u=f.getRsConfigSymbol(),c=f.getLibrarySymbol(),h(".searchControl").each(function(){var e=h(this).find(".searchField");f.typingSuggestionList.typingSuggestionList(function(e){return u&&c&&e?(e=f.search.sanitizeSearchQuery(e),sprintf("/wol/sg/%s/%s?q=%s",u,c,encodeURIComponent(e))):null},function(e){var t=f.search.sanitizeSearchQuery(e.query);switch(e.type){case 1:return sprintf("/%s/wol/bl/%s/%s?q=%s",s,u,c,encodeURIComponent(t));case 2:return sprintf("/%s/wol/pl/%s/%s?q=%s",s,u,c,encodeURIComponent(t));default:var n=sprintf("p=%s&r=%s",f.utilities.getSearchProximity(),f.utilities.getSearchRank());return sprintf("/%s/wol/s/%s/%s?q=%s&%s",s,u,c,encodeURIComponent(t),n)}},e,h(this).find(".suggestions"),{})})),C(),v(),b(),S(),f.storage.getCookie("prox")&&h("#proximitySelector").val(f.storage.getCookie("prox")),f.storage.getCookie("rank")&&h("#rankSelector").val(f.storage.getCookie("rank")),h("#menuSearchHitNext").on("click",function(){return f.text.navigateSearchHits(!0),!1}),"h"===f.getCommand()&&("#standardSearch"===(d=w()).selector||"#compactSearch"===d.selector&&d.hasClass("showField"))&&w().find(".searchField").trigger("focus")},toggleSearch:function(){var e=h("#standardSearch");e.toggleClass("searchFocused"),e.hasClass("searchFocused")&&e.find("input").trigger("focus")},hideSearch:function(){h("#standardSearch").removeClass("searchFocused")},clearSearch:function(){h(".searchField").val("").change()},setupConvenienceCharacters:b,repositionConvenienceChars:function(){var e,t,n=w().find(".convenienceCharsFrame");n.is(":visible")&&((e=w().find(".searchFieldContainer")).is(":visible")?(t=e[0].getBoundingClientRect(),n.css({width:e.outerWidth(),left:t.left,top:t.top+e.height()})):n.hide())},setupSearchEntry:C,setupSearchTooltip:v,getActiveSearchControl:w,markButtonByLocation:S,repositionSuggestionList:function(){var e,t,n=w().find(".suggestions");n.is(":visible")&&((e=w().find(".searchField")).is(":visible")?(t=e[0].getBoundingClientRect(),n.css({width:e.innerWidth(),left:t.left,top:t.top+e.height()})):n.hide())}}}(jQuery,app),!function(c,d){"use strict";var p;function g(e){var t=window.location.pathname+window.location.search,e=Object.keys(e);if(null!=e)return e.findIndex(function(e){return t===decodeURI(e.split("#")[0])||t===e.split("#")[0]})}d.togglePageNo=function(){c(".pageNum").toggle()},d.text={toggleQuestions:function(){var e=c("#questionContainer");e.toggle(),e.is(":visible")?c(".contentContainer").find(".qu").hide():(c(".contentContainer").find(".qu").show(),d.contentScrollHandler())},setupText:function(){function e(){c(".ellipsized:not(.ellipsizedFade)").filter(function(){return 0<c(this).find("ruby").length}).addClass("ellipsizedFade")}var t,n,i,a,o,r,l,s;function u(e){(s=e)<0?s=l-1:l<=s&&(s=Modernizr.sessionstorage?null!=(e=JSON.parse(sessionStorage.getItem("nav-scope-data")))&&0<Object.keys(e).length?null!=(t=g(e))&&-1!==t?((t=t+1)>=Object.keys(e).length&&(t=0),d.loadPage(Object.keys(e)[t]),o):0:0:0),o!==s&&(c("."+a).removeClass(a),r.eq(s).toggleClass(a).jumpTo(),o=s);var t,e=c.Event("markhighlighchanged");e.item=r.eq(s),c(document).trigger(e)}e(),(d.utilities.rubyAvailable()||0<document.getElementsByTagName("ruby").length)&&new MutationObserver(function(){e()}).observe(document,{childList:!0,subtree:!0}),Modernizr.sessionstorage&&null!=(n=JSON.parse(sessionStorage.getItem("nav-scope-data")))&&0<Object.keys(n).length&&null!=(t=g(n))&&-1!==t&&(n=n[Object.keys(n)[t]],i=c("[data-fnid]"),n.forEach(function(e){i.filter("[data-fnid="+e+"]").find("span").addClass("mk")})),d.layout.setupNextSearchHitButton(),0<c(".mk, .mkhl").length&&(a="mkhl",r=c("."+"mk"),l=r.length,s=null,"s"!==d.getCommand()&&u(null===s?0:s+1),p={jump:function(e){u(r.index(e))},prev:function(){u(s-1)},next:function(){u(null===s?0:s+1)}},c(document).on("keypress",function(e){c(".searchField").toArray().some(function(e){return e===document.activeElement})||(43===(e=e.keyCode||e.which)||59===e||61===e?p.next():45===e&&p.prev())}),c(".mk").on("click",function(){c(this).hasClass("mkhl")||p.jump(c(this))}))},navigateSearchHits:function(e){e?p.next():p.prev()}}}(jQuery,app),700),BoundaryWidthMedium=550,BoundaryWidthNarrow=400,FullWidthClass="contentFullWidth",LargeWidthClass="contentLargeWidth",MediumWidthClass="contentMediumWidth",NarrowWidthClass="contentNarrowWidth",app,app;!function(e){var t=e(window),n=e("#regionMain, #videoWrapper"),i=e(".articlePositioner");t.on("resize",function(){return i.width()>BoundaryWidthLarge?n.addClass(FullWidthClass).removeClass(LargeWidthClass).removeClass(MediumWidthClass).removeClass(NarrowWidthClass):i.width()>BoundaryWidthMedium&&i.width()<=BoundaryWidthLarge?n.addClass(LargeWidthClass).removeClass(FullWidthClass).removeClass(MediumWidthClass).removeClass(NarrowWidthClass):i.width()>BoundaryWidthNarrow&&i.width()<=BoundaryWidthMedium?n.addClass(MediumWidthClass).removeClass(FullWidthClass).removeClass(LargeWidthClass).removeClass(NarrowWidthClass):i.width()<=BoundaryWidthNarrow?n.addClass(NarrowWidthClass).removeClass(FullWidthClass).removeClass(LargeWidthClass).removeClass(MediumWidthClass):void 0}).trigger("resize")}(jQuery),!function(h,f){"use strict";var l,s={sn:["iasn","iasnm","snv"],snnw:["snnw","snv"],sjj:["sjjm","sjji","sjjc","pksjj"]},u={"r2:lp-u-ru":["bi12","yc","sn","snnw","sjj","mb"]},c={},o=[];function r(){return p().addQuery("langwritten",f.getContentLibraryLanguageSymbol()).addQuery("txtCMSLang",f.getContentLibraryLanguageSymbol()).addQuery("fileformat","mp3")}function d(e,t,n,i){e=p().addQuery("pub",e).addQuery("langwritten",t).addQuery("txtCMSLang",t).addQuery("fileformat","mp3");return n&&(e.addQuery("booknum",n),i&&e.addQuery("track",i)),e.toString()}function p(){return new URI(f.pubMediaServer())}function g(a){var e={},n=[],o=[],r=[];return h.isArray(a)?h.each(a,function(e,a){h.each(a.languages,function(e,t){-1===h.inArray(e,n)&&(n.push(e),o.push(t.name))}),h.each(n,function(n,i){h.each(a.files[i].MP3,function(e,t){-1===t.file.url.indexOf(".zip")&&(t={sym:i,name:o[n],title:t.title,url:t.file.url,duration:t.duration,markers:t.markers,pub:a.pub,pubName:a.pubName},r.push(t))})})}):(h.each(a.languages,function(e,t){n.push(e),o.push(t.name)}),h.each(n,function(n,i){h.each(a.files[i].MP3,function(e,t){-1===t.file.url.indexOf(".zip")&&(t={sym:i,name:o[n],title:t.title,url:t.file.url,duration:t.duration,markers:t.markers,pub:a.pub,pubName:a.pubName},r.push(t))})})),e.languages=n,e.tracks=r,e}function m(){f.hasAudio=!1,f.isFallbackAudio=!1,f.audioPlayerSetup=!1,f.audioPlayerVisible=!1,h("#audioPlayerSpeakerIcon").remove(),h(".hasAudioPlayer").removeClass("hasAudioPlayer"),h("#playerwrapper").empty().addClass("hidden"),f.contentScrollHandler(),f.layout.sideBarSizing(),h(document).trigger("scroll")}function y(){var e=f.parseBibleDocumentURL();b(d(f.getAudioPubSym(),f.getContentLibraryLanguageSymbol(),e.book,e.chapter))}function b(i){if(-1!==h.inArray(i,o))return m(),void x();T(i)&&f.web.ajax(i,{dataType:"json",cache:!0}).done(function(e,t,n){f.hasAudio=!0,S(g(e))}).fail(function(e,t,n){o.push(i),m()}).always(x)}function v(){var n,i,a=[],e=f.getPubSym(),e=e in s?(i=f.getChapterNumber(),h.each(s[e],function(e,t){n=r().addQuery("pub",t).addQuery("track",i).toString(),a.push(n)}),C(a)):C(n=r().addQuery("docid",f.getDID()).toString());h.settle(e).then(function(e){var e=e.filter(function(e){return!(e instanceof Error)});0<e.length?(f.hasAudio=!0,S(g(e)),x()):-1===h.inArray(f.getAudioPubSym(),["nwt","nwtsty","bi12","bi7","Rbi8"])?h.when(T(e=function(){var e=p().addQuery("pub",f.getAudioPubSym()).addQuery("langwritten",f.getContentLibraryLanguageSymbol()).addQuery("txtCMSLang",f.getContentLibraryLanguageSymbol()).addQuery("fileformat","mp3");return""!==f.getIssue()&&("iasn"===f.getAudioPubSym()||"sjjm"===f.getAudioPubSym()?e.addQuery("track",f.getIssue()):e.addQuery("issue",f.getIssue())),e.toString()}())?f.web.ajax(e,{dataType:"json",cache:!0}):h.Deferred().reject("Invalid URL")).done(function(e){f.hasAudio=!0,f.isFallbackAudio=!0,S(g(e)),x()}).fail(function(){m()}):m()})}function C(e){var n=[];if(h.isArray(e))h.each(e,function(e,t){T(t)&&n.push(i(t))});else if("string"==typeof e){if(!T(e))return[];n.push(i(e))}return n}function i(e){return f.web.ajax(e,{dataType:"json",cache:!0})}function w(){var e=h("#playerwrapper");e.is(":visible")||(e.removeClass("hidden"),e.hasClass("headerPosition")&&(h(".bible").addClass("hasAudioPlayer"),h(".publication").addClass("hasAudioPlayer"),h("#secondaryNavContent").addClass("hasAudioPlayer"),h(".documentSynchronizeInformation").addClass("hasAudioPlayer"),h("#toolbarFrame").addClass("hasAudioPlayer"),h("#toolbarSearch").addClass("hasAudioPlayer"),h("#regionMain").addClass("hasAudioPlayer"),f.contentScrollHandler(),f.layout.sideBarSizing(),e.trigger("resize"),h(document).trigger("scroll"),h(window).trigger("resize"))),h("#audioPlayerSpeakerIcon").addClass("audioPlayerVisible").attr("disabled",!0),f.layout.toggleNavigation()}function S(i){var e,t,n;i&&0!==i.tracks.length&&(e=i.tracks[0].url,n=f.storage.getCookie("audioLanguage"),n=h.inArray(n,i.languages),f.playlist=i,k(f.getAudioPubSym(),""),f.media.lastSelector=null,-1===n?(i.tracks[0].sym,i.tracks[0].name):(e=i.tracks[n].url,i.tracks[n].sym,i.tracks[n].name),h("#playerwrapper").empty().addClass("lang-"+f.getContentUILanguage()).append(h('<div id="mePlayerHolder" />').append(h("<audio/>").attr("id","wolplayer").attr("preload","none").attr("src",e).css("width","100%").css("height","100%")))),t=function(e){window.mejs=window.mejs||{},mejs.i18n=mejs.i18n||{},mejs.i18n.locale=mejs.i18n.locale||{},mejs.i18n.locale.strings=mejs.i18n.locale.strings||[];var t,n=f.getUILanguage();mejs.i18n.locale.language=n,mejs.i18n.locale.strings[n]=e,t=i,f.web.cachedScript("/assets/js/mediaelement-and-player.min.js").done(function(){var n;n=t,f.audioAutoplay.onReady(function(){var i,a,e,o,r,g,t;if(f.utilities.isPublicationNav()&&!document.getElementById("flavorSelector")&&(t=n,a=0,e=f.getPubSym(),(o=h("<div/>")).attr("id","flavorSelector"),r=t.tracks[0].pub,e in s&&(h.each(s[e],function(e,t){var n;c.hasOwnProperty(t)&&(n=_.unescape(c[t].tracks[0].pubName),r===t?(i=h('<div class="flavorOptions">'),h("<input/>",{type:"radio",name:"flavor",id:t,value:t,checked:"checked"}).appendTo(i)):(i=h('<div class="flavorOptions">'),h("<input/>",{type:"radio",name:"flavor",id:t,value:t}).appendTo(i)),h("<label/>",{for:t,html:n}).appendTo(i),i.appendTo(o),a++)}),1<a&&(o.insertBefore("#playerwrapper"),h('input[type="radio"][name="flavor"]').on("change",function(){S(c[this.value])})))),g=n,MediaElementPlayer.prototype.buildplaylist=function(o,e,t,r){var n,l,i=this.options,a=!1,s=!0,u=h("<button/>").attr("aria-controls",this.id).singleclickortap(function(){p(!a)}),c=h("<div/>").addClass("mejs-button").addClass("mejs-playlistdisclosure-button").append(u),d=[];function p(e){var t;(a=e)?(l.show().height(n.outerHeight(!0)).css("max-height",(e=h(o.node).parent()[0].getBoundingClientRect().bottom,t=Math.min(h("#regionFooter")[0].getBoundingClientRect().top,h(window).height()),Math.floor(t-e))),u.attr("aria-label",mejs.i18n.t("Close Playlist")).attr("label",mejs.i18n.t("Close Playlist"))):(l.hide(),u.attr("aria-label",mejs.i18n.t("Open Playlist")).attr("label",mejs.i18n.t("Open Playlist")))}1<g.tracks.length&&g.tracks[0].pub===g.tracks[1].pub&&(s=!1),h.each(g.tracks,function(e,t){var n,i=h('<li class="mediaTitle"/>'),a=h("<a/>");s&&((n=h("<p>")).html(t.pubName),n.appendTo(i)),a.html(t.title),a.data(this),a.on("click",function(e,t){A(!0),p(!1),l.find("li").removeClass("playing");var t=h(t.target),t=(t.closest("li").addClass("playing"),t.data()),n=t.url;n=n.split(":")[1],r.addEventListener("canplay",function e(){o.play(),r.removeEventListener("canplay",e)},!1),f.getDID()&&e.markers&&parseInt(f.getDID(),10)===e.markers.documentId&&k(e.pub,e.title);o.setSrc(n),o.load();try{setTimeout(function(){o.play()})}catch(e){}f.storage.setCookie("audioLanguage",t.sym),f.storage.setCookie("audioLanguageName",t.name),f.jumpHighlight.jumpToElement(function(e){e=e.match(/\d{3}/);return e=parseInt(e,10),h("[data-no="+e+"]")}(e.title))}.bind(this,t)),a.appendTo(i),d.push(i),1<g.languages.length&&((n=h('<li class="mediaLanguage"/>')).html(t.name),d.push(n))}),1<d.length||1==d.length&&f.isFallbackAudio?(n=h("<ul/>").append(d),l=h("<div/>").attr("id","playerplaylist").append(n).insertAfter("#mePlayerHolder"),p(a),e.append(c),i.hasPlaylist=!0):i.hasPlaylist=!1,r.addEventListener("play",function(){l&&0===l.find(".playing").length&&l.find("li").first().addClass("playing")},!1)},MediaElementPlayer.prototype.buildcontinuousplay=function(e,t,n,i){var a=this.options,o=h("<button/>").attr("aria-controls",this.id).singleclickortap(function(){var e="continuousPlay"+(f.utilities.audioContinuousPlayEnabled()?"Off":"On"),t=document.createEvent("HTMLEvents");return t.initEvent(e,!0,!0),i.dispatchEvent(t)}),r=h("<div/>").addClass("mejs-button").addClass("mejs-continuousplay-button").append(o);function l(e){e?(r.removeClass("mejs-singleplay").addClass("mejs-continuousplay"),o.attr("aria-label",mejs.i18n.t("Disable Continuous Play")).attr("label",mejs.i18n.t("Disable Continuous Play")),f.enableFeature("audioContinuousPlay")):(r.removeClass("mejs-continuousplay").addClass("mejs-singleplay"),o.attr("aria-label",mejs.i18n.t("Enable Continuous Play")).attr("label",mejs.i18n.t("Enable Continuous Play")),f.disableFeature("audioContinuousPlay"))}(1===g.tracks.length&&f.audioAutoplay.canAutoplay||1<g.tracks.length)&&(0<h(".enableAutoAdvance").length||f.utilities.isBibleNav()||f.utilities.isPublicationNav())&&(l(f.utilities.audioContinuousPlayEnabled),t.append(r)),i.addEventListener("continuousPlayOn",function(){f.utilities.audioContinuousPlayEnabled=!0,l(f.utilities.audioContinuousPlayEnabled)},!1),i.addEventListener("continuousPlayOff",function(){f.utilities.audioContinuousPlayEnabled=!1,l(f.utilities.audioContinuousPlayEnabled)},!1),i.addEventListener("ended",function(){var e;f.utilities.audioContinuousPlayEnabled&&(a.hasPlaylist?setTimeout(function(){h("#playerplaylist").find(".playing").removeClass("playing").next().find("a").trigger("click")}):f.audioAutoplay.canAutoplay&&(e=h(".resultNavRight.enableAutoAdvance a").attr("href"))&&(e=new URI(e).addQuery("autoplay","yes"),f.loadPage(e.toString())))},!1)},(l=h("#wolplayer").mediaelementplayer({audioWidth:"100%",audioHeight:"100%",features:["playlist","playpause","progress","duration","continuousplay"],alwaysShowControls:!0})[0]).addEventListener("playing",function(){f.media.isPlayerPlaying=!0}),l.addEventListener("pause",function(){f.media.isPlayerPlaying=!1}),(1<n.tracks.length&&!f.utilities.isBibleNav()||f.isFallbackAudio)&&A(!1),f.mediaMarker.initAudioMarkers(),"yes"===URI().query(!0).autoplay)return l.autoplay=!0,l.addEventListener("canplay",function(e){w()}),(t=document.createEvent("HTMLEvents")).initEvent("continuousPlayOn",!0,!0),l.player.media.dispatchEvent(t);(f.audioPlayerVisible||f.utilities.isBibleNav()||f.utilities.isPublicationNav())&&w(),f.audioPlayerSetup=!0})}).fail(function(){m()})},n=new URI("").path("/wol/ls").addQuery("locale",f.getUILanguage()).addQuery("type","mediaelementPlayer"),f.web.getJSON(n.toString()).done(function(e){e.strings?t(e.strings):t(null)}).fail(function(){m()})}function k(t,n){var e=f.playlist,i=e.tracks.filter(function(e){return e.pub===t&&e.title===n});0<i.length?(f.audioMarkers=null!==i[0].markers,f.audioMarkerData=i[0].markers):1===e.tracks.length&&(f.audioMarkers=null!==e.tracks[0].markers,f.audioMarkerData=e.tracks[0].markers)}function A(e){h(".mejs-playpause-button button")[0].disabled=!e}function T(e){var t=h("#pubMediaServer");return null!=e&&-1===e.indexOf("undefined")&&0!==t.length&&0!==t[0].value.length}function x(){f.hasAudio&&h.each(h(".resultsNavigationSelected.documentLocation"),function(){h("<button/>").attr("id","audioPlayerSpeakerIcon").addClass("hasAudio").on("click",function(){w()}).append('<span class="icon"/>').appendTo(this)})}f.media={audioNavigationSetup:function(){if(function(){var e=f.getContentRsConfigSymbol()+":"+f.getContentLibrarySymbol(),t=f.getPubSym();if(e in u)if(-1===u[e].indexOf(t))return;return 1}()&&!1===f.audioPlayerSetup)try{var e;if(new Audio&&Modernizr.audio){if(f.isBibleDocument())y();else if(f.utilities.isBibleNav()&&h("#enableAudioPlayer").val()){var t=f.parseBibleDocumentURL();t.book&&b(d(f.getAudioPubSym(),f.getContentLibraryLanguageSymbol(),t.book))}else if(f.isDocument())v();else if(f.utilities.isPublicationNav()&&h("#enableAudioPlayer").val()){e=f.getAudioPubSym();if(0<Object.keys(c).length&&c.hasOwnProperty(e))S(c[e]);else{var n,i=[],a=f.getPubSym(),o=f.getAudioPubSym(),a=a in s?(h.each(s[a],function(e,t){n=d(t,f.getContentLibraryLanguageSymbol()),i.push(n)}),C(i)):C(n=d(o,f.getContentLibraryLanguageSymbol()));h.settle(a).then(function(e){var t,e=e.filter(function(e){return!(e instanceof Error)});1<e.length&&(t=e.filter(function(e){return e.pub===o}),h.each(e,function(e,t){t=g(t),c[t.tracks[0].pub]=t})),1===e.length&&(t=e),x(),t?S(g(t)):m()})}}var r=URI().fragment(),l=!1;(l=-1<r.indexOf("audio:")?!0:l)&&!f.audioPlayerVisible&&f.isBibleDocument()&&y()}}catch(e){}},showAudioPlayer:w,isPlayerPlaying:!1,initMedia:function(){"b"!==f.getCommand()&&"sybv"!==f.getCommand()&&"bsync"!==f.getCommand()||h.each(h(".altPub"),function(){var e,i,a=h(this),t=a.attr("data-audio-pub"),n=a.attr("data-lang");-1===h.inArray(t,["bi22","bi10","by","int","rh"])&&(e=f.parseBibleDocumentURL(),i=d(t,n,e.book,e.chapter),-1===h.inArray(i,o)&&T(i)&&f.web.ajax(i,{dataType:"json",cache:!0}).done(function(e,t,n){var i=h('<a href="'+a.attr("href")+'#audio:show" class="hasAudio"><span class="icon"> </span></a>');a.after(i)}).fail(function(e,t,n){o.push(i)}))})},removeAudioSetup:m,lastSelector:null,prepareGalleryCaptionAudio:function(){var t=h(".playPauseBtn"),e=h(".gallerySelectedItem"),n=e.data("docid");0<e.length&&null!=n&&-1!==n&&i(r().addQuery("docid",n).toString()).then(function(e){e=g(e);h("#galleryPlayer").attr("src",e.tracks[0].url).on("loadedmetadata",function(){h("#galleryPlayer").get(0).paused?t.removeClass("pauseBtn").addClass("playBtn"):t.removeClass("playBtn").addClass("pauseBtn")}),t.hasClass("hidden")&&t.removeClass("hidden").on("click",f.gallery.handlePlayPauseButton)}).fail(function(){t.removeClass("playBtn").removeClass("pauseBtn").addClass("hidden").off("click",f.gallery.handlePlayPauseButton)})}}}(jQuery,app),!function(a,i){"use strict";var o,r,l,s,e="*[tabindex], *[contenteditable], a[href], area[href], button:not([disabled]), embed, iframe, input:not([disabled]), object, select:not([disabled]), textarea:not([disabled])";function u(){return r.find("*").filter(e).filter(":visible")}function c(e,t,n){l=t||!1,s=n||!1,d(),o=a(":focus"),(t=a("#modalUnderlayContainer")).fadeIn(100),a("#wrapper").attr("aria-hidden",!0),s?t.on("click",d):t.off("click"),t.on("focus.underlay",function(){u().first().focus()}),(r=e).first().addClass("modalDialog").attr("role","dialog").removeClass("hidden"),l&&a("#dialogContainer").append(r),r.on("keydown.accessbility",p);n=r.find("[autofocus]");(0<n.length?n:u().first()).focus()}function d(){var e;r&&!l&&r.addClass("hidden"),a("#dialogContainer").children().remove(),"function"==typeof i.modal.form.destroy&&i.modal.form.destroy(),i.modal.form={},r&&r.off(".accessbility"),(e=a("#modalUnderlayContainer")).fadeOut(100),a("#wrapper").attr("aria-hidden",!1),e.off(".underlay"),o&&(o.focus(),o=void 0)}function p(e){switch(e.which){case 9:var t=u(),n=a(":focus"),i=t.length,n=t.index(n);if(e.shiftKey){if(0===n)return t.get(i-1).focus(),!1}else if(n===i-1)return t.get(0).focus(),!1;break;case 27:return s&&d(),!1}}i.modal={form:{},setupModals:function(){window.addEventListener("beforeunload",function(){d()})},showForm:c,showModal:function(e,t,n){t=!t,n=n||!1,(e=new URI(e)).setQuery("locale",i.getUILanguage()),(t?i.web.ajax(e.toString()):a.ajax(e.toString()).fail(function(){window.location.reload()})).done(function(e){c(a(e),!0,n)})},removeModals:d}}(jQuery,app),!function(g,h){"use strict";var d=null,f="#secondaryNavContent",m="#study",n=!1,t=!1;function y(){var e=g(".articlePositioner");return!!e&&e.outerWidth()>=g(window).width()}function b(){g("#secondaryNavContent").off("scroll.disableBodyScrolling")}function v(){var i=null;g("#secondaryNavContent").on("scroll.disableBodyScrolling",function(e){var t=g("#secondaryNavContent"),n=(t.stop(!0,!1),t.scrollTop()),t=g("#secondaryNav").height()-t.height()-t.scrollTop();return null===(i=0===n?t-1:i)&&(i=n+t-1),!1})}function a(e){var t=g("#secondaryNavContent"),n=g("#regionHeader"),i=g("#regionMain"),a=g("#regionFooter"),o=window.innerHeight||document.documentElement.clientHeight||g(window).height(),i=i.height(),r=i;return 0<t.length&&(r=o-n.outerHeight()-l(a)),i&&(r=i<r?i:r),"left"===e&&(r-=parseFloat(t.css("margin-bottom"))+parseFloat(t.css("padding-bottom"))),r<0?o:r}function l(e){var e=(e=g(e))[0].getBoundingClientRect(),t=g(window).scrollTop(),n=t+g("#regionHeader").height(),i=parseInt(g("#regionMain.hasVideoPlayer .articlePositioner").css("margin-top"),10),i=(i&&(n=Math.max(n,t+i)),t+(window.innerHeight||document.documentElement.clientHeight||g(window).height())),a=t+e.top,t=t+e.bottom;return t<n||i<a?0:(e=Math.max(a,n),Math.min(t,i)-e)}function C(e){var t,n=g("#secondaryNavContent"),i=g("#study, #studyWrapper");l(g("#regionFooter"));_(),null!=e&&"left"!==e||(t=a("left"),n.height(t)),null!=e&&"right"!==e||(t=a("right"),n=i.find(".navigationContents").find(".studyPane"),e=t-g(".navigationTabsContainer").outerHeight()-parseFloat(g(".studyPane").css("margin-top")),y()?i.height(t):i.height(g("#content").height()),n.height(e)),o(),_()}function w(e,t,n){var i,a,o,r,l,s,u=g("#regionMain, #videoWrapper"),c=g(".studyPaneToggle"),d=g(".secondaryNavToggle"),p=y(),d="right"===e?(i=m,a="left",o=c,r=d,l="showStudy",s="showSecondaryNav",!!g(".hasStudyPane").length):(i=f,a="right",o=d,r=c,l="showSecondaryNav",s="showStudy",!!g(".hasSecondaryNav").length);null==t&&(t=0<g("."+l).length),d&&t?(u.removeClass(s),r.removeClass("expanded"),u.addClass(l),o.addClass("expanded")):(p||u.removeClass(l),o.removeClass("expanded")),p?t?(w(a,!1,!0),function(e){e=g("#regionMain").find(e);if(0<e.length)return function(){var e=g("#underlayContainer");e.on("pointerdown",function(){k(!1)}),e.fadeIn(100),g("body").addClass("slideInUnderlay noscroll")}(),e.addClass("slideIn"),1}(i)&&v()):(k(n),b()):this&&this.recurseing||!d||w.bind({recurseing:!0})(a,!t),t&&(g(".activePane").removeClass("activePane"),g(i).addClass("activePane")),C(e),S(),h.documentMenu.positionMenu(),h.url.matchUrlToStudyPane()}function o(){var e=document.getElementById("secondaryNavContent");!e||0<(e=e.clientWidth)&&g("#secondaryNav, #secondaryNav .navigationContents").css("width",e+"px")}function i(){var e=g("#underlayContainer");e.fadeOut(100),e.off("pointerdown",i),g("body.slideInUnderlay").removeClass("slideInUnderlay noscroll")}function S(){var e=0<g(f).closest(".slideIn").length,t=0<g(m).closest(".slideIn").length,n=y(),i=(n||(e=e||0<g(".showSecondaryNav").length,t=t||0<g(".showStudy").length),g(".secondaryNavToggle")),a=g(".studyPaneToggle");e?i.addClass("expanded"):i.removeClass("expanded"),t?a.addClass("expanded"):a.removeClass("expanded"),n||k(!1)}function k(e){e||i();e=g("#regionMain");e.find(f).removeClass("slideIn"),e.find(m).removeClass("slideIn"),y()&&(g(".studyPaneToggle").removeClass("expanded"),g(".secondaryNavToggle").removeClass("expanded")),h.url.matchUrlToStudyPane(),h.documentMenu.positionMenu()}function p(e){for(var t in e)if(e.hasOwnProperty(t)&&void 0!==e[t])return!0;return!1}function r(e){var t,n,i,a,o,r,l,s,u,c;0!==e.length&&(null!==d&&window.clearTimeout(d),t=g(".scrollPositionDisplay"),s="",2===(n=(e=e.toString()).split(":")).length&&(i=n[0].split("-"),a=n[1].split("-")),o=e.split("-"),r=e.split("-"),p(s=h.utilities.getScrollPositionFormatStrings())&&(h.isBibleBookDocument()?2===n.length&&(n[0]===n[1]?t.html(s.bibleDocumentNavigationChapterVerseFormat.replaceToken(wolConstants.TOKENS_BibleChapter,i[0]).replaceToken(wolConstants.TOKENS_BibleVerse,i[1])):i[0]===a[0]?0!==s.bibleDocumentNavigationSingleChapterManyVerseFormat.length?t.html(s.bibleDocumentNavigationSingleChapterManyVerseFormat.replaceToken(wolConstants.TOKENS_StartingBibleVerse,i[1]).replaceToken(wolConstants.TOKENS_EndingBibleVerse,a[1])):t.html(s.bibleDocumentNavigationChapterManyVerseFormat.replaceToken(wolConstants.TOKENS_BibleChapter,i[0]).replaceToken(wolConstants.TOKENS_StartingBibleVerse,i[1]).replaceToken(wolConstants.TOKENS_EndingBibleVerse,a[1])):t.html(s.bibleDocumentNavigationChapterVerseRangeFormat.replaceToken(wolConstants.TOKENS_StartingBibleChapter,i[0]).replaceToken(wolConstants.TOKENS_EndingBibleChapter,a[0]).replaceToken(wolConstants.TOKENS_StartingBibleVerse,i[1]).replaceToken(wolConstants.TOKENS_EndingBibleVerse,a[1]))):h.isBibleDocument()?1===o.length||2===o.length&&o[0]===o[1]?(l=""===s.bibleDocumentNavigationChapterVerseFormat?s.bibleDocumentNavigationSingleChapterSingleVerseFormat:s.bibleDocumentNavigationChapterVerseFormat,t.html(l.replaceToken(wolConstants.TOKENS_BibleVerse,o[0]))):(l=""===s.bibleDocumentNavigationChapterManyVerseFormat?s.bibleDocumentNavigationSingleChapterManyVerseFormat:s.bibleDocumentNavigationChapterManyVerseFormat,t.html(l.replaceToken(wolConstants.TOKENS_StartingBibleVerse,o[0]).replaceToken(wolConstants.TOKENS_EndingBibleVerse,o[1]))):1===r.length?t.html(s.documentNavigationSinglePagePositionFormat.replaceToken(wolConstants.TOKENS_PageNumber,r[0])):t.html(s.documentNavigationMultiplePagesPositionFormat.replaceToken(wolConstants.TOKENS_StartingPageNumber,r[0]).replaceToken(wolConstants.TOKENS_EndingPageNumber,r[1]))),""===e&&""!==(e=h.getDocumentDescriptionSubstitute())&&t.html(e),u=g(".navPosition"),c=g(".resultNavControls, .studyPaneToggle, .secondaryNavToggle, .pubNavTitle"),null==t.data("lastShowOffset")&&t.data("lastShowOffset",window.pageYOffset),null==d&&u.is(":visible")||t.data("lastShowOffset")===window.pageYOffset||(void 0===e?(t.html(""),u.hide()):""!==e&&(u.hasClass("hidden")&&u.hide().removeClass("hidden"),Modernizr.opacity?u.fadeIn(100):u.show(),y()&&(c.hide(),d=window.setTimeout(function(){Modernizr.opacity?u.fadeOut(500,function(){c.css("display",""),u.css("display",""),d=null,t.data("lastShowOffset",window.pageYOffset)}):(c.css("display",""),u.css("display",""),d=null,t.data("lastShowOffset",window.pageYOffset))},2e3)))))}function A(e,t,n){e=h.localizeNumber(e),n=h.localizeNumber(n);var i=e;void 0!==i&&(e!==n&&(i+="-"+n),r(i))}function T(){r("")}function s(e,t,n){var i=g(".article").offset().top,a=g(window).scrollTop()+i,o=a+g(window).height()-i,i=function(e,t,n){for(var i=0,a=e.length;i<a;){var o=i+a>>>1;n(e[o])<t?i=1+o:a=o}return i}(e,a,n),r=(t&&0<i&&i--,[]);if(i<e.length){r.push(i);for(var l=i+1;l<e.length&&!(o<=n(e[l]));l++)r.push(l)}return r}u=g("span[id^=v]");var u,c=function(){var e=s(u,!1,function(e){return g(e).offset().top});if(e.length)return{first:x(u[e[0]].id),last:1<e.length?x(u[e[e.length-1]].id):void 0}};function x(e){return e=(h.utilities.isContentLibraryHTML5()?/v\d+-(\d+)-(\d+)/:/dcv_(\d+)_(\d+)/).exec(e),{chapter:Number(e[1]),verse:Number(e[2])}}E=g("[id^=page]");var E,P=function(){var e,t=s(E,!0,function(e){return I(g(e))});if(t.length)return e=t.map(function(e){return E[e]}).sort(function(e,t){return e=parseInt(e.attributes["data-no"].value,10),t=parseInt(t.attributes["data-no"].value,10),e<t?-1:t<e?1:0}),{first:L(e[0]),last:1<t.length?L(e[e.length-1]):void 0}};function I(e){for(var t=e,n=!t.is(":visible");n;)n=(t=t.parent()).length&&!t.is(":visible");return t&&0<t.length?t.offset().top:0}function L(e){var e=g(e),t=Number(e.data("no"));return{top:I(e),pageNum:t,displayText:e.data("beforeText")}}R=g("p[data-pid]");var R,O=function(){var e=s(R,!0,function(e){return e=g(e),(t=(t=e).is(":visible")||(t=t.next()).offset()||(t=e.prev()).offset()?t:e.parent()).offset().top-g(".content").offset().top;var t});if(e.length)return e};function e(){var e,t,n,i=c();i?(t=i.first,i=i.last||t,h.isBibleDocument()?A(t.verse,t.verse,i.verse,i.verse):h.isBibleBookDocument()&&(e=t.verse,t=t.chapter,n=i.verse,i=i.chapter,e=h.localizeNumber(e),t=h.localizeNumber(t),n=h.localizeNumber(n),r(t+"-"+e+":"+(i=h.localizeNumber(i))+"-"+n))):T()}function N(){var e=P(),t=(e?(t=e.first,e=e.last||t,A(t.pageNum,t.displayText,e.pageNum,e.displayText)):T(),O());if(t){for(var n=t,i=[],a=0;a<n.length;a++){var o='p[data-pid="'+n[a]+'"]',r=g(o).data("relPid");if(r)for(var l=0;l<r.length;l++){var s=Number(r[l]);-1===g.inArray(s,i)&&i.push(s)}}var e=g("#questionContainer"),u=(e.width(g(".article").outerWidth(!0)),e.find("ul"));u.empty();for(var c=0;c<i.length;c++){var d='p[data-pid="'+i[c]+'"]',d=g(".contentContainer").find(d);u.append('<li><p class="qu">'+d.text()+"</p></li>")}}else g("#questionContainer").hide("slow"),g("#questionContainer").find("ul").empty()}function D(){h.isBibleDocument()||h.isBibleBookDocument()?e():h.isDocument()&&N()}function _(){var e=g("#toolbarFrame");"absolute"===e.css("position")&&e.css("margin-top",0),h.documentMenu.positionMenu()}h.pubsub=g(),h.setupTooltip=function(d){d.pointLink(function(e,a,t){var o=t.target;function i(){var e=g(".tooltip .tooltipVideo");(e=1<e.length?e.filter(":visible"):e).each(function(e,i){(i=g(i)).bind("videoResize",function(){var e,t,n;e=i.closest(".tooltip"),t=e.closest(".tooltipContainer"),n=t[0].getBoundingClientRect().top,e=e.height()+32,(e=g(window).height()-e)<n&&(e<0&&(e=0),e+=g(window).scrollTop(),t.css("top",e+"px"))}),h.video.setupTooltipPlayer(i.attr("id"),parseFloat(i.data("startTime")),parseFloat(i.data("duration")),0===e)})}function r(e){if(!c){var t,e=g(e),n="rtl"===d.closest("[dir]").attr("dir"),i=(u+=n?" dir-rtl":" dir-ltr",e.find('a[href*="footnotesource"],a[href*="endnotesource"]').remove(),e.wolTooltip(a.x,a.y,u,{rtl:n,complete:function(){h.highlightManager.enabled=!0,h.video.destroyPlayers()},target:o}),h.highlightManager.enabled=!1,e);switch(URI().segment(2)){case"dsync":case"bsync":case"dtsync":t=i.find("a")}t&&t.attr("target","_blank"),e.find("textarea, .tooltipContent input").prop("disabled",!0)}}var n,l=URI(e),s=l.fragment(),u="tooltip",c=!1;s?t._clickorhoverlink_FromTouch&&h.loadPage(l):(n=e.replace(/\/[\w-]+\/wol\//,"/wol/"),"rslink"===l.segment(1)&&(n+="&format=json"),t._clickorhoverlink_FromTouch||g(o).one("pointerout.tooltip",function(){c=!0}),s=250,t._clickorhoverlink_FromTouch&&(s=0),window.setTimeout(function(e){c||h.web.getJSON(n).done(function(e){(e=null==(e=e).items?{items:[e]}:e).tooltipContentErrorMessage=g("#tooltipContentErrorMessage").val(),e=Handlebars.templates.Tooltip(e);var n,e=h.transcribeUreLinks(e);e&&!c&&(r(e),(n=g(".tooltip .alternatePresentation .lightbox")).on("load",function(){var e=g(".tooltip .alternatePresentation .option"),t=(e.addClass("loaded"),h.images.setupLightboxItems(n));g(e).on("click",this,function(){return h.images.callLightbox(this,t),!1})}),i())}).fail(function(e){t._clickorhoverlink_FromTouch&&h.loadPage(l)})},s))},function(e){var e=URI(e),t=URI().host()===e.host(),n=e.segment(2),i=URI().directory()===e.directory();return""!==e.path()&&t&&!i&&"ml"!==n&&"mp"!==n&&"stringsreader"!==n})},h.calcMaxHeight=a,h.contentScrollHandler=D,h.layout={applyFontSize:function(){var e,t=h.fontSizeManager.getScale();t&&(e=document.getElementById("scalableui").sheet).insertRule(".scalableui{font-size:"+100*t+"%;}",e.cssRules.length),g(window).trigger("resize")},setupStudyPaneCollapse:function(){var n=g(".studyPaneToggle");n.on("click",function(){n.toggleClass("expanded");var e=n.hasClass("expanded"),t=e?"yes":"no";h.layout.toggleStudyPane(e),h.storage.setCookie("showStudy",t)})},toggleStudyPane:function(e){w("right",e)},toggleSecondaryNav:function(e){w("left",e)},toggleSidePane:w,toggleNavigation:function(){var e,t;!g("#secondaryNavContent").is(":visible")||n?(e=g("#secondaryNavContent"),t=e.prop("scrollHeight")>e.height(),e.is(":visible")&&t&&C("left")):k(!1)},applyStudyPaneCollapse:function(){var e="yes"===(e=null==(e=h.storage.getCookie("showStudy"))?"yes":e);y()||h.layout.toggleStudyPane(e)},setupSecondaryNavToggle:function(){var t=g(".secondaryNavToggle");t.on("click",function(){t.toggleClass("expanded");var e=t.hasClass("expanded");h.layout.toggleSecondaryNav(e)})},contentPositionAdjuster:_,toggleReferenceSymbols:function(){g("body").toggleClass("hideReferenceSymbols")},pixelsScrolledIntoView:l,setupSecondaryNav:function(){C("left")},setupSyncLinks:function(){var e;switch(h.getCommand()){case"dsync":e=g("#regionMain a, #resultNavigation a");break;case"bsync":e=g("#regionMain a, #documentNavigation .nav a");break;case"dtsync":e=g("#contentOnly a")}e&&e.attr("target","_blank")},displaySyncState:function(){switch(h.getCommand()){case"dsync":case"bsync":case"dtsync":g("#menuSynchronize").addClass("synchronizeBackgroundColor"),g("#menuSynchronizeSwitch").addClass("synchronizeBackgroundColor")}},setupScrollHandler:function(){var e;g(window).on("scroll",function(){D(),h.mediaMarker.autoScrollEnabled=!1}),g(window).on("scroll",function(){clearTimeout(e),e=setTimeout(function(){var e,t;h.documentMenu.positionMenu(),e=g("#secondaryNavContent"),t=g("#study"),(0<e.length||0<t.length||y())&&(e.is(":visible")||t.is(":visible"))&&C()},100)})},setupResizeHandler:function(){var e;g(window).on("resize orientationchange",function(){clearTimeout(e),e=setTimeout(function(){C(),h.menu.repositionConvenienceChars(),h.menu.repositionSuggestionList(),S()},100)}),g(window).on("beforeprint",function(){t=!0}),g(window).on("afterprint",function(){t=!1})},setupKeymapping:function(){g(document).on("keydown",function(e){118===e.keyCode&&h.menu.getActiveSearchControl().find(".searchField").trigger("focus")})},setupCSSAnimationHandler:function(){g("#secondaryNavContent").on("transitionend",function(e){o()}),g(".articlePositioner").on("transitionend",function(e){"margin-left"!=e.originalEvent.propertyName&&"margin"!=e.originalEvent.propertyName||h.documentMenu.positionMenu()})},setupNextSearchHitButton:function(){0<g(".mk, .mkhl").length&&g("#menuSearchHitNext").removeClass("hidden").show()},disableBodyScrolling:v,enableBodyScrolling:b,sideBarSizing:C,calcHeaderHeight:function(){var e=g("#regionHeader");return parseFloat(e.height())},setupLibraryColor:function(){var e=g("#userStatus"),t=e.data("libraryColor");null!=t&&""!==t&&e.css("background-color",t).addClass("private")},isFloatingMode:y,hasTokenizedString:p,isPrintingScreen:function(){return t},setupFootnotesAndEndnotes:function(){var e=g("#article.document");0<e.length&&e.find("a[data-fnid], a[data-enid]").on("click",function(e){e=g(e.currentTarget).data("pid")||e.currentTarget.id;return h.highlightManager.enabled&&h.highlightManager.toggleHighlight(e),!1})}}}(jQuery,app),!function(n,i){"use strict";function a(e){n(".active").removeClass("active");var t=n(e).data("relatedContent"),t=n("#"+t),e=n(e);t.addClass("active"),e.addClass("active"),i.url.matchUrlToStudyPane()}i.tabs={activateContent:a,wireTabs:function(e){e.each(function(e,t){n(t).on("click",function(){return a(this),!1})})}}}(jQuery,app),!function(l){app.scrollHandler={activateSubheadingTracking:function(){l("#subheadings a").each(function(e,t){var i,a,n,o;t=l(t.hash),i=l("#secondaryNavContent"),a=l("#regionHeader"),n=parseFloat(l("#regionMain").css("margin-top")),o=l(window).height(),t.waypoint(function(e){var t,n;l(".middleParagraph").removeClass("middleParagraph"),null!=(e="down"===e?this:this.previous())&&(e=l(e.element).data("pid"),l("[href$=p"+e+"]").parent().addClass("middleParagraph"),e=i.get(0).getBoundingClientRect(),t=(n=l(".middleParagraph").get(0).getBoundingClientRect()).top-a.height(),n=n.bottom-e.bottom,t<=0&&i.scrollTop(i.scrollTop()+t),0<n&&i.scrollTop(i.scrollTop()+n))},{offset:"50%",group:"midTop"}),t.waypoint(function(e){l("[href$=p"+l(this.element).data("pid")+"]").parent().toggleClass("visibleParagraph","down"===e)},{offset:function(){return o},group:"parDown"}),t.waypoint(function(e){var t=this.previous();null!=t&&l("[href$=p"+l(t.element).data("pid")+"]").parent().toggleClass("visibleParagraph","up"===e)},{offset:function(){return n-this.element.getBoundingClientRect().height},group:"parUp"})})},activateVerseTracking:function(){var t=l(".verseItem");t.each(function(e){l(t[e].hash).waypoint(function(e){l(".verseItem[href=#"+this.id+"]").toggleClass("activeVerse","up"===e)},{offset:function(){return-l(this).height()+parseFloat(l("#regionMain").css("margin-top"))}}).waypoint(function(e){l(".verseItem[href=#"+this.id+"]").toggleClass("activeVerse","down"===e)},{offset:"100%"})})},addBottomPadding:function(e){try{var t=l(e[0].hash),n=l("#regionFooter"),i=l("#article"),a=l("#regionHeader"),o=n.offset().top-t.offset().top,r=(window.innerHeight||document.documentElement.clientHeight||l(window).height())/2+a.outerHeight();o<r&&i.css("padding-bottom",r-o)}catch(e){}}}}(jQuery),!function(u,c){"use strict";function d(e,t,n,i,a){var o=t,t=["toggle"],r=e?"":" disabled",i=(e||t.push("disabled"),i&&t.push(i),u('<li class="'+t.join(" ")+'"><input type="checkbox"'+r+">"+n+'<span class="icon"></span></li>'));return e&&i.find("input").prop("checked",o).end().on("click",function(e){a(o=!o),u(this).find("input").prop("checked",o),e.stopPropagation()}),i}function p(){var e,t,n,i,a,o,r,l,s=u("#documentMenuButton");0<s.length&&(e=u(".documentMenu"),t=u(".articlePositioner"),n=s.outerWidth(),i=s.outerHeight(),l=a=0,r=u("#regionFooter"),o=window.innerHeight||document.documentElement.clientHeight||u(window).height(),o=Math.min(o-c.layout.pixelsScrolledIntoView(r),r[0].getBoundingClientRect().top)-n-8,s.css("top",o+"px"),e.css("top",o-e.height()-i/2),r=(t=0===t.length?u("#article"):t)[0].getBoundingClientRect(),l=c.isContentLibraryRTL()&&0<r.width?a=t.offset().left+8:(a=r.right-n-8)-e.width()+8,e.css("left",l+"px"),s.css("left",a+"px"))}c.documentMenu={makeDocumentMenu:function(){var e=new URI("/wol/ls");e.setQuery("locale",c.getUILanguage()).setQuery("type","documentOptions").setQuery("wtlocale",c.getContentLibraryLanguageSymbol()),c.web.getJSON(e.toString()).done(function(e){var t,n,i,a,o,r,l,s;e.strings&&(t=u("#content"),n=u('<ul class="documentMenu dropShadow20"></ul>'),c.utilities.currentDocumentRubyAvailable()&&n.append(d(c.utilities.enableRubyDocumentMenu(),c.utilities.showRubyOnForPage(),e.strings.showRubyText,e.classes.showRubyText,function(e){e?c.enableFeature("rb"):c.disableFeature("rb"),c.net.doRubyRedirect(URI(),e)})),c.isDocument()&&(window.ClientComponents?u(".pageNum").show():n.append(d(!0,!1,e.strings.pageNumbers,null,c.togglePageNo))),c.isBibleDocument()&&n.append(d(!0,!0,e.strings.referenceSymbols,null,c.layout.toggleReferenceSymbols)),c.hasDocumentContent()&&n.append((a=!0,e=e.strings.fontSize,o=null,r=function(e){(e<0&&c.fontSizeManager.decrement()||0<e&&c.fontSizeManager.increment())&&(c.layout.applyFontSize(),c.utilities.updateFontSize(!0))},l=["spin"],s=a?"":" disabled",a||l.push("disabled"),o&&l.push(o),u('<li class="'+l.join(" ")+'">'+e+'<span class="spinContainer"><button id="fontSizeSmaller"'+s+'><span class="icon"></span></button><button id="fontSizeLarger"'+s+'><span class="icon"></span></button></span></li>').find("#fontSizeSmaller").on("click",function(){r(-1)}).end().find("#fontSizeLarger").on("click",function(){r(1)}).end().on("click",function(e){e.stopPropagation()}))),0<n.children().length&&(i=function(){n.hide(),u(document).off("click"),c.highlightManager.enabled=!0},a=u('<div id="documentMenuButton" class="documentMenuIcon documentMenuActivator"><span class="icon"></span></div>').appendTo(t),c.utilities.currentDocumentRubyAvailable()&&a.append('<span class="rubyIndicator showRuby-'+c.getContentLibraryLanguageSymbol()+'"></span>'),u(".documentMenuActivator").on("click",function(e){n.is(":visible")?i():(n.show(),u(document).on("click",i),c.highlightManager.enabled=!1),e.stopPropagation()}),n.appendTo(t),p()))})},positionMenu:p}}(jQuery,app),!function(s,u){var l="hl",c="inserted",d="dimmed",r='<span class="'+d+" "+c+'">',p="</span>";s(r+p);function n(){return s("#article").find("."+l)}function g(){s("#article").addClass(d)}function i(e){var t=s("#"+h(e));return 0<t.length?u.isBibleDocument()&&!e?u.getVerseNumberFromIDAttribute(t.attr("id")):u.getParagraphIDFromIDAttribute(t.attr("id")):null}function h(e){return u.utilities.getFirstActionableIdInScope(e,n())}function f(e){return e instanceof jQuery?e:e?0!==(t=0!==(t=s("body").find(e)).length||"string"!=typeof e&&"number"!=typeof e?t:s("#article").find("[data-pid="+e+"]")).length||"string"!=typeof e&&"number"!=typeof e?t:s("#"+e):s();var t}function m(e){var t=s("."+d+"."+c),n=(t.contents().unwrap(),s("."+l));n.removeClass(l),(0<t.length||0<n.length)&&!e&&((e=s.Event("textunhighlighted")).$items=t.add(n),s(document).trigger(e)),s("#article").removeClass(d),s("."+d).removeClass(d)}function y(e){e=f(e);return 0<e.closest("."+l).length+e.find("."+l).length}function b(e,t){var n,i,a;e.constructor===String&&-1!==e.indexOf("=")?(n=URI("#"+e.replace(/^#*/,"")),(a=u.url.getHighlightTextRangeFromUrl(n))?u.highlightManager.highlightParagraphTextRange(a.stPar,a.stOff,a.edPar,a.edOff,!0):0<(a=u.url.getVersesFromUrl(n)).length&&u.highlightManager.highlightElems(a)):(a=(n=f(e)).closest("[id^=v]"),e=n.closest("[data-pid]"),i=0<a.length?(n=a.attr("id"),C(u.utilities.getAllVerseSegmentsFromIDAttribute(n),0,Number.MAX_VALUE,!0)):(a=e.data("pid"),C(s("#p"+a),0,Number.MAX_VALUE,!0))),g(),t&&t(),i&&s(document).trigger(i)}function v(i,e,a,t,n){i<a&&0===t&&(a--,t=Number.MAX_VALUE);var o=s("#article").find("[data-pid]"),r=(0===o.filter("[data-pid="+i+"]").length&&(e=0),0===o.filter("[data-pid="+a+"]").length&&(t=Number.MAX_VALUE),!1),l=s();return o.each(function(e,t){var n=s(t).data("pid");if((r=n===i?!0:r)&&(l=l.add(t)),n===a)return!1}),C(l.filter(function(e,t){return 0===s(t).parent().closest("[data-pid]").length}),e,t,n)}function C(n,i,a,e){n.each(function(e,t){t=s(t);0===e?e===n.length-1?0===i&&a===Number.MAX_VALUE||(t.insertTag(0,i,r,p,d),t.insertTag(a,Number.MAX_VALUE,r,p,d)):0!==i&&t.insertTag(0,i,r,p,d):e===n.length-1&&0<a&&a!==Number.MAX_VALUE&&t.insertTag(a,Number.MAX_VALUE,r,p,d),t.addClass(l)}),n.length&&g();var t=function(e){var t;function n(e,t){return s.contains(document.body,t)}t=e.find("."+l).addBack("."+l);for(var i=0;i<t.length;i++){var a,o,r=!1;(r=null!=s(t[i]).data("pid")?!0:r)||(r=s(t[i]).parent(),o=r.text().replace(/ /g,"").length,a=r.find("."+l).text().replace(/ /g,"").length,o===a&&(0<(o=r.find("."+d+"."+c)).length&&o.contents().unwrap(),r.addClass(l),r.find("*").removeClass(l),t=t.add(r).filter("."+l).filter(n),i--))}return t}(n);if(0<t.length){var o=s.Event("texthighlighted");if(o.$items=t,e)return o;s(document).trigger(o)}}u.highlightManager={removeHighlight:m,highlightParagraphTextRange:v,highlightElems:function(e){C(s(e),0,Number.MAX_VALUE)},highlightBibleVerseAsync:function(e,t){var n=(i="b"===u.getCommand())?u.getRsConfigSymbol():u.getContentRsConfigSymbol(),i=i?u.getLibrarySymbol():u.getContentLibrarySymbol(),a=u.getPubSym(),o=(u.getLangSym(),u.getPubYear(),u.getBookNumber()),r=u.getChapterNumber(),n=sprintf("/wol/bvr/%s/%s/%s/%s/%s/%s",n,i,a,o,r,e);u.web.getJSON(n).done(function(e){m(),v(e.begin_paragraph_id,e.begin_text_offset,e.end_paragraph_id,e.end_text_offset),t&&t()})},isHighlighted:y,highlight:b,toggleHighlight:function(e,t){var n,i,a,o,r,e=f(e),l=(e=f(e=e),l=e.closest("[id^=v]"),e=e.closest("[data-pid]"),0<l.length?l:e);y(l)?m(!1):(a=h(i=!1),o=l.attr("id"),null!=l.attr("data-pid")?n=s("[data-pid]").map(function(e,t){return t.id}):(n=s("[id^=v].v").map(function(e,t){return t.id}),a&&(o=u.utilities.getAllVerseSegmentsFromIDAttribute(o).get(-1).id)),m(!(a=null)),null==a?b(o):(r=s(),s.each(n,function(e,t){if((i=t===a?!0:i)&&(r=r.add(f(t))),t===o)return!1}),(e=C(r,0,Number.MAX_VALUE,!0))&&s(document).trigger(e))),t&&t()},enabled:!0,getFirstHighlightedId:h,getFirstHighlightedIdNumber:i,hasHighlight:function(){return null!==h()},getHighlightUrlFragment:function(e){var t;return i(e)?(u.isBibleDocument()&&!e?(t="v="+(e=n().closest(".v").add(n().find(".v")).add(n().filter(".v")).map(function(e,t){return u.getBookNumberFromIDAttribute(t.id)+":"+u.getChapterNumberFromIDAttribute(t.id)+":"+u.getVerseNumberFromIDAttribute(t.id)}).get())[0],1<e.length&&(t+="-"+e.pop())):(t="h="+(e=n().closest("[data-pid]").map(function(e,t){return u.getParagraphIDFromIDAttribute(t.id)}).get())[0],1<e.length&&(t+="-"+e.pop())),t):null},getHighlightedElements:n,highlightUrlFragment:function(){var e=u.url.getHighlightTextRangeFromUrl();e?(u.highlightManager.highlightParagraphTextRange(e.stPar,e.stOff,e.edPar,e.edOff,!0),u.highlightManager.getFirstHighlightedId()||u.url.removeUrlFragmentByKey("h",null,!0,!1)):u.url.removeUrlFragmentByKey("h",null,!0,!1),0<(e=window.location.hash).length&&((e=u.getVerseNumberFromIDAttribute(e))&&u.highlightManager.highlightElems(u.utilities.getFirstIdMatchingVerseNumber(e))),0<(e=u.url.getVersesFromUrl()).length?(u.highlightManager.highlightElems(e),u.highlightManager.getFirstHighlightedId()||u.url.removeUrlFragmentByKey("v",null,!0,!1)):u.url.removeUrlFragmentByKey("v",null,!0,!1)},setupHighlightDismiss:function(){s("#article").click(function(e){0<f(s(e.target)).closest("."+l).length||m(!1)})}}}(jQuery,app),!function(e,t){"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t():e.PhotoSwipe=t()}(this,function(){"use strict";return function(p,U,e,t){function B(){return{x:0,y:0}}function V(e,t){m.extend(y,t.publicMethods),ze.push(e)}function j(e){var t=N();return t-1<e?e-t:e<0?t+e:e}function o(e,t){return Ge[e]||(Ge[e]=[]),Ge[e].push(t)}function H(e,t,n,i){i===y.currItem.initialZoomLevel?n[e]=y.currItem.initialPosition[e]:(n[e]=Xe(e,i),n[e]>t.min[e]?n[e]=t.min[e]:n[e]<t.max[e]&&(n[e]=t.max[e]))}function q(e){var t="";b.escKey&&27===e.keyCode?t="close":b.arrowKeys&&(37===e.keyCode?t="prev":39===e.keyCode&&(t="next")),!t||e.ctrlKey||e.altKey||e.shiftKey||e.metaKey||(e.preventDefault?e.preventDefault():e.returnValue=!1,y[t]())}function W(e){e&&(Pe||Ee||f||Ae)&&(e.preventDefault(),e.stopPropagation())}function z(){y.setScrollOffset(0,m.getScrollY())}function Q(e){var t;"mousedown"===e.type&&0<e.button||(Xt?e.preventDefault():Te&&"mousedown"===e.type||(Rt(e,!0)&&e.preventDefault(),k("pointerDown"),ge&&((t=m.arraySearch(ft,e.pointerId,"id"))<0&&(t=ft.length),ft[t]={x:e.pageX,y:e.pageY,id:e.pointerId}),e=(t=Bt(e)).length,u=null,ut(),s&&1!==e||(s=De=!0,m.bind(window,ee,y),ke=Fe=_e=Ae=Le=Pe=xe=Ee=!1,Ne=null,k("firstTouchStart",t),E(je,v),Ve.x=Ve.y=0,E(R,t[0]),E(ht,R),mt.x=w.x*He,yt=[{x:R.x,y:R.y}],we=Ce=A(),it(h,!0),xt(),Et()),!c&&1<e&&!f&&!Le&&(ne=h,c=xe=!(Ee=!1),Ve.y=Ve.x=0,E(je,v),E(I,t[0]),E(gt,t[1]),Nt(I,gt,kt),St.x=Math.abs(kt.x)-v.x,St.y=Math.abs(kt.y)-v.y,Re=Tt(I,gt))))}function K(e){var t;e.preventDefault(),ge&&-1<(t=m.arraySearch(ft,e.pointerId,"id"))&&((t=ft[t]).x=e.pageX,t.y=e.pageY),s&&(t=Bt(e),Ne||Pe||c?u=t:O.x!==w.x*He?Ne="h":(e=Math.abs(t[0].x-R.x)-Math.abs(t[0].y-R.y),Math.abs(e)>=pt&&(Ne=0<e?"h":"v",u=t)))}function G(e){if(l.isOldAndroid){if(Te&&"mouseup"===e.type)return;-1<e.type.indexOf("touch")&&(clearTimeout(Te),Te=setTimeout(function(){Te=0},600))}k("pointerUp"),Rt(e,!1)&&e.preventDefault(),ge&&-1<(o=m.arraySearch(ft,e.pointerId,"id"))&&(t=ft.splice(o,1)[0],navigator.pointerEnabled?t.type=e.pointerType||"mouse":(t.type={4:"mouse",2:"touch",3:"pen"}[e.pointerType],t.type||(t.type=e.pointerType||"mouse")));var t,n=(o=Bt(e)).length;if(2===(n="mouseup"===e.type?0:n))return!(u=null);1===n&&E(ht,o[0]),0!==n||Ne||f||(t||("mouseup"===e.type?t={x:e.pageX,y:e.pageY,type:"mouse"}:e.changedTouches&&e.changedTouches[0]&&(t={x:e.changedTouches[0].pageX,y:e.changedTouches[0].pageY,type:"touch"})),k("touchRelease",e,t));var i,a,o=-1;if(0===n&&(s=!1,m.unbind(window,ee,y),xt(),c?o=0:-1!==wt&&(o=A()-wt)),wt=1===n?A():-1,e=-1!==o&&o<150?"zoom":"swipe",c&&n<2&&(c=!1,1===n&&(e="zoomPointerUp"),k("zoomGestureEnded")),u=null,Pe||Ee||f||Ae)if(ut(),(Se=Se||Ht()).calculateSwipeSpeed("x"),Ae)_t()<b.verticalDragRange?y.close():(i=v.y,a=Me,ct("verticalDrag",0,1,300,m.easing.cubic.out,function(e){v.y=(y.currItem.initialPosition.y-i)*e+i,T((1-a)*e+a),x()}),k("onVerticalDrag",1));else{if((Le||f)&&0===n){if(Wt(e,Se))return;e="zoomPointerUp"}f||("swipe"!==e?Qt():!Le&&h>y.currItem.fitRatio&&qt(Se))}}var Y,$,Z,g,J,X,ee,te,n,h,ne,ie,ae,oe,re,r,le,se,ue,ce,de,pe,ge,i,he,fe,me,ye,be,l,ve,Ce,we,Se,ke,Ae,Te,s,xe,Ee,Pe,Ie,Le,u,c,Re,d,Oe,f,Ne,De,_e,Me,Fe,Ue,m={features:null,bind:function(e,t,n,i){var a=(i?"remove":"add")+"EventListener";t=t.split(" ");for(var o=0;o<t.length;o++)t[o]&&e[a](t[o],n,!1)},isArray:function(e){return e instanceof Array},createEl:function(e,t){t=document.createElement(t||"div");return e&&(t.className=e),t},getScrollY:function(){var e=window.pageYOffset;return void 0!==e?e:document.documentElement.scrollTop},unbind:function(e,t,n){m.bind(e,t,n,!0)},removeClass:function(e,t){t=new RegExp("(\\s|^)"+t+"(\\s|$)");e.className=e.className.replace(t," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")},addClass:function(e,t){m.hasClass(e,t)||(e.className+=(e.className?" ":"")+t)},hasClass:function(e,t){return e.className&&new RegExp("(^|\\s)"+t+"(\\s|$)").test(e.className)},getChildByClass:function(e,t){for(var n=e.firstChild;n;){if(m.hasClass(n,t))return n;n=n.nextSibling}},arraySearch:function(e,t,n){for(var i=e.length;i--;)if(e[i][n]===t)return i;return-1},extend:function(e,t,n){for(var i in t)!t.hasOwnProperty(i)||n&&e.hasOwnProperty(i)||(e[i]=t[i])},easing:{sine:{out:function(e){return Math.sin(e*(Math.PI/2))},inOut:function(e){return-(Math.cos(Math.PI*e)-1)/2}},cubic:{out:function(e){return--e*e*e+1}}},detectFeatures:function(){if(m.features)return m.features;for(var e,t,n,i,a,o=m.createEl().style,r="",l={},s=(l.touch="ontouchstart"in window,window.requestAnimationFrame&&(l.raf=window.requestAnimationFrame,l.caf=window.cancelAnimationFrame),l.pointerEvent=navigator.pointerEnabled||navigator.msPointerEnabled,l.pointerEvent||(e=navigator.userAgent,/iP(hone|od)/.test(navigator.platform)&&(t=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/))&&0<t.length&&1<=(t=parseInt(t[1],10))&&t<8&&(l.isOldIOSPhone=!0),t=(t=e.match(/Android\s([0-9\.]*)/))?t[1]:0,1<=(t=parseFloat(t))&&(t<4.4&&(l.isOldAndroid=!0),l.androidVersion=t),l.isMobileOpera=/opera mini|opera mobi/i.test(e)),["transform","perspective","animationName"]),u=["","webkit","Moz","ms","O"],c=0;c<4;c++){for(var r=u[c],d=0;d<3;d++)n=s[d],i=r+(r?n.charAt(0).toUpperCase()+n.slice(1):n),!l[n]&&i in o&&(l[n]=i);r&&!l.raf&&(r=r.toLowerCase(),l.raf=window[r+"RequestAnimationFrame"],l.raf&&(l.caf=window[r+"CancelAnimationFrame"]||window[r+"CancelRequestAnimationFrame"]))}return l.raf||(a=0,l.raf=function(e){var t=(new Date).getTime(),n=Math.max(0,16-(t-a)),i=window.setTimeout(function(){e(t+n)},n);return a=t+n,i},l.caf=function(e){clearTimeout(e)}),l.svg=!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,m.features=l}},y=(m.detectFeatures(),this),Be=25,b={allowPanToNext:!0,spacing:.12,bgOpacity:1,mouseUsed:!1,loop:!0,pinchToClose:!0,closeOnScroll:!0,closeOnVerticalDrag:!0,verticalDragRange:.75,hideAnimationDuration:333,showAnimationDuration:333,showHideOpacity:!1,focus:!0,escKey:!0,arrowKeys:!0,mainScrollEndFriction:.35,panEndFriction:.35,isClickableElement:function(e){return"A"===e.tagName},getDoubleTapZoom:function(e,t){return e||t.initialZoomLevel<.7?1:1.33},maxSpreadZoom:1.33,modal:!0,scaleMode:"fit"},Ve=(m.extend(b,t),B()),je=B(),v=B(),C={},He=0,qe={},w=B(),S=0,We=!0,ze=[],Qe={},Ke=!1,Ge={},k=function(e){var t=Ge[e];if(t){var n=Array.prototype.slice.call(arguments);n.shift();for(var i=0;i<t.length;i++)t[i].apply(y,n)}},A=function(){return(new Date).getTime()},T=function(e){Me=e,y.bg.style.opacity=e*b.bgOpacity},Ye=function(e,t,n,i,a){(!Ke||a&&a!==y.currItem)&&(i/=(a||y.currItem).fitRatio),e[pe]=ie+t+"px, "+n+"px"+ae+" scale("+i+")"},x=function(e){Oe&&(e&&(h>y.currItem.fitRatio?Ke||(sn(y.currItem,!1,!0),Ke=!0):Ke&&(sn(y.currItem),Ke=!1)),Ye(Oe,v.x,v.y,h))},$e=function(e){e.container&&Ye(e.container.style,e.initialPosition.x,e.initialPosition.y,e.initialZoomLevel,e)},Ze=function(e,t){t[pe]=ie+e+"px, 0px"+ae},Je=function(e,t){var n;!b.loop&&t&&(t=g+(w.x*He-e)/w.x,n=Math.round(e-O.x),(t<0&&0<n||t>=N()-1&&n<0)&&(e=O.x+n*b.mainScrollEndFriction)),O.x=e,Ze(e,J)},Xe=function(e,t){var n=St[e]-qe[e];return je[e]+Ve[e]+n-t/ne*n},E=function(e,t){e.x=t.x,e.y=t.y,t.id&&(e.id=t.id)},et=function(e){e.x=Math.round(e.x),e.y=Math.round(e.y)},tt=null,nt=function(){tt&&(m.unbind(document,"mousemove",nt),m.addClass(p,"pswp--has_mouse"),b.mouseUsed=!0,k("mouseUsed")),tt=setTimeout(function(){tt=null},100)},it=function(e,t){e=rn(y.currItem,C,e);return t&&(d=e),e},at=function(e){return(e=e||y.currItem).initialZoomLevel},ot=function(e){return 0<(e=e||y.currItem).w?b.maxSpreadZoom:1},P={},rt=0,lt=function(e){P[e]&&(P[e].raf&&fe(P[e].raf),rt--,delete P[e])},st=function(e){P[e]&&lt(e),P[e]||(rt++,P[e]={})},ut=function(){for(var e in P)P.hasOwnProperty(e)&&lt(e)},ct=function(e,t,n,i,a,o,r){function l(){if(P[e]){if(s=A()-u,i<=s)return lt(e),o(n),void(r&&r());o((n-t)*a(s/i)+t),P[e].raf=he(l)}}var s,u=A();st(e);l()},t={shout:k,listen:o,viewportSize:C,options:b,isMainScrollAnimating:function(){return f},getZoomLevel:function(){return h},getCurrentIndex:function(){return g},isDragging:function(){return s},isZooming:function(){return c},setScrollOffset:function(e,t){qe.x=e,be=qe.y=t,k("updateScrollOffset",qe)},applyZoomPan:function(e,t,n,i){v.x=t,v.y=n,h=e,x(i)},init:function(){if(!Y&&!$){y.framework=m,y.template=p,y.bg=m.getChildByClass(p,"pswp__bg"),me=p.className,Y=!0,l=m.detectFeatures(),he=l.raf,fe=l.caf,pe=l.transform,y.scrollWrap=m.getChildByClass(p,"pswp__scroll-wrap"),y.container=m.getChildByClass(y.scrollWrap,"pswp__container"),J=y.container.style,y.itemHolders=r=[{el:y.container.children[0],wrap:0,index:-1},{el:y.container.children[1],wrap:0,index:-1},{el:y.container.children[2],wrap:0,index:-1}],r[0].el.style.display=r[2].el.style.display="none",!function(){var e;if(pe)return e=l.perspective&&!i,ie="translate"+(e?"3d(":"("),ae=l.perspective?", 0px)":")";pe="left",m.addClass(p,"pswp--ie"),Ze=function(e,t){t.left=e+"px"},$e=function(e){var t=1<e.fitRatio?1:e.fitRatio,n=e.container.style,i=t*e.w,t=t*e.h;n.width=i+"px",n.height=t+"px",n.left=e.initialPosition.x+"px",n.top=e.initialPosition.y+"px"},x=function(){var e,t,n,i;Oe&&(e=Oe,n=(i=1<(t=y.currItem).fitRatio?1:t.fitRatio)*t.w,i=i*t.h,e.width=n+"px",e.height=i+"px",e.left=v.x+"px",e.top=v.y+"px")}}(),n={resize:y.updateSize,orientationchange:function(){clearTimeout(ve),ve=setTimeout(function(){C.x!==y.scrollWrap.clientWidth&&y.updateSize()},500)},scroll:z,keydown:q,click:W};var e,t=l.isOldIOSPhone||l.isOldAndroid||l.isMobileOpera;for(l.animationName&&l.transform&&!t||(b.showAnimationDuration=b.hideAnimationDuration=0),e=0;e<ze.length;e++)y["init"+ze[e]]();U&&(y.ui=new U(y,m)).init(),k("firstUpdate"),g=g||b.index||0,(isNaN(g)||g<0||g>=N())&&(g=0),y.currItem=en(g),(l.isOldIOSPhone||l.isOldAndroid)&&(We=!1),p.setAttribute("aria-hidden","false"),b.modal&&(We?p.style.position="fixed":(p.style.position="absolute",p.style.top=m.getScrollY()+"px")),void 0===be&&(k("initialLayout"),be=ye=m.getScrollY());t="pswp--open ";for(b.mainClass&&(t+=b.mainClass+" "),b.showHideOpacity&&(t+="pswp--animate_opacity "),t=(t=(t+=i?"pswp--touch":"pswp--notouch")+(l.animationName?" pswp--css_animation":""))+(l.svg?" pswp--svg":""),m.addClass(p,t),y.updateSize(),X=-1,S=null,e=0;e<3;e++)Ze((e+X)*w.x,r[e].el.style);m.bind(y.scrollWrap,te,y),o("initialZoomInEnd",function(){y.setContent(r[0],g-1),y.setContent(r[2],g+1),r[0].el.style.display=r[2].el.style.display="block",b.focus&&p.focus(),m.bind(document,"keydown",y),l.transform&&m.bind(y.scrollWrap,"click",y),b.mouseUsed||m.bind(document,"mousemove",nt),m.bind(window,"resize scroll orientationchange",y),k("bindEvents")}),y.setContent(r[1],g),y.updateCurrItem(),k("afterInit"),We||(oe=setInterval(function(){rt||s||c||h!==y.currItem.initialZoomLevel||y.updateSize()},1e3)),m.addClass(p,"pswp--visible")}},close:function(){Y&&($=!(Y=!1),k("close"),m.unbind(window,"resize scroll orientationchange",y),m.unbind(window,"scroll",n.scroll),m.unbind(document,"keydown",y),m.unbind(document,"mousemove",nt),l.transform&&m.unbind(y.scrollWrap,"click",y),s&&m.unbind(window,ee,y),clearTimeout(ve),k("unbindEvents"),tn(y.currItem,null,!0,y.destroy))},destroy:function(){k("destroy"),$t&&clearTimeout($t),p.setAttribute("aria-hidden","true"),p.className=me,oe&&clearInterval(oe),m.unbind(y.scrollWrap,te,y),m.unbind(window,"scroll",y),xt(),ut(),Ge=null},panTo:function(e,t,n){n||(e>d.min.x?e=d.min.x:e<d.max.x&&(e=d.max.x),t>d.min.y?t=d.min.y:t<d.max.y&&(t=d.max.y)),v.x=e,v.y=t,x()},handleEvent:function(e){e=e||window.event,n[e.type]&&n[e.type](e)},goTo:function(e){var t=(e=j(e))-g;S=t,g=e,y.currItem=en(g),He-=t,Je(w.x*He),ut(),f=!1,y.updateCurrItem()},next:function(){y.goTo(g+1)},prev:function(){y.goTo(g-1)},updateCurrZoomItem:function(e){var t;e&&k("beforeChange",0),Oe=r[1].el.children.length?(t=r[1].el.children[0],m.hasClass(t,"pswp__zoom-wrap")?t.style:null):null,d=y.currItem.bounds,ne=h=y.currItem.initialZoomLevel,v.x=d.center.x,v.y=d.center.y,e&&k("afterChange")},invalidateCurrItems:function(){re=!0;for(var e=0;e<3;e++)r[e].item&&(r[e].item.needsUpdate=!0)},updateCurrItem:function(e){if(0!==S){var t,n=Math.abs(S);if(!(e&&n<2)){y.currItem=en(g),Ke=!1,k("beforeChange",S),3<=n&&(X+=S+(0<S?-3:3),n=3);for(var i=0;i<n;i++)0<S?(t=r.shift(),r[2]=t,Ze((++X+2)*w.x,t.el.style),y.setContent(t,g-n+i+1+1)):(t=r.pop(),r.unshift(t),Ze(--X*w.x,t.el.style),y.setContent(t,g+n-i-1-1));!Oe||1!==Math.abs(S)||(e=en(le)).initialZoomLevel!==h&&(rn(e,C),sn(e),$e(e)),S=0,y.updateCurrZoomItem(),le=g,k("afterChange")}}},updateSize:function(e){if(!We&&b.modal){var t=m.getScrollY();if(be!==t&&(p.style.top=t+"px",be=t),!e&&Qe.x===window.innerWidth&&Qe.y===window.innerHeight)return;Qe.x=window.innerWidth,Qe.y=window.innerHeight,p.style.height=Qe.y+"px"}if(C.x=y.scrollWrap.clientWidth,C.y=y.scrollWrap.clientHeight,z(),w.x=C.x+Math.round(C.x*b.spacing),w.y=C.y,Je(w.x*He),k("beforeResize"),void 0!==X){for(var n,i,a,o=0;o<3;o++)n=r[o],Ze((o+X)*w.x,n.el.style),a=g+o-1,b.loop&&2<N()&&(a=j(a)),(i=en(a))&&(re||i.needsUpdate||!i.bounds)?(y.cleanSlide(i),y.setContent(n,a),1===o&&(y.currItem=i,y.updateCurrZoomItem(!0)),i.needsUpdate=!1):-1===n.index&&0<=a&&y.setContent(n,a),i&&i.container&&(rn(i,C),sn(i),$e(i));re=!1}ne=h=y.currItem.initialZoomLevel,(d=y.currItem.bounds)&&(v.x=d.center.x,v.y=d.center.y,x(!0)),k("resize")},zoomTo:function(t,e,n,i,a){e&&(ne=h,St.x=Math.abs(e.x)-v.x,St.y=Math.abs(e.y)-v.y,E(je,v));function o(e){1===e?(h=t,v.x=r.x,v.y=r.y):(h=(t-l)*e+l,v.x=(r.x-s.x)*e+s.x,v.y=(r.y-s.y)*e+s.y),a&&a(e),x(1===e)}var e=it(t,!1),r={},l=(H("x",e,r,t),H("y",e,r,t),h),s={x:v.x,y:v.y};et(r);n?ct("customZoomTo",0,1,n,i||m.easing.sine.inOut,o):o(1)}},dt=30,pt=10,I={},gt={},L={},R={},ht={},ft=[],mt={},yt=[],bt={},vt=0,Ct=B(),wt=0,O=B(),St=B(),kt=B(),At=function(e,t){return e.x===t.x&&e.y===t.y},Tt=function(e,t){return bt.x=Math.abs(e.x-t.x),bt.y=Math.abs(e.y-t.y),Math.sqrt(bt.x*bt.x+bt.y*bt.y)},xt=function(){Ie&&(fe(Ie),Ie=null)},Et=function(){s&&(Ie=he(Et),jt())},Pt=function(){return!("fit"===b.scaleMode&&h===y.currItem.initialZoomLevel)},It=function(e,t){return!(!e||e===document)&&(!(e.getAttribute("class")&&-1<e.getAttribute("class").indexOf("pswp__scroll-wrap"))&&(t(e)?e:It(e.parentNode,t)))},Lt={},Rt=function(e,t){return Lt.prevent=!It(e.target,b.isClickableElement),k("preventDragEvent",e,t,Lt),Lt.prevent},Ot=function(e,t){return t.x=e.pageX,t.y=e.pageY,t.id=e.identifier,t},Nt=function(e,t,n){n.x=.5*(e.x+t.x),n.y=.5*(e.y+t.y)},Dt=function(e,t,n){var i;50<e-we&&((i=2<yt.length?yt.shift():{}).x=t,i.y=n,yt.push(i),we=e)},_t=function(){var e=v.y-y.currItem.initialPosition.y;return 1-Math.abs(e/(C.y/2))},Mt={},Ft={},Ut=[],Bt=function(e){for(;0<Ut.length;)Ut.pop();return ge?(Ue=0,ft.forEach(function(e){0===Ue?Ut[0]=e:1===Ue&&(Ut[1]=e),Ue++})):-1<e.type.indexOf("touch")?e.touches&&0<e.touches.length&&(Ut[0]=Ot(e.touches[0],Mt),1<e.touches.length&&(Ut[1]=Ot(e.touches[1],Ft))):(Mt.x=e.pageX,Mt.y=e.pageY,Mt.id="",Ut[0]=Mt),Ut},Vt=function(e,t){var n,i,a,o=v[e]+t[e],r=0<t[e],l=O.x+t.x,s=O.x-mt.x,u=o>d.min[e]||o<d.max[e]?b.panEndFriction:1,o=v[e]+t[e]*u;if((b.allowPanToNext||h===y.currItem.initialZoomLevel)&&(Oe?"h"!==Ne||"x"!==e||Ee||(r?(o>d.min[e]&&(u=b.panEndFriction,d.min[e],n=d.min[e]-je[e]),(n<=0||s<0)&&1<N()?(a=l,s<0&&l>mt.x&&(a=mt.x)):d.min.x!==d.max.x&&(i=o)):(o<d.max[e]&&(u=b.panEndFriction,d.max[e],n=je[e]-d.max[e]),(n<=0||0<s)&&1<N()?(a=l,0<s&&l<mt.x&&(a=mt.x)):d.min.x!==d.max.x&&(i=o))):a=l,"x"===e))return void 0!==a&&(Je(a,!0),Le=a!==mt.x),d.min.x!==d.max.x&&(void 0!==i?v.x=i:Le||(v.x+=t.x*u)),void 0!==a;f||Le||h>y.currItem.fitRatio&&(v[e]+=t[e]*u)},jt=function(){if(u){var e,t,n,i,a,o=u.length;if(0!==o)if(E(I,u[0]),L.x=I.x-R.x,L.y=I.y-R.y,c&&1<o)R.x=I.x,R.y=I.y,!L.x&&!L.y&&At(u[1],gt)||(E(gt,u[1]),Ee||(Ee=!0,k("zoomGestureStarted")),o=Tt(I,gt),(e=zt(o))>y.currItem.initialZoomLevel+y.currItem.initialZoomLevel/15&&(Fe=!0),t=1,n=at(),i=ot(),e<n?b.pinchToClose&&!Fe&&ne<=y.currItem.initialZoomLevel?(T(a=1-(n-e)/(n/1.2)),k("onPinchClose",a),_e=!0):e=n-(t=1<(t=(n-e)/n)?1:t)*(n/3):i<e&&(e=i+(t=1<(t=(e-i)/(6*n))?1:t)*n),t<0&&(t=0),Nt(I,gt,Ct),Ve.x+=Ct.x-kt.x,Ve.y+=Ct.y-kt.y,E(kt,Ct),v.x=Xe("x",e),v.y=Xe("y",e),ke=h<e,h=e,x());else if(Ne&&(De&&(De=!1,Math.abs(L.x)>=pt&&(L.x-=u[0].x-ht.x),Math.abs(L.y)>=pt&&(L.y-=u[0].y-ht.y)),R.x=I.x,R.y=I.y,0!==L.x||0!==L.y)){if("v"===Ne&&b.closeOnVerticalDrag)if(!Pt())return Ve.y+=L.y,v.y+=L.y,a=_t(),Ae=!0,k("onVerticalDrag",a),T(a),void x();Dt(A(),I.x,I.y),Pe=!0,d=y.currItem.bounds,Vt("x",L)||(Vt("y",L),et(v),x())}}},Ht=function(){var t,n,i={lastFlickOffset:{},lastFlickDist:{},lastFlickSpeed:{},slowDownRatio:{},slowDownRatioReverse:{},speedDecelerationRatio:{},speedDecelerationRatioAbs:{},distanceOffset:{},backAnimDestination:{},backAnimStarted:{},calculateSwipeSpeed:function(e){n=1<yt.length?(t=A()-we+50,yt[yt.length-2][e]):(t=A()-Ce,ht[e]),i.lastFlickOffset[e]=R[e]-n,i.lastFlickDist[e]=Math.abs(i.lastFlickOffset[e]),20<i.lastFlickDist[e]?i.lastFlickSpeed[e]=i.lastFlickOffset[e]/t:i.lastFlickSpeed[e]=0,Math.abs(i.lastFlickSpeed[e])<.1&&(i.lastFlickSpeed[e]=0),i.slowDownRatio[e]=.95,i.slowDownRatioReverse[e]=1-i.slowDownRatio[e],i.speedDecelerationRatio[e]=1},calculateOverBoundsAnimOffset:function(t,e){i.backAnimStarted[t]||(v[t]>d.min[t]?i.backAnimDestination[t]=d.min[t]:v[t]<d.max[t]&&(i.backAnimDestination[t]=d.max[t]),void 0!==i.backAnimDestination[t]&&(i.slowDownRatio[t]=.7,i.slowDownRatioReverse[t]=1-i.slowDownRatio[t],i.speedDecelerationRatioAbs[t]<.05&&(i.lastFlickSpeed[t]=0,i.backAnimStarted[t]=!0,ct("bounceZoomPan"+t,v[t],i.backAnimDestination[t],e||300,m.easing.sine.out,function(e){v[t]=e,x()}))))},calculateAnimOffset:function(e){i.backAnimStarted[e]||(i.speedDecelerationRatio[e]=i.speedDecelerationRatio[e]*(i.slowDownRatio[e]+i.slowDownRatioReverse[e]-i.slowDownRatioReverse[e]*i.timeDiff/10),i.speedDecelerationRatioAbs[e]=Math.abs(i.lastFlickSpeed[e]*i.speedDecelerationRatio[e]),i.distanceOffset[e]=i.lastFlickSpeed[e]*i.speedDecelerationRatio[e]*i.timeDiff,v[e]+=i.distanceOffset[e])},panAnimLoop:function(){P.zoomPan&&(P.zoomPan.raf=he(i.panAnimLoop),i.now=A(),i.timeDiff=i.now-i.lastNow,i.lastNow=i.now,i.calculateAnimOffset("x"),i.calculateAnimOffset("y"),x(),i.calculateOverBoundsAnimOffset("x"),i.calculateOverBoundsAnimOffset("y"),i.speedDecelerationRatioAbs.x<.05&&i.speedDecelerationRatioAbs.y<.05&&(v.x=Math.round(v.x),v.y=Math.round(v.y),x(),lt("zoomPan")))}};return i},qt=function(e){if(e.calculateSwipeSpeed("y"),d=y.currItem.bounds,e.backAnimDestination={},e.backAnimStarted={},Math.abs(e.lastFlickSpeed.x)<=.05&&Math.abs(e.lastFlickSpeed.y)<=.05)return e.speedDecelerationRatioAbs.x=e.speedDecelerationRatioAbs.y=0,e.calculateOverBoundsAnimOffset("x"),e.calculateOverBoundsAnimOffset("y"),!0;st("zoomPan"),e.lastNow=A(),e.panAnimLoop()},Wt=function(e,t){f||(vt=g),"swipe"===e&&(e=R.x-ht.x,o=t.lastFlickDist.x<10,dt<e&&(o||20<t.lastFlickOffset.x)?i=-1:e<-dt&&(o||t.lastFlickOffset.x<-20)&&(i=1)),i&&((g+=i)<0?(g=b.loop?N()-1:0,a=!0):g>=N()&&(g=b.loop?0:N()-1,a=!0),a&&!b.loop||(S+=i,He-=i,n=!0));var n,i,a,e=w.x*He,o=Math.abs(e-O.x),r=n||e>O.x==0<t.lastFlickSpeed.x?(r=0<Math.abs(t.lastFlickSpeed.x)?o/Math.abs(t.lastFlickSpeed.x):333,r=Math.min(r,400),Math.max(r,250)):333;return vt===g&&(n=!1),f=!0,k("mainScrollAnimStart"),ct("mainScroll",O.x,e,r,m.easing.cubic.out,Je,function(){ut(),f=!1,vt=-1,!n&&vt===g||y.updateCurrItem(),k("mainScrollAnimComplete")}),n&&y.updateCurrItem(!0),n},zt=function(e){return 1/Re*e*ne},Qt=function(){var e,t=h,n=at(),i=ot(),a=(h<n?t=n:i<h&&(t=i),Me);return _e&&!ke&&!Fe&&h<n?y.close():(_e&&(e=function(e){T((1-a)*e+a)}),y.zoomTo(t,0,200,m.easing.cubic.out,e)),!0};V("Gestures",{publicMethods:{initGestures:function(){function e(e,t,n,i,a){se=e+t,ue=e+n,ce=e+i,de=a?e+a:""}(ge=l.pointerEvent)&&l.touch&&(l.touch=!1),ge?navigator.pointerEnabled?e("pointer","down","move","up","cancel"):e("MSPointer","Down","Move","Up","Cancel"):l.touch?(e("touch","start","move","end","cancel"),i=!0):e("mouse","down","move","up"),ee=ue+" "+ce+" "+de,te=se,ge&&!i&&(i=1<navigator.maxTouchPoints||1<navigator.msMaxTouchPoints),y.likelyTouchDevice=i,n[se]=Q,n[ue]=K,n[ce]=G,de&&(n[de]=n[ce]),l.touch&&(te+=" mousedown",ee+=" mousemove mouseup",n.mousedown=n[se],n.mousemove=n[ue],n.mouseup=n[ce]),i||(b.allowPanToNext=!1)}}});function Kt(e){function t(){e.loading=!1,e.loaded=!0,e.loadComplete?e.loadComplete(e):e.img=null,n.onload=n.onerror=null,n=null}var n;e.loading=!0,e.loaded=!1,e.svg?(n=e.img=m.createEl("pswp__img","object")).type="image/svg+xml":n=e.img=m.createEl("pswp__img","img"),n.onload=t,n.onerror=function(){e.loadError=!0,t()},e.svg?n.data=e.src:n.src=e.src}function Gt(e,t){return e.src&&e.loadError&&e.container&&(t&&(e.container.innerHTML=""),e.container.innerHTML=b.errorMsg.replace("%url%",e.src),1)}function Yt(){if(_.length){for(var e,t=0;t<_.length;t++)(e=_[t]).holder.index===e.index&&ln(e.index,e.item,e.baseDiv,e.img,!1,e.clearPlaceholder);_=[]}}var $t,Zt,Jt,Xt,en,N,tn=function(o,e,r,t){function l(){lt("initialZoom"),r?(y.template.removeAttribute("style"),y.bg.removeAttribute("style")):(T(1),e&&(e.style.display="block"),m.addClass(p,"pswp--animated-in"),k("initialZoom"+(r?"OutEnd":"InEnd"))),t&&t(),Xt=!1}$t&&clearTimeout($t),Jt=Xt=!0,o.initialLayout?(s=o.initialLayout,o.initialLayout=null):s=b.getThumbBoundsFn&&b.getThumbBoundsFn(g);var s,u=r?b.hideAnimationDuration:b.showAnimationDuration;if(!u||!s||void 0===s.x)return k("initialZoom"+(r?"Out":"In")),h=o.initialZoomLevel,E(v,o.initialPosition),x(),p.style.opacity=r?0:1,T(1),void(u?setTimeout(function(){l()},u):l());var c,d;c=Z,d=!y.currItem.src||y.currItem.loadError||b.showHideOpacity,o.miniImg&&(o.miniImg.style.webkitBackfaceVisibility="hidden"),r||(h=s.w/o.w,v.x=s.x,v.y=s.y-ye,y[d?"template":"bg"].style.opacity=.001,x()),st("initialZoom"),r&&!c&&m.removeClass(p,"pswp--animated-in"),d&&(r?m[(c?"remove":"add")+"Class"](p,"pswp--animate_opacity"):setTimeout(function(){m.addClass(p,"pswp--animate_opacity")},30)),$t=setTimeout(function(){var t,n,i,a,e;k("initialZoom"+(r?"Out":"In")),r?(t=s.w/o.w,n={x:v.x,y:v.y},i=h,a=Me,e=function(e){1===e?(h=t,v.x=s.x,v.y=s.y-be):(h=(t-i)*e+i,v.x=(s.x-n.x)*e+n.x,v.y=(s.y-be-n.y)*e+n.y),x(),d?p.style.opacity=1-e:T(a-e*a)},c?ct("initialZoom",0,1,u,m.easing.cubic.out,e,l):(e(1),$t=setTimeout(l,u+20))):(h=o.initialZoomLevel,E(v,o.initialPosition),x(),T(1),d?p.style.opacity=1:T(1),$t=setTimeout(l,u+20))},r?25:90)},D={},_=[],nn={index:0,errorMsg:'<div class="pswp__error-msg"><a href="%url%" target="_blank">The image</a> could not be loaded.</div>',forceProgressiveLoading:!1,preload:[1,1],getNumItemsFn:function(){return Zt.length}},an=function(){return{center:{x:0,y:0},max:{x:0,y:0},min:{x:0,y:0}}},on=function(e,t,n){var i=e.bounds;i.center.x=Math.round((D.x-t)/2),i.center.y=Math.round((D.y-n)/2)+e.vGap.top,i.max.x=t>D.x?Math.round(D.x-t):i.center.x,i.max.y=n>D.y?Math.round(D.y-n)+e.vGap.top:i.center.y,i.min.x=t>D.x?0:i.center.x,i.min.y=n>D.y?e.vGap.top:i.center.y},rn=function(e,t,n){if(!e.src||e.loadError)return e.w=e.h=0,e.initialZoomLevel=e.fitRatio=1,e.bounds=an(),e.initialPosition=e.bounds.center,e.bounds;var i,a=!n;return a&&(e.vGap||(e.vGap={top:0,bottom:0}),k("parseVerticalMargin",e)),D.x=t.x,D.y=t.y-e.vGap.top-e.vGap.bottom,a&&(t=D.x/e.w,i=D.y/e.h,e.fitRatio=t<i?t:i,"orig"===(t=b.scaleMode)?n=1:"fit"===t&&(n=e.fitRatio),e.initialZoomLevel=n=1<n?1:n,e.bounds||(e.bounds=an())),n?(on(e,e.w*n,e.h*n),a&&n===e.initialZoomLevel&&(e.initialPosition=e.bounds.center),e.bounds):void 0},ln=function(e,t,n,i,a,o){t.loadError||i&&(t.imageAppended=!0,sn(t,i,t===y.currItem&&Ke),n.appendChild(i),o&&setTimeout(function(){t&&t.loaded&&t.placeholder&&(t.placeholder.style.display="none",t.placeholder=null)},500))},sn=function(e,t,n){if(e.src){t=t||e.container.lastChild;var i=n?e.w:Math.round(e.w*e.fitRatio),a=n?e.h:Math.round(e.h*e.fitRatio);e.placeholder&&!e.loaded&&(e.placeholder.style.width=i+"px",e.placeholder.style.height=a+"px"),t.style.width=i+"px",t.style.height=a+"px";for(var o=0;o<=e.container.childNodes.length;o++)e.container.childNodes[o]&&"OBJECT"===e.container.childNodes[o].tagName&&(e.container.childNodes[o].style.width=i+"px",e.container.childNodes[o].style.height=a+"px")}};V("Controller",{publicMethods:{lazyLoadItem:function(e){e=j(e);var t=en(e);t&&(!t.loaded&&!t.loading||re)&&(k("gettingData",e,t),t.src&&Kt(t))},initController:function(){m.extend(b,nn,!0),y.items=Zt=e,en=y.getItemAt,N=b.getNumItemsFn,b.loop,N()<3&&(b.loop=!1),o("beforeChange",function(e){for(var t=b.preload,n=null===e||0<=e,i=Math.min(t[0],N()),a=Math.min(t[1],N()),o=1;o<=(n?a:i);o++)y.lazyLoadItem(g+o);for(o=1;o<=(n?i:a);o++)y.lazyLoadItem(g-o)}),o("initialLayout",function(){y.currItem.initialLayout=b.getThumbBoundsFn&&b.getThumbBoundsFn(g)}),o("mainScrollAnimComplete",Yt),o("initialZoomInEnd",Yt),o("destroy",function(){for(var e,t=0;t<Zt.length;t++)(e=Zt[t]).container&&(e.container=null),e.placeholder&&(e.placeholder=null),e.img&&(e.img=null),e.preloader&&(e.preloader=null),e.loadError&&(e.loaded=e.loadError=!1);_=null})},getItemAt:function(e){return 0<=e&&(void 0!==Zt[e]&&Zt[e])},allowProgressiveImg:function(){return b.forceProgressiveLoading||!i||b.mouseUsed||1200<screen.width},setContent:function(t,n){b.loop&&(n=j(n));var i,e,a,o=y.getItemAt(t.index),o=(o&&(o.container=null),y.getItemAt(n));o?(k("gettingData",n,o),t.index=n,i=(t.item=o).container=m.createEl("pswp__zoom-wrap"),!o.src&&o.html&&(o.html.tagName?i.appendChild(o.html):i.innerHTML=o.html),Gt(o),rn(o,C),!o.src||o.loadError||o.loaded?!o.src&&!o.data||o.loadError||(o.svg?((e=o.img=m.createEl("pswp__img","object")).type="image/svg+xml",e.data=o.src):(e=o.img=m.createEl("pswp__img","img")).src=o.src,e.style.opacity=1,sn(o,e),ln(n,o,i,e,!0),o.svg&&ln(n,o,i,m.createEl("pswp__img pswp__img--overlay","div"),!0)):(o.loadComplete=function(e){if(Y){if(t&&t.index===n){if(Gt(e,!0))return e.loadComplete=e.img=null,rn(e,C),$e(e),void(t.index===g&&y.updateCurrZoomItem());e.imageAppended?!Xt&&e.placeholder&&(e.placeholder.style.display="none",e.placeholder=null):l.transform&&(f||Xt)?(_.push({item:e,baseDiv:i,img:e.img,index:n,holder:t,clearPlaceholder:!0}),e.svg&&_.push({item:e,baseDiv:i,img:m.createEl("pswp__img pswp__img--overlay","div"),index:n,holder:t,clearPlaceholder:!0})):(ln(n,e,i,e.img,f||Xt,!0),e.svg&&ln(n,e,i,m.createEl("pswp__img pswp__img--overlay","div"),f||Xt,!0))}e.loadComplete=null,e.img=null,k("imageLoadComplete",n,e)}},m.features.transform&&(a="pswp__img pswp__img--placeholder",a+=o.msrc?"":" pswp__img--placeholder--blank",a=m.createEl(a,o.msrc?"img":""),o.msrc&&(a.src=o.msrc),sn(o,a),i.appendChild(a),o.placeholder=a),o.loading||Kt(o),y.allowProgressiveImg()&&(!Jt&&l.transform?(_.push({item:o,baseDiv:i,img:o.img,index:n,holder:t}),o.svg&&_.push({item:o,baseDiv:i,img:m.createEl("pswp__img pswp__img--overlay","div"),index:n,holder:t})):(ln(n,o,i,o.img,!0,!0),o.svg&&ln(n,o,i,m.createEl("pswp__img pswp__img--overlay","div"),!0,!0)))),Jt||n!==g?$e(o):(Oe=i.style,tn(o,e||o.img)),t.el.innerHTML="",t.el.appendChild(i)):t.el.innerHTML=""},cleanSlide:function(e){e.img&&(e.img.onload=e.img.onerror=null),e.loaded=e.loading=e.img=e.imageAppended=!1}}});function un(e,t,n){var i=document.createEvent("CustomEvent"),t={origEvent:e,target:e.target,releasePoint:t,pointerType:n||"touch"};i.initCustomEvent("pswpTap",!0,!0,t),e.target.dispatchEvent(i)}function cn(){gn&&clearTimeout(gn),fn&&clearTimeout(fn)}function dn(){var e=Tn(),t={};if(e.length<5)return t;var n,i=e.split("&");for(o=0;o<i.length;o++)i[o]&&((n=i[o].split("=")).length<2||(t[n[0]]=n[1]));if(b.galleryPIDs){for(var a=t.pid,o=t.pid=0;o<Zt.length;o++)if(Zt[o].pid===a){t.pid=o;break}}else t.pid=parseInt(t.pid,10)-1;return t.pid<0&&(t.pid=0),t}var pn,M,gn,hn,fn,mn,yn,bn,a,vn,Cn,wn,F,Sn,kn={},An=(V("Tap",{publicMethods:{initTap:function(){o("firstTouchStart",y.onTapStart),o("touchRelease",y.onTapRelease),o("destroy",function(){kn={},pn=null})},onTapStart:function(e){1<e.length&&(clearTimeout(pn),pn=null)},onTapRelease:function(e,t){var n,i,a;!t||Pe||xe||rt||(n=t,pn&&(clearTimeout(pn),pn=null,i=n,a=kn,Math.abs(i.x-a.x)<Be&&Math.abs(i.y-a.y)<Be)?k("doubleTap",n):"mouse"===t.type?un(e,t,"mouse"):"BUTTON"===e.target.tagName.toUpperCase()||m.hasClass(e.target,"pswp__single-tap")?un(e,t):(E(kn,n),pn=setTimeout(function(){un(e,t),pn=null},300)))}}}),V("DesktopZoom",{publicMethods:{initDesktopZoom:function(){i?o("mouseUsed",function(){y.setupDesktopZoom()}):y.setupDesktopZoom(!0)},setupDesktopZoom:function(e){M={};var t="wheel mousewheel DOMMouseScroll";o("bindEvents",function(){m.bind(p,t,y.handleMouseWheel)}),o("unbindEvents",function(){M&&m.unbind(p,t,y.handleMouseWheel)}),y.mouseZoomedIn=!1;function n(){y.mouseZoomedIn&&(m.removeClass(p,"pswp--zoomed-in"),y.mouseZoomedIn=!1),h<1?m.addClass(p,"pswp--zoom-allowed"):m.removeClass(p,"pswp--zoom-allowed"),a()}var i,a=function(){i&&(m.removeClass(p,"pswp--dragging"),i=!1)};o("resize",n),o("afterChange",n),o("pointerDown",function(){y.mouseZoomedIn&&(i=!0,m.addClass(p,"pswp--dragging"))}),o("pointerUp",a),e||n()},handleMouseWheel:function(e){if(h<=y.currItem.fitRatio)return b.modal&&(!b.closeOnScroll||rt||s?e.preventDefault():pe&&2<Math.abs(e.deltaY)&&(Z=!0,y.close())),!0;if(e.stopPropagation(),M.x=0,"deltaX"in e)1===e.deltaMode?(M.x=18*e.deltaX,M.y=18*e.deltaY):(M.x=e.deltaX,M.y=e.deltaY);else if("wheelDelta"in e)e.wheelDeltaX&&(M.x=-.16*e.wheelDeltaX),e.wheelDeltaY?M.y=-.16*e.wheelDeltaY:M.y=-.16*e.wheelDelta;else{if(!("detail"in e))return;M.y=e.detail}it(h,!0);var t=v.x-M.x,n=v.y-M.y;(b.modal||t<=d.min.x&&t>=d.max.x&&n<=d.min.y&&n>=d.max.y)&&e.preventDefault(),y.panTo(t,n)},toggleDesktopZoom:function(e){e=e||{x:C.x/2+qe.x,y:C.y/2+qe.y};var t=b.getDoubleTapZoom(!0,y.currItem),n=h===t;y.mouseZoomedIn=!n,y.zoomTo(n?y.currItem.initialZoomLevel:t,e,333),m[(n?"remove":"add")+"Class"](p,"pswp--zoomed-in")}}}),{history:!0,galleryUID:1}),Tn=function(){return F.hash.substring(1)},xn=function(){var e,t;fn&&clearTimeout(fn),rt||s?fn=setTimeout(xn,500):(mn?clearTimeout(hn):mn=!0,t=g+1,(e=en(g)).hasOwnProperty("pid")&&(t=e.pid),e=a+"&gid="+b.galleryUID+"&pid="+t,vn||-1===F.hash.indexOf(e)&&(wn=!0),t=F.href.split("#")[0]+"#"+e,Sn?"#"+e!==window.location.hash&&history[vn?"replaceState":"pushState"]("",document.title,t):vn?F.replace(t):F.hash=e,vn=!0,hn=setTimeout(function(){mn=!1},60))};V("History",{publicMethods:{initHistory:function(){var e,t;m.extend(b,An,!0),b.history&&(F=window.location,vn=Cn=wn=!1,a=Tn(),Sn="pushState"in history,-1<a.indexOf("gid=")&&(a=(a=a.split("&gid=")[0]).split("?gid=")[0]),o("afterChange",y.updateURL),o("unbindEvents",function(){m.unbind(window,"hashchange",y.onHashChange)}),e=function(){bn=!0,Cn||(wn?history.back():a?F.hash=a:Sn?history.pushState("",document.title,F.pathname+F.search):F.hash=""),cn()},o("unbindEvents",function(){Z&&e()}),o("destroy",function(){bn||e()}),o("firstUpdate",function(){g=dn().pid}),-1<(t=a.indexOf("pid="))&&"&"===(a=a.substring(0,t)).slice(-1)&&(a=a.slice(0,-1)),setTimeout(function(){Y&&m.bind(window,"hashchange",y.onHashChange)},40))},onHashChange:function(){if(Tn()===a)return Cn=!0,void y.close();mn||(yn=!0,y.goTo(dn().pid),yn=!1)},updateURL:function(){cn(),yn||(vn?gn=setTimeout(xn,800):xn())}}}),m.extend(y,t)}}),!function(e,t){"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t():e.PhotoSwipeUI_Default=t()}(this,function(){"use strict";return function(i,l){function e(e){if(x)return!0;e=e||window.event,T.timeToIdle&&T.mouseUsed&&!v&&s();for(var t,n,i=(e.target||e.srcElement).getAttribute("class")||"",a=0;a<_.length;a++)(t=_[a]).onTap&&-1<i.indexOf("pswp__"+t.name)&&(t.onTap(),n=!0);n&&(e.stopPropagation&&e.stopPropagation(),x=!0,e=l.features.isOldAndroid?600:30,setTimeout(function(){x=!1},e))}function n(){var e=1===T.getNumItemsFn();e!==A&&(N(g,"ui--one-slide",e),A=e)}function r(){N(y,"share-modal--hidden",O)}function a(){if((O=!O)?(l.removeClass(y,"pswp__share-modal--fade-in"),setTimeout(function(){O&&r()},300)):(r(),setTimeout(function(){O||l.addClass(y,"pswp__share-modal--fade-in")},30)),!O){for(var e,t,n,i,a="",o=0;o<T.shareButtons.length;o++){e=T.shareButtons[o];t=T.getImageURLForShare(e);n=T.getPageURLForShare(e);i=T.getTextForShare(e);n=e.url.replace("{{url}}",encodeURIComponent(n)).replace("{{image_url}}",encodeURIComponent(t)).replace("{{raw_image_url}}",t).replace("{{text}}",encodeURIComponent(i));a+='<a href="'+n+'" target="_blank" '+'class="pswp__share--'+e.id+'"'+(e.download?"download":"")+">"+e.label+"</a>";if(T.parseShareButtonOut)a=T.parseShareButtonOut(e,a)}y.children[0].innerHTML=a,y.children[0].onclick=U}}function o(e){for(var t=0;t<T.closeElClasses.length;t++)if(l.hasClass(e,"pswp__"+T.closeElClasses[t]))return!0}function s(){clearTimeout(P),D=0,v&&I.setIdle(!1)}function u(e){(e=(e=e||window.event).relatedTarget||e.toElement)&&"HTML"!==e.nodeName||(clearTimeout(P),P=setTimeout(function(){I.setIdle(!0)},T.timeToIdleOutside))}function c(e){S!==e&&(N(w,"preloader--active",!e),S=e)}function d(e){var t,n=e.vGap;!i.likelyTouchDevice||T.mouseUsed||screen.width>T.fitControlsWidth?(t=T.barsSize,T.captionEl&&"auto"===t.bottom?(f||((f=l.createEl("pswp__caption pswp__caption--fake")).appendChild(l.createEl("pswp__caption__center")),g.insertBefore(f,h),l.addClass(g,"pswp__ui--fit")),T.addCaptionHTMLFn(e,f,!0)?(e=f.clientHeight,n.bottom=parseInt(e,10)||44):n.bottom=t.top):n.bottom="auto"===t.bottom?0:t.bottom,n.top=t.top):n.top=n.bottom=0}function M(){function e(e){if(e)for(var t=e.length,n=0;n<t;n++){a=e[n],o=a.className;for(var i=0;i<_.length;i++)r=_[i],-1<o.indexOf("pswp__"+r.name)&&(T[r.option]?(l.removeClass(a,"pswp__element--disabled"),r.onInit&&r.onInit(a)):l.addClass(a,"pswp__element--disabled"))}}e(g.children);var a,o,r,t=l.getChildByClass(g,"pswp__top-bar");t&&e(t.children)}var p,g,h,f,t,m,y,b,v,C,w,S,k,A,T,x,E,P,I=this,L=!1,R=!0,O=!0,F={barsSize:{top:44,bottom:"auto"},closeElClasses:["item","caption","zoom-wrap","ui","top-bar"],timeToIdle:4e3,timeToIdleOutside:1e3,loadingIndicatorDelay:1e3,addCaptionHTMLFn:function(e,t){return e.title?(t.children[0].innerHTML=e.title,!0):(t.children[0].innerHTML="",!1)},closeEl:!0,captionEl:!0,fullscreenEl:!0,zoomEl:!0,shareEl:!0,counterEl:!0,arrowEl:!0,preloaderEl:!0,tapToClose:!1,tapToToggleControls:!0,clickToCloseNonZoomable:!0,shareButtons:[{id:"facebook",label:"Share on Facebook",url:"https://www.facebook.com/sharer/sharer.php?u={{url}}"},{id:"twitter",label:"Tweet",url:"https://twitter.com/intent/tweet?text={{text}}&url={{url}}"},{id:"pinterest",label:"Pin it",url:"http://www.pinterest.com/pin/create/button/?url={{url}}&media={{image_url}}&description={{text}}"},{id:"download",label:"Download image",url:"{{raw_image_url}}",download:!0}],getImageURLForShare:function(){return i.currItem.src||""},getPageURLForShare:function(){return window.location.href},getTextForShare:function(){return i.currItem.title||""},indexIndicatorSep:" / ",fitControlsWidth:1200},N=function(e,t,n){l[(n?"add":"remove")+"Class"](e,"pswp__"+t)},U=function(e){var t=(e=e||window.event).target||e.srcElement;return i.shout("shareLinkClick",e,t),!!t.href&&(!!t.hasAttribute("download")||(window.open(t.href,"pswp_share","scrollbars=yes,resizable=yes,toolbar=no,location=yes,width=550,height=420,top=100,left="+(window.screen?Math.round(screen.width/2-275):100)),O||a(),!1))},D=0,_=[{name:"caption",option:"captionEl",onInit:function(e){h=e}},{name:"share-modal",option:"shareEl",onInit:function(e){y=e},onTap:function(){a()}},{name:"button--share",option:"shareEl",onInit:function(e){m=e},onTap:function(){a()}},{name:"button--zoom",option:"zoomEl",onTap:i.toggleDesktopZoom},{name:"counter",option:"counterEl",onInit:function(e){t=e}},{name:"button--close",option:"closeEl",onTap:i.close},{name:"button--arrow--left",option:"arrowEl",onTap:i.prev},{name:"button--arrow--right",option:"arrowEl",onTap:i.next},{name:"button--fs",option:"fullscreenEl",onTap:function(){p.isFullscreen()?p.exit():p.enter()}},{name:"preloader",option:"preloaderEl",onInit:function(e){w=e}}];I.init=function(){var t;l.extend(i.options,F,!0),T=i.options,g=l.getChildByClass(i.scrollWrap,"pswp__ui"),(C=i.listen)("onVerticalDrag",function(e){R&&e<.95?I.hideControls():!R&&.95<=e&&I.showControls()}),C("onPinchClose",function(e){R&&e<.9?(I.hideControls(),t=!0):t&&!R&&.9<e&&I.showControls()}),C("zoomGestureEnded",function(){(t=!1)&&!R&&I.showControls()}),C("beforeChange",I.update),C("doubleTap",function(e){var t=i.currItem.initialZoomLevel;i.getZoomLevel()!==t?i.zoomTo(t,e,333):i.zoomTo(T.getDoubleTapZoom(!1,i.currItem),e,333)}),C("preventDragEvent",function(e,t,n){var i=e.target||e.srcElement;i&&i.getAttribute("class")&&-1<e.type.indexOf("mouse")&&(0<i.getAttribute("class").indexOf("__caption")||/(SMALL|STRONG|EM)/i.test(i.tagName))&&(n.prevent=!1)}),C("bindEvents",function(){l.bind(g,"pswpTap click",e),l.bind(i.scrollWrap,"pswpTap",I.onGlobalTap),i.likelyTouchDevice||l.bind(i.scrollWrap,"mouseover",I.onMouseOver)}),C("unbindEvents",function(){O||a(),E&&clearInterval(E),l.unbind(document,"mouseout",u),l.unbind(document,"mousemove",s),l.unbind(g,"pswpTap click",e),l.unbind(i.scrollWrap,"pswpTap",I.onGlobalTap),l.unbind(i.scrollWrap,"mouseover",I.onMouseOver),p&&(l.unbind(document,p.eventK,I.updateFullscreen),p.isFullscreen()&&(T.hideAnimationDuration=0,p.exit()),p=null)}),C("destroy",function(){T.captionEl&&(f&&g.removeChild(f),l.removeClass(h,"pswp__caption--empty")),y&&(y.children[0].onclick=null),l.removeClass(g,"pswp__ui--over-close"),l.addClass(g,"pswp__ui--hidden"),I.setIdle(!1)}),T.showAnimationDuration||l.removeClass(g,"pswp__ui--hidden"),C("initialZoomIn",function(){T.showAnimationDuration&&l.removeClass(g,"pswp__ui--hidden")}),C("initialZoomOut",function(){l.addClass(g,"pswp__ui--hidden")}),C("parseVerticalMargin",d),M(),T.shareEl&&m&&y&&(O=!0),n(),T.timeToIdle&&C("mouseUsed",function(){l.bind(document,"mousemove",s),l.bind(document,"mouseout",u),E=setInterval(function(){2===++D&&I.setIdle(!0)},T.timeToIdle/2)}),T.fullscreenEl&&!l.features.isOldAndroid&&((p=p||I.getFullscreenAPI())?(l.bind(document,p.eventK,I.updateFullscreen),I.updateFullscreen(),l.addClass(i.template,"pswp--supports-fs")):l.removeClass(i.template,"pswp--supports-fs")),T.preloaderEl&&(c(!0),C("beforeChange",function(){clearTimeout(k),k=setTimeout(function(){i.currItem&&i.currItem.loading?i.allowProgressiveImg()&&(!i.currItem.img||i.currItem.img.naturalWidth)||c(!1):c(!0)},T.loadingIndicatorDelay)}),C("imageLoadComplete",function(e,t){i.currItem===t&&c(!0)}))},I.setIdle=function(e){N(g,"ui--idle",v=e)},I.update=function(){L=!(!R||!i.currItem)&&(I.updateIndexIndicator(),T.captionEl&&(T.addCaptionHTMLFn(i.currItem,h),N(h,"caption--empty",!i.currItem.title)),!0),O||a(),n()},I.updateFullscreen=function(e){e&&setTimeout(function(){i.setScrollOffset(0,l.getScrollY())},50),l[(p.isFullscreen()?"add":"remove")+"Class"](i.template,"pswp--fs")},I.updateIndexIndicator=function(){T.counterEl&&(t.innerHTML=i.getCurrentIndex()+1+T.indexIndicatorSep+T.getNumItemsFn())},I.onGlobalTap=function(e){var t=(e=e||window.event).target||e.srcElement;x||(e.detail&&"mouse"===e.detail.pointerType?o(t)?i.close():l.hasClass(t,"pswp__img")&&(1===i.getZoomLevel()&&i.getZoomLevel()<=i.currItem.fitRatio?T.clickToCloseNonZoomable&&i.close():i.toggleDesktopZoom(e.detail.releasePoint)):(T.tapToToggleControls&&(R?I.hideControls():I.showControls()),T.tapToClose&&(l.hasClass(t,"pswp__img")||o(t))&&i.close()))},I.onMouseOver=function(e){e=(e=e||window.event).target||e.srcElement;N(g,"ui--over-close",o(e))},I.hideControls=function(){l.addClass(g,"pswp__ui--hidden"),R=!1},I.showControls=function(){R=!0,L||I.update(),l.removeClass(g,"pswp__ui--hidden")},I.supportsFullscreen=function(){var e=document;return!!(e.exitFullscreen||e.mozCancelFullScreen||e.webkitExitFullscreen||e.msExitFullscreen)},I.getFullscreenAPI=function(){var e,t=document.documentElement,n="fullscreenchange";return t.requestFullscreen?e={enterK:"requestFullscreen",exitK:"exitFullscreen",elementK:"fullscreenElement",eventK:n}:t.mozRequestFullScreen?e={enterK:"mozRequestFullScreen",exitK:"mozCancelFullScreen",elementK:"mozFullScreenElement",eventK:"moz"+n}:t.webkitRequestFullscreen?e={enterK:"webkitRequestFullscreen",exitK:"webkitExitFullscreen",elementK:"webkitFullscreenElement",eventK:"webkit"+n}:t.msRequestFullscreen&&(e={enterK:"msRequestFullscreen",exitK:"msExitFullscreen",elementK:"msFullscreenElement",eventK:"MSFullscreenChange"}),e&&(e.enter=function(){if(b=T.closeOnScroll,T.closeOnScroll=!1,"webkitRequestFullscreen"!==this.enterK)return i.template[this.enterK]();i.template[this.enterK](Element.ALLOW_KEYBOARD_INPUT)},e.exit=function(){return T.closeOnScroll=b,document[this.exitK]()},e.isFullscreen=function(){return document[this.elementK]}),e}}}),!function(c,d){"use strict";var a,o;function r(e,t){var n,i,a,o=c(t),r="svg"===o.data("altType")&&d.utilities.isOldSafari(),l=o.data("altSrc")||o.data("imgLargeSrc")||o.attr("src"),s=o.data("imgLargeX")?4*parseInt(o.data("imgLargeX"),10):4*o[0].naturalWidth,u=o.data("imgLargeY")?4*parseInt(o.data("imgLargeY"),10):4*o[0].naturalHeight;return"svg"===o.data("altType")&&(n=o.height(),i=o.width(),0!==n&&0!==i||(n=o[0].naturalHeight,i=o[0].naturalWidth),o=screen.height/n,a=screen.width/i,u=n*Math.min(o,a)*4,s=i*Math.min(o,a)*4),{svg:r,src:l,w:s,h:u,elem:t,index:e}}function n(){return document.querySelectorAll(".pswp")[0]}function t(e,t){var e=function(e,t){for(var n=null,i=0,a=t.length;i<a;i++)t[i].elem===e&&(n=t[i].index);return n}(e,t=void 0===t?a:t);return null!==e&&(t=t,e={index:e=e,bgOpacity:.7,history:!1,closeOnVerticalDrag:!1},new PhotoSwipe(n(),PhotoSwipeUI_Default,t,e).init(),!0)}c.fn.imagesLoaded=function(){var e=this.find('img[src!=""]');if(!e.length)return c.Deferred().resolve().promise();var n=[];return e.each(function(){var e=c.Deferred(),t=(n.push(e),new Image);t.onload=function(){e.resolve()},t.onerror=function(){e.resolve()},t.onabort=function(){e.resolve()},t.src=this.src}),c.when.apply(c,n)},d.images={setupImages:function(){c(".article img").not("a > img:not(.lightbox)").each(function(){var e=c(this),t=e.attr("src");e.data("imgLargeSrc",t),e.data("imgLargeX",parseInt(e.attr("width"),10)),e.data("imgLargeY",parseInt(e.attr("height"),10)),"svg"===e.data("altType")&&e.attr("src")===e.data("altSrc")&&d.utilities.isOldSafari()&&(t=c("<object/>").attr("data",t).css("position","absolute").css("top",0).css("left",0),e.css("opacity",0),e.closest("div").css("position","relative"),e.parent().prepend(t))})},setupLightboxItems:function(e){var t=void 0!==e?c(e):c(".article img").not(".noLightbox, .suppressZoom, a > img:not(.lightbox)"),n=[],i=[];if(t.each(function(e,t){c(t).parents(".alternatePresentation").length?i.push(r(i.length,t)):n.push(r(n.length,t))}),void 0!==e)return n;a=n,o=i},showAltPresentationLightbox:function(e){return t(c(e).find("img")[0],o)},callLightbox:t,placeholders:function(){c(".responsiveLoadingImage").parent().imagesLoaded().then(function(){c(".responsiveLoadingImage").each(function(){c(this).css("display","inline-block").prev().replaceWith(this)})})},hasLightbox:function(){return!!n()}}}(jQuery,app),!function(b,v){"use strict";function C(e){e=v.utilities.getFirstActionableIdInScope(!1,e.$items);return v.mediaMarker.getMarker(e)}function w(e,t,n,i){return parseInt(e-t+n/2-i)}function S(e,t,n,i,a,o){return i-2*a<=(e=e<=t?v.utilities.roundToNearest(t+n,n):e)&&(e=v.utilities.roundDown(i-2*a,n),o<=i-a&&(e=v.utilities.roundDown(o,n))),e}function k(e){var t;v.media.isPlayerPlaying?b("#playSelectedButton").addClass("stopButton").removeClass("playButton").one("click",function(e){return v.mediaMarker.stop(),k(),!1}):(t=b("#playSelectedButton")).addClass("playButton").removeClass("stopButton").one("click",function(e){return v.mediaMarker.playSelected(t.data("buildEvent").$items),A(!0),v.mediaMarker.clearMarkers(),!1}),v.share.canSharePage()&&(b("#shareContextButton").one("click",function(e){return A(!0),v.share.openShareDialog(),!1}),b("#shareCopyWithCaptionButton").one("click",function(e){return v.share.getShareCaption(function(e){v.utilities.copyRichText(e)}),A(!0),!1}))}function A(e,t){var n,l,i=b("#contextMenu");n=b("#contextMenu").children("span"),l=!1,n.each(function(e,t){var t=t.getBoundingClientRect(),n=t.top,i=t.bottom,a=t.left,t=t.right;if(v.lastClickEvent){var o=v.lastClickEvent.clientX,r=v.lastClickEvent.clientY;if(a<o&&o<t&&n<r&&r<i)return!(l=!0)}}),l&&!e||(t?i.remove():i.fadeOut("slow",function(){i.remove()}),b(document).off(".contextMenuDismiss"))}v.contextMenu={drawMenu:function(y){(C(y)||v.share.canSharePage())&&(A(!0,!0),b("#contextMenu").promise().done(function(){var e,t,n,i,a,o,r,l,s,u,c,d,p,g,h,f,m;y.$items&&0<y.$items.length&&(0<(e=function(t){var n=b('<span id="contextMenu"/>').addClass("contextMenu").css("left",-9999).on("click",function(e){return!1});function e(e){n.append(b('<span id="'+e+'"><span class="icon"></span></span>').data("buildEvent",t))}C(t)&&e("playSelectedButton");v.share.canSharePage()&&(e("shareContextButton"),e("shareCopyWithCaptionButton"));return n}(y)).find("span").length&&(b("#regionMain").before(e),g=parseInt(e.css("margin-right"),10),t=parseInt(e.css("margin-bottom"),10),n=parseInt(e.css("margin-left"),10),i=parseInt(e.css("margin-top"),10),a=(g-t)/2+parseInt(e.css("border-top-left-radius"),10),o=e.width(),l=g+(r=v.utilities.roundToNearest(o/2,5)),m=o-r,u=(s=b(y.$items[0]).parent()[0].getBoundingClientRect()).left+a,c=s.right-a,p=(h=(f=v.highlightManager.getHighlightedElements().find(".cl, .vl"))&&0<f.length?(d=f.position(),p=f[0].getBoundingClientRect(),h=f.width(),p.left+h/2):(d=(f=b("#"+v.highlightManager.getFirstHighlightedId(!1))).position(),f.closest("table").length&&(d.top=f.offset().top-f.offsetParent().offset().top),p=f[0].getBoundingClientRect(),v.isContentLibraryRTL()?p.right-a-5:p.left+a+n+5),d.top),d=h,p=p=(p+=parseInt(f.css("margin-top"),10))+v.utilities.getVideoPlayerHeight(),l=g/2+(r=S(r=function(e,t,n,i,a,o,r,l,s){var u=t-n.left,c=n.right-t,d=0,p=0;if(Math.abs(u-c)>2*i)for(;d!==e;)p=e,u<a&&(p-=i),c<o&&(p+=i),p===d&&(p<d?v.isLibraryRTL()&&(p=d):v.isLibraryRTL()||(p=d)),d=e,a=r/2+(e=p)+l,o=w(s,e,r,l);return e}(r,h,s,5,l,m,g,a,o),n,5,o,a,i))+a,m=w(o,r,g,a),h=b("#regionHeader").height(),f.offset().top-b(window).scrollTop()-h<0?(d=v.isContentLibraryRTL()?s.right-m:s.left+l,p=b(window).scrollTop()+h):p+=h,p=p-e.outerHeight()-t,d=function(e,t,n,i,a,o){v.isLibraryRTL()?(e<t&&(e=n.left),a<e+i&&(e=n.right-i-2*o)):(e=a<e+i?n.right-i-2*o:e)<t&&(e=n.left);return e}(d-=l,u,s,o,c,a),r=S(r,n,5,o,a,i),g=y,f=p,m=d,(h=e).addClass("triangle-center-"+r),h.css("margin",0),h.css("top",f).css("left",m),k(),window.setTimeout(function(){b(document).one("scroll.contextMenuDismiss click.contextMenuDismiss",function(e){A()})},500)))}))},removeContextMenu:A,setupMenuEvent:k}}(jQuery,app),!function(r,l){r("audio");var s,u,c,d=!1;function p(e){return Math.round(1e6*e)/1e6}function g(e){try{var t=e.toString().match(/(\d\d):(\d\d):(\d\d\.\d\d\d)/);return p(3600*parseInt(t[1],10)+60*parseInt(t[2],10)+parseFloat(t[3]))}catch(e){return null}}function h(e){var t,e="string"!=typeof e?(i=(e=r(e)).data("pid"),l.getVerseNumberFromIDAttribute(e.attr("id"))):(i=l.getParagraphIDFromIDAttribute(e),l.getVerseNumberFromIDAttribute(e)),n=i||e,i=(n=parseInt(n,10),l.getDID());if(l.audioMarkers&&r.isNumeric(n)){if(i&&l.audioMarkerData.documentId&&i!=l.audioMarkerData.documentId)return null;t=r.grep(l.audioMarkerData.markers,function(e,t){return e.mepsParagraphId===n||e.verseNumber===n})}return t&&0<t.length?t[0]:null}function o(){l.media.previousSelector=null;var e=r(".currentMarker");return e.removeClass("currentMarker"),e}function t(e){n(function(i){var a=null;if(!l.audioMarkerData)return!1;var o=l.audioMarkerData.type;return r.each(l.audioMarkerData.markers,function(e){var t=Math.max(g(this.startTime),l.video.timeChangeDebounceTime),n=t+g(this.duration);if(t<=i&&i<=n)return"bible"===o?a=sprintf("#content [id^=v%s-%s-%s-]",l.audioMarkerData.bibleBookNumber,l.audioMarkerData.bibleBookChapter,this.verseNumber):"publication"===o&&(a=sprintf("#content [data-pid='%s']",this.mepsParagraphId)),!1}),a}(e))}function n(e){var t,n,i,a;e===l.media.previousSelector||r("html, body").is(":animated")||(t=o(),(n=r(e)).addClass("currentMarker"),l.media.previousSelector=e,0<n.length&&(e=t,t=n,0===r("#contextMenu").length&&(0<e.get().reduce(function(e,t){return e+l.layout.pixelsScrolledIntoView(t)},0)||l.mediaMarker.autoScrollEnabled)&&(e=t[0],n=l.layout.pixelsScrolledIntoView(e),i=e.getBoundingClientRect().height,t=t[t.length-1],a=l.layout.pixelsScrolledIntoView(t),t=t.getBoundingClientRect().height,(n<i||a<t)&&(n=r(window).scrollTop(),i=r("#regionHeader").outerHeight(),a=e.getBoundingClientRect().top,(t=parseInt(r("#regionMain.hasVideoPlayer .articlePositioner").css("margin-top"),10))&&(i=Math.max(i,t)),e=n-i+a,r("html, body").animate({scrollTop:e},function(){l.mediaMarker.autoScrollEnabled=!0})))))}function e(e){l.contextMenu.setupMenuEvent(e),r("html, body").stop(!0,!1),o()}l.mediaMarker={initAudioMarkers:function(){u=document.getElementById("wolplayer"),c=u.player,l.iOS?(u.addEventListener("timeupdate",function(e){t(e.target.currentTime)}),u.addEventListener("pause",e)):(c.media.addEventListener("timeupdate",function(e){t(e.target.currentTime)}),c.media.addEventListener("pause",e))},getMarker:h,clearMarkers:o,playSelected:function(e){var t,n,i,a,o,r;e=e,o=0,l.media.showAudioPlayer(),(r=h(l.utilities.getFirstActionableIdInScope(!1,e)))&&void 0!==u&&(a=g(r.startTime),e.each(function(e){var t=h(this);t&&(o+=g(t.duration))}),clearTimeout(s),l.iOS||void 0===c?(i=function(){s=setTimeout(function(){},1e3*o)},!d&&isNaN(u.duration)?(u.play(),u.pause(),u.addEventListener("canplay",function(e){e.target.removeEventListener(e.type,arguments.callee),u.addEventListener("progress",function(e){e.target.removeEventListener(e.type,arguments.callee),u.currentTime=a,u.addEventListener("seeked",function(e){e.target.removeEventListener(e.type,arguments.callee),u.play(),d=!0,i()})})})):(u.setCurrentTime(a),t=window.setInterval(function(){u.currentTime===a?(u.play(),window.clearInterval(t)):u.setCurrentTime(a)},100),i())):(i=function(){clearTimeout(s),s=setTimeout(function(){},1e3*o)},d?(c.setCurrentTime(a),t=window.setInterval(function(){p(u.currentTime)===a?(c.play(),window.clearInterval(t)):c.setCurrentTime(a)},100),i()):(c.play(),n=function e(t){t.target.removeEventListener(t.type,e),c.setCurrentTime(a),c.play(),d=!0,i()},l.WindowsPhone?c.media.addEventListener("progress",n):(c.media.addEventListener("loadeddata",n),c.media.addEventListener("playing",function e(t){t.target.removeEventListener(t.type,e),c.media.addEventListener("timeupdate",n)})))))},stop:function(){l.iOS?(u.pause(),u.setCurrentTime(0)):(c.pause(),c.setCurrentTime(0)),o()},updateVideoPosition:function(e){n(function(e){var t;null!=e&&(e.paragraph?t=sprintf("#content [data-pid='%s']",e.paragraph):e.chapter&&(t=sprintf("#content [id^=v%s-%s-%s-]",l.getBookNumber(),e.chapter,e.verse)));return t}(e))},autoScrollEnabled:!1}}(jQuery,app),!function(s,u){"use strict";function n(e,t,n,i,a){var o=r(e);return o[t]=n,l(o,e,i,a)}function t(e){var e=/(\d+):*(\d*)-*(\d*):*(\d*)/.exec(URI(e||location.href).fragment(!0).h);return e?(e={stPar:parseInt(e[1],10),stOff:parseInt(e[2],10),edPar:parseInt(e[3],10),edOff:parseInt(e[4],10)},isNaN(e.stOff)&&(e.stOff=0),isNaN(e.edPar)?(e.edPar=e.stPar+1,e.edOff=0):isNaN(e.edOff)&&(e.edPar+=1,e.edOff=0),e):null}function r(e){e=e||window.location.href;var e=URI(e).fragment(),t={};return 0<e.length&&e.split("&").forEach(function(e){e=e.split("="),t[e[0]]=e[1]||""}),t}function l(n,e,t,i){e=e||window.location.href;var a=Object.keys(n).sort().reduce(function(e,t){return 0<t.length?e+"&"+t+(0<n[t].length?"="+n[t]:""):e},"#"),e=(a=(a=a.replace(/#&/,"#")).replace(/#$/,""),e.split("#",1)[0]);return e+=a,u.layout.isPrintingScreen()||(!i&&!0!==i&&Modernizr.history&&history.replaceState(null,window.location.title,e),!t&&!0!==t&&Modernizr.history&&history.pushState(null,window.location.title,e)),e}function i(e,t,n,i){var a=r(t);return delete a[e],l(a,t,n,i)}u.url={matchUrlToHighlight:function(){var r,e="h="+URI().fragment(!0).h,t=u.highlightManager.getHighlightUrlFragment(2<e.length);e.startsWith(t)||(r=window.location.href,s("[id]").each(function(e,t){var n,i,a,o;t=t.id,a=i=!0,n=(n=r)||window.location.href,o=URI(n).fragment(),r=t!==o?n:l({},n,i,a)}),r=i("h",r,!0,!0),r=i("v",r,!0,!0),e=(t=null!=(t=null!=(t=u.highlightManager.getHighlightUrlFragment())&&t.startsWith("h=")&&e.split("-")[0].split(":")[0]===t.split("-")[0].split(":")[0]&&-1!==t.indexOf("-")?e.split("-")[0]+"-"+t.split("-")[1]:t)?t.split("=",2):["",""])[0],t=t[1]||"",n(r,e,t,!0,!1))},getHighlightTextRangeFromUrl:t,getParagraphRangeFromUrl:function(){var e=t();return e&&0===e.edOff&&--e.edPar,e},getVersesFromUrl:function(e){var i,a,t,e=URI(e||location.href).fragment(!0).v,n=s();return n=null!=e?-1!==e.indexOf("-")?(1===(e=e.split("-",2)).length&&(e[1]=e[0]),i=e[0].split(":").map(function(e){return parseInt(e,10)}),a=e[1].split(":").map(function(e){return parseInt(e,10)}),t=s("[id^=v].v").map(function(e,t){return[t.id.replace("v","").split("-")]}),t=s.grep(t,function(e){if((e=e.map(function(e){return parseInt(e,10)}))[0]<i[0]||e[0]>a[0])return!1;var t=a[0]>e[0]?Number.MAX_VALUE:a[1],n=i[0]<e[0]?Number.MIN_VALUE:i[1];if(e[1]<n||e[1]>t)return!1;t=t>e[1]?Number.MAX_VALUE:a[2],n=n<e[1]?Number.MIN_VALUE:i[2];return!(e[2]<n||e[2]>t)}),s.map(t,function(e){e="#v"+e[0]+"-"+e[1]+"-"+e[2]+"-"+e[3];return s(e)})):u.utilities.getAllVerseSegmentsFromIDAttribute("v"+e.replace(/:/g,"-")):n},getVerseRangeFromUrl:function(){var e,t,n={};return t=URI(t||location.href).fragment(!0).v,e=[],(t=e=null!=t?t.split("-",2):e).length&&(e=t[0].split(":").map(function(e){return parseInt(e,10)}),n.startBook=e[0],n.startChapter=1<e.length?e[1]:-1,n.startVerse=2<e.length?e[2]:-1,t=1<t.length?t[1].split(":").map(function(e){return parseInt(e,10)}):e,n.endBook=t[0],n.endChapter=1<t.length?t[1]:-1,n.endVerse=2<t.length?t[2]:-1),n},makeDateDataUrl:function(e,t,n,i){var t=new Date(e.getTime()+864e5*t),a=u.getUILanguage(),o=u.getRsConfigSymbol(),r=u.getLibrarySymbol(),l=null,i=(i&&(a=u.getContentUILanguage(),o=u.getContentRsConfigSymbol(),r=u.getContentLibrarySymbol()),e.getHours()!==t.getHours()&&(t=new Date(t.getTime()+36e5)),u.getCommand(n)),e=s("#newMeetingsPage").val();return n?o&&r&&(l=sprintf("/wol/dt/%s/%s/%d/%d/%d",o,r,t.getFullYear(),t.getMonth()+1,t.getDate())):"meetings"===i||"msync"===i||e?a&&o&&r&&(u.utilities.getWeekNumber(t),n=u.utilities.getWeekNumber(t),l=sprintf("/%s/wol/meetings/%s/%s/%d/%d",a,o,r,n[0],n[1])):a&&o&&r&&(l=sprintf("/%s/wol/dt/%s/%s/%d/%d/%d",a,o,r,t.getFullYear(),t.getMonth()+1,t.getDate())),l},makeDailyTextUrl:function(e){var t=u.getContentUILanguage(),n=u.getContentRsConfigSymbol(),i=u.getContentLibrarySymbol(),a=null;return a=t&&n&&i?sprintf("/%s/wol/h/%s/%s/%d/%d/%d",t,n,i,e.getFullYear(),e.getMonth()+1,e.getDate()):a},removeUrlFragmentByKey:i,getUrlFragmentValueByKey:function(e,t){return r(e)[t]},setFragmentToPropagate:function(){u.isDocument()||s("a.resultsNavDocumentLink, .resultAlternatePubList a").on("click",function(){var e=URI();e.hasFragment("s")&&e.removeFragment("s"),(e.hasFragment("h")||e.hasFragment("v"))&&(function(e){var n=!1,i=[],e=e.fragment(!0).h,e=null!=e?e.split("-"):[];0<e.length&&s.each(e,function(e,t){t=t.split(":"),i.push(parseInt(t[0],10)),t="#p"+t[0];0<s(t).length&&(n=!0)});{var t;n||(e=s("#article").find("[data-pid]").filter(":first").data("pid"),t=s("#article").find("[data-pid]").filter(":last").data("pid"),i[0]<e&&i[1]>t&&(n=!0))}return n}(e)||function(e){e=e.fragment(!0).v,e=null!=e?e.split("-"):[];{var t,n,i;if(0<e.length)return t=u.getBookNumber(),n=u.getChapterNumber(),i=e[0].split(":").map(function(e){return parseInt(e,10)}),e=null!=e[1]?e[1].split(":").map(function(e){return parseInt(e,10)}):i,i[0]<=t<=e[0]&&i[1]<=n<=e[1]}}(e))&&(this.href=this.href.split("#")[0]+"#"+e.fragment())})},setUrlFragmentByKey:n,disableDisabledNextPrevButtons:function(){s(".resultNavLeft .disabled, .resultNavRight .disabled").find("a").on("click",function(e){e.preventDefault()})},matchUrlToSelection:function(){var e=i("s",window.location.href,!0,!0),t=u.studyPane.getSelectionUrlFragment();n(e,(t=null!=t?t.split("=",2):["",""])[0],t[1]||"",!0,!1)},matchUrlToStudyPane:function(){var e,t=window.location.href;s("#study").is(":visible")?n(t=i("study",t,!0,!0),(e=null!=(e=u.studyPane.getNavigationTabFragment())?e.split("=",2):["",""])[0],e[1]||"",!0,!1):i("study",t,!0,!1)},simplifyHighlightFragment:function(e){var e=i("h",e,!0,!0),t=(e=i("v",e,!0,!0),u.highlightManager.getHighlightUrlFragment());return n(e,(t=null!=t?t.split("=",2):["",""])[0],t[1]||"",!0,!0)}}}(jQuery,app),!function(n,i){"use strict";function t(e){var t=!navigator.userAgent.match(/IEMobile/);e.jumpTo({},t),0<n("#study").length&&i.studyPane.isStudyPaneVisible()&&(e=i.highlightManager.getFirstHighlightedId(),i.getVerseNumberFromIDAttribute(e)&&(t=i.studyPane.createSectionKeyFromVerseKey(e),0<(e=n("[data-key="+t+"]")).length&&e.scrollToTop({duration:250,easing:"easeOutExpo",topOffset:-i.studyPane.getStudyPaneScrollOffset()})))}function a(){var e=n(".hl, .mk, .mkhl");return"s"!==i.getCommand()&&0<e.length&&(t(e),!0)}i.jumpHighlight={internalLinkHandler:function(e){e=e.target.location,(e=URI(e)).directory()===URI().directory()&&(i.highlightManager.removeHighlight(!0),i.highlightManager.highlight(e.fragment()),i.jumpHighlight.jumpToMarkOrHighlight(),document.activeElement&&document.activeElement.blur())},hasHashJump:function(){var e=window.location.hash,t=URI();return!!(0<e.length&&(t.hasFragment("h")||t.hasFragment("v")||t.hasFragment("p")||document.getElementById(e.substr(1))))},jumpToMarkOrHighlight:a,hashJump:function(e){var t,e=e?e.target.hash||e.currentTarget.hash:window.location.hash;try{t=n(e)}catch(e){}return t&&0<t.length?t.jumpTo({},!0):a()},jumpToElement:t,initialJump:function(){return function(){var e=window.location.hash;try{return 0<e.length&&n("#article").find(e.substr(1))?(t(n("#article").find(e.substr(1))),!0):!1}catch(e){return!1}}()||a()||i.studyPane.jumpToSelectedVerse()}}}(jQuery,app),!function(l,s){var u="studyDiscover",c="selected",d="collapsed",i={discover:"studyDiscover",parallel:"studyParallel",marginal:"studyMarginals"};function t(e){(e=l(e)).addClass(c),s.url.matchUrlToSelection()}function e(){return l("#article").find("."+c).first()}function n(){e().closest(".v").scrollIntoView({topOffset:l("#regionHeader").height()+10})}function a(){l("span.tt."+c).removeClass(c),s.url.matchUrlToSelection()}function p(){l("#study").find("."+c).removeClass(c)}function o(e){a(),t(e);e=l(e).closest("[id]");0<e.length&&A(e[0].id,!1)}function r(){return s.layout.toggleStudyPane(!0),o(l(this).children("span.cl, span.vl")),T(u)||(l(".tabItem.parallel").not(".active").addClass("flash"),setTimeout(function(){l(".tabItem.parallel").removeClass("flash")},2e3)),!1}function g(){return s.layout.toggleStudyPane(!0),L(u),a(),l(this).children("span.tt.fn").addClass(c),k("verseFootnote-"+l(this).data("fnid")),!1}function h(){return s.layout.toggleStudyPane(!0),L(u),a(),l(this).children("span.tt.m").addClass(c),C("verseMarginal-"+l(this).data("bid").split("-")[0]),!1}function f(){a();var e="#v"+l(this).data("key")+"-1";t(l(".bible").find(e).find(".tt").first());A(e,!1),n()}function m(){if(l(this).hasClass("populated"))return!1;var e=l(this).data("extractId"),t=e;return a(),t=t.split("-")[1],(t=l("#article").find('a[data-bid="'+t+'-1"]')).length&&(t.closest("[id]").scrollToTop({duration:250,easing:"easeOutExpo",topOffset:b()}),t.find(".tt").addClass(c,100,"easeOutElastic")),C(e),!1}function y(){var e=l(this).data("extractId"),t=e;return a(),t=t.split("-")[1],(t=l('a[data-fnid="'+t+'"]')).length&&(t.scrollToTop({duration:250,easing:"easeOutExpo",topOffset:b()}),t.find(".tt").addClass(c,100,"easeOutElastic")),k(e),!1}function b(){return l("#regionHeader").height()}function v(){return parseFloat(l(".navigationTabsContainer").css("border-bottom-width"))}function C(n){p();var e=l(w(n)),t=l(e).data("src")+"?snip=yes";e.removeClass(d),e.addClass(c),e.parent().parent().scrollToTop({duration:250,easing:"easeOutExpo",topOffset:-v()}),S(n,"loading").hide().removeClass("hidden").show(250,"easeOutExpo",function(){s.web.ajax(t).done(function(e){var t=n,e=(w(t).addClass("populated"),S(t,"loading").hide(),(t=l("[data-extract-target-id='"+t+"'].extract")).hide().empty().append(e).show(),t.append('<div class="padding">&nbsp;</div>'),t);(e=1<(e=l(e).find(".tooltipVideo")).length?e.filter(":visible"):e).each(function(e,t){t=l(t),s.video.setupTooltipPlayer(t.attr("id"),parseFloat(t.data("startTime")),parseFloat(t.data("duration")),!1)}),s.setupTooltip(t)})}),S(n,"extract").empty().addClass(c)}function w(e){return l("[data-extract-id='"+e+"']")}function S(e,t){return l("[data-extract-target-id='"+e+"']."+t)}function k(e){l("#study").find("li.selected").removeClass(c);e=l(w(e));e.addClass(c),e.parent().parent().scrollToTop({duration:250,easing:"easeOutExpo",topOffset:-v()})}function A(e,t){var n,i,a,o,e=E(e),t=(p(),t&&L(u),u),r=e,t=(r=l(x(t,e)),l(x(t,null)).removeClass(c),r.addClass(c).find(".group.collapsible").removeClass(d),e);t&&"undefined"!==t&&0<t.length&&((r=l("#studyParallel")).find(".helpText").hide(),r.find(".extract").empty(),r.find(".loading").hide().removeClass("hidden").show(250,"easeOutExpo"),t=(r=t.split("-"))[0],e=r[1],r=r[2],n=s.getContentRsConfigSymbol(),i=s.getContentLibrarySymbol(),a=s.getPubSym(),s.getContentLibraryLanguageSymbol(),s.getPubYear(),o=s.getContentUILanguage(),o=sprintf("/%s/wol/parallel/%s/%s/%s/%s/%s/%s?snip=yes",o,n,i,a,t,e,r),s.web.ajax(o).done(function(e){var t;e=e,(t=l("#studyParallel")).find(".loading").hide(),t.find(".extract").append(e),s.setupTooltip(l(".extract"))}))}function T(e){e=l(x(e)+"."+c);return 0<e.length&&(e.each(function(e,t){l(t).scrollIntoView()}),!0)}function x(e,t){return null!=t&&0<t.length?"#"+e+" .section[data-key="+t+"]":"#"+e+" .section"}function E(e){e=e.split(/[v,-]/);return e.shift(),e.pop(),e.join("-")}function P(){var e=l(this).parent(),t=!e.hasClass(d);e.toggleClass(d,t,250,"easeOutExpo")}function I(){var e=l(this),t=!e.hasClass(d);e.toggleClass(d,t,250,"easeOutExpo"),e.hasClass("populated")||e.find("a.title").trigger("click")}function L(e){s.tabs.activateContent(l(".navigationTabs [data-related-content="+e+"]"))}function R(e){var t,n=l("#article.bible");0<n.length&&!s.layout.isFloatingMode()&&(t=n.find(".fn.mkhl"),n=n.find(".m.mkhl"),0<t.length?t.each(g):0<n.length?n.each(h):0<e.item.length&&r.bind(e.item)())}s.studyPane={init:function(){var e;(e=l("#article.bible")).find(".cl").each(function(){l(this).append('<span class="tt cl"></span>')}),e.find(".vl").each(function(){l(this).append('<span class="tt vl"></span>')}),e.find("a.fn").each(function(){l(this).append('<span class="tt fn"></span>')}),e.find("a.b").each(function(){l(this).append('<span class="tt m"></span>')}),0<(e=l("#article.bible")).length&&(e.find(".tt.cl").parent().closest(".cl").on("click",r),e.find(".tt.vl").parent().closest(".vl").on("click",r),e.find("span.tt.fn").closest("a").on("click",g),e.find("span.tt.m").closest("a").on("click",h),l(document).on("markhighlighchanged",R)),(e=l("#study")).find(".group.collapsible .header").on("click",P),e.find(".item.collapsible").on("click",I),e.find("div.overview.chapterOnly .collapsible").on("click",function(){l(this).toggleClass("expanded",250,"easeOutExpo"),l(this).toggleClass("collapsed",250,"easeOutExpo")}),e.find("div.overview.chapterOnly a").on("click",function(e){e.stopPropagation()}),e.find(".marginalExpander").each(function(){l(this).on("click",m)}),e.find(".marginalExpander").on("click",".content",function(e){e.stopPropagation()}),e.find("li.footnote").on("click",y),e.find("a.galleryItem").on("click",s.gallery.handleGalleryItem),l("#studyDiscover").find(".section").on("click",f)},createSectionKeyFromVerseKey:E,getStudyPaneScrollOffset:v,getSelectionUrlFragment:function(){var e=l("span.tt.vl."+c).closest("[id]");return 0<e.length?"s="+s.getVerseNumberFromIDAttribute(e.attr("id")):null},processSelectUrlFragment:function(){var e=s.utilities.getFirstIdMatchingVerseNumber(URI().fragment(!0).s);a(),0<e.length&&o(e.first().find("span.tt.vl"))},getNavigationTabFragment:function(){var e=l(".showStudy .navigationTabs [data-related-content].active");return 0<e.length?"study="+function(e){for(var t=Object.keys(i),n=0;n<t.length;n++)if(i[t[n]]===e)return t[n]}(e.data("relatedContent")):null},jumpToSelectedVerse:function(){return 0<e().length&&(T(u),n(),!0)},processStudyUrlFragment:function(){var e=URI().fragment(!0).study;(e=i[e])&&(L(e),s.layout.toggleStudyPane(!0))},isStudyPaneVisible:function(){var e=l("#study");if(s.layout.isFloatingMode()){if(e.is(".activePane.slideIn"))return!0}else if(e.hasClass("activePane"))return!0;return!1}}}(jQuery,app),!function(o,r){var n=!1;function i(e,t){var e=o(e),n=new URI(e.find("img").data("src")),n=(n.setQuery("snip","yes"),n.toString()),i=e.find("a").attr("href"),a=o(".itemContainer");return c(!0),a.addClass("faded"),r.web.ajax(n).done(function(e){a.html(e).removeClass("faded").show(250,"easeOutExpo",function(){var e=o(".gallerySelectedItem");r.video.setupEmbeddedVideoPlayer(e)}),c(!1),r.setupTooltip(a),p(i),l(t,!t),r.utilities.isGalleryNav()&&Modernizr.history&&window.history.pushState(null,"",i)}).fail(function(){c(!1)}),!1}function l(e,t){0<o("#galleryModal").length&&(a(),r.media.prepareGalleryCaptionAudio(),u(),c(!1),e&&(o(".mediaCaption").addClass("hidden"),o(".mediaContent").imagesLoaded().then(function(){o(".mediaCaption").removeClass("hidden");var e=o(".mediaContent img"),t=r.images.setupLightboxItems(e);o(e).on("click",this,function(){r.images.callLightbox(this,t)}).css("cursor","pointer")})),t&&d(),o("#galleryModalContainer").hasClass("fadeIn")&&o("body").addClass("galleryUnderlay noscroll"))}function s(){var e=o(".carouselContainer .tile"),t=o("#galleryModal");e.on("click",function(){return r.video.findPlayingPlayers(t).forEach(function(e){r.video.destroyPlayers(e)}),i(this,!0)})}function a(){o("span.citationWithMedia a.b").filter(function(){return 0===o(this).children().length}).each(function(e,t){o(t).prepend('<span class="icon"></span>'),t.href=t.href+"/media"})}function u(){var e=o(".gallerySelectedItem"),t=e.data("mmidx"),e=e.data("chapter"),n=o(".carouselContainer"),t="[data-mmidx='"+t+"']";n.find(".selected").removeClass("selected"),e&&(t+="[data-chapter='"+e+"']"),n.find(t).addClass("selected").scrollIntoView({direction:"horizontal"})}function c(e){var t=o("#galleryModal").find(".loading");e?t.removeClass("hidden"):t.addClass("hidden")}function d(){o("#galleryModal").find(".closeBtn").on("click",g),o("body").on("keydown",t)}function t(e){27!==e.which||o("div.pswp").is(":visible")||(g(),o("body").off("keydown",t))}function p(e){e=parseInt(r.url.getUrlFragmentValueByKey(e,"chapter"),0);e&&o(".gallerySelectedItem").data("chapter",e)}function g(){var e=o("#galleryModalContainer");if(e.hasClass("fadeOut"))return!1;o("#galleryModal").find(".closeBtn").off("click");var t=o("#galleryPlayer").get(0);return t&&t.pause(),t=o("#galleryModal"),r.video.findPlayingPlayers(t).forEach(function(e){r.video.destroyPlayers(e)}),o("body.galleryUnderlay").removeClass("galleryUnderlay noscroll"),e.removeClass("fadeIn animated"),e.addClass("fadeOut animated"),o(".gallery, .navigationContents").removeClass("hasGalleryModalContainer"),r.utilities.isGalleryNav()&&(n?window.history.back():((t=window.location.href.split("/")).pop(),e=t.join("/"),window.history.replaceState(null,"",e))),!1}r.gallery={setupGalleryMediaReload:function(){window.onpopstate=function(e){if("gallery"===URI().segment(2)&&Modernizr.history){var t=o(".carouselContainer .tile"),n=document.location.pathname+document.location.hash,t=t.find('a[href="'+n+'"]');if(t[0])return i(t[0].parentElement,!0)}}},scrollCarouselIntoView:u,initGallery:function(){o(".gallery").find("a.galleryItem").on("click",r.gallery.handleGalleryItem),s()},initGalleryItem:l,handleGalleryItem:function(e){var t,n=this.href,i=n.split("#")[0]+"?snip=yes",a=((t=o("#galleryModal")).find(".contents").empty(),t.find(".loading").removeClass("hidden"),o("#galleryModalContainer"));return o("body").addClass("galleryUnderlay noscroll"),o("#galleryModal").on("click",function(e){e.stopPropagation()}),a.one("click",g),a.removeClass("fadeOut animated"),a.addClass("fadeIn animated"),o(".gallery, .navigationContents").addClass("hasGalleryModalContainer"),t.show(),r.web.ajax(i).done(function(e){e=e,o("#galleryModal").find(".contents").append(e);e=o(".gallerySelectedItem");r.video.setupEmbeddedVideoPlayer(e),r.setupTooltip(e),s(),r.gallery.setupGalleryMediaReload(),p(i),r.gallery.initGalleryItem(!0,!0),r.utilities.isGalleryNav()&&Modernizr.history&&(window.history.pushState(null,"",n),window.scroll(0,0))}).fail(function(){c(!1),d()}),e.preventDefault(),!1},handlePlayPauseButton:function(e){var t=o(e.currentTarget),n=document.getElementById("galleryPlayer");t.hasClass("playBtn")?(t.removeClass("playBtn").addClass("pauseBtn"),n.currentTime=0,n.play(),e.stopPropagation()):t.hasClass("pauseBtn")&&(t.removeClass("pauseBtn").addClass("playBtn"),n.pause(),e.stopPropagation())},setGalleryItemChapterNumberFromUrl:p,setupCitationsWithMedia:a}}(jQuery,app),!function(){"use strict";app.validator={containsNoTags:function(e){var t,n=!1,i=e;if("string"!=typeof i)return!1;for(;n|=-1!==(t=e=i).indexOf("<")||-1!==t.indexOf(">")||/(&#x0*3(c|e))|(&#0*6(0|2))|(\\u003(c|e))/i.test(t),i=decodeURIComponent(e),e!==i;);return!n},isValidLocale:function(e){return/^[\w\-]{2,10}$/.test(e)},isValidRsconf:function(e){return/^[\w\-]{2,10}$/.test(e)},isValidLib:function(e){return/^[\w\-]{2,10}$/.test(e)}}}(jQuery),Handlebars.registerHelper("getUrl",function(e,t,n){"use strict";var i=URI().query(!0).url;return i&&0<i.length?new Handlebars.SafeString(i.replaceToken("locale",e).replaceToken("rsconf",t).replaceToken("library",n)):""}),Handlebars.registerHelper("getLocale",function(){"use strict";return app.getUILanguage()}),Handlebars.registerHelper("getRsconf",function(){"use strict";return app.getRsConfigSymbol()}),Handlebars.registerHelper("getLib",function(){"use strict";return app.getLibrarySymbol()}),Handlebars.registerHelper("toString",function(e){"use strict";return""+e}),Handlebars.registerHelper("toLower",function(e){"use strict";return e.toLowerCase()}),Handlebars.registerHelper("toJson",function(e){"use strict";return JSON.stringify(e)}),Handlebars.registerHelper("isNotCurrentRsconfLib",function(e,t){"use strict";return app.getRsConfigSymbol()!=="r"+e&&app.getLibrarySymbol()!==t}),Handlebars.registerHelper("hasRubyTag",function(e){return-1!==e.indexOf("<ruby>")}),Handlebars.registerHelper("getValueByPath",function(){"use strict";for(var e=arguments[arguments.length-1].data.root,t=0;t<arguments.length-1;t++)try{e=e[arguments[t]]}catch(e){return null}return e}),Handlebars.registerHelper({isArray:function(e){"use strict";return Array.isArray(e)},isBoolean:function(e){"use strict";return"boolean"==typeof e},isString:function(e){"use strict";return"string"==typeof e},isNull:function(e){"use strict";return null==e}}),Handlebars.registerHelper({isoDateToYmd:function(e){"use strict";var t;return"string"==typeof e?(t=e.split(/[: T-]/).map(parseFloat))[0]+"-"+t[1]+"-"+t[2]:e},isoDateToYmdHms:function(e){"use strict";var t;return"string"==typeof e?(t=e.split(/[: T-]/).map(parseFloat))[0]+"-"+t[1]+"-"+t[2]+" "+t[3]+":"+t[4]+":"+t[5]:e}}),Handlebars.registerHelper({add:function(){"use strict";for(var e=0,t=arguments.length;t--;)"number"==typeof arguments[t]&&(e+=arguments[t]);return e},subtract:function(){"use strict";for(var e=0,t=arguments.length;t--;)"number"==typeof arguments[t]&&(e-=arguments[t]);return e},multiply:function(){"use strict";for(var e=0,t=arguments.length;t--;)"number"==typeof arguments[t]&&(e*=arguments[t]);return e},divide:function(){"use strict";for(var e=0,t=arguments.length;t--;)"number"==typeof arguments[t]&&(e/=arguments[t]);return e},modulus:function(){"use strict";for(var e=0,t=arguments.length;t--;)"number"==typeof arguments[t]&&(e%=arguments[t]);return e}}),Handlebars.registerHelper({eq:function(e,t){"use strict";return e===t},ne:function(e,t){"use strict";return e!==t},lt:function(e,t){"use strict";return e<t},gt:function(e,t){"use strict";return t<e},lte:function(e,t){"use strict";return e<=t},gte:function(e,t){"use strict";return t<=e},and:function(e,t){"use strict";return e&&t},or:function(e,t){"use strict";return e||t},not:function(e){"use strict";return!e}}),this.Handlebars=this.Handlebars||{},this.Handlebars.templates=this.Handlebars.templates||{},this.Handlebars.templates.Banner=Handlebars.template({1:function(e,t,n,i,a){return" bannerHidden"},3:function(e,t,n,i,a){var o=null!=t?t:e.nullContext||{},r=e.hooks.helperMissing,l=e.escapeExpression,e=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'        <span class="bannerDismissible" data-save-dismiss="'+l((e(n,"toString")||t&&e(t,"toString")||r).call(o,null!=t?e(t,"isPermanentlyDismissible"):t,{name:"toString",hash:{},data:a,loc:{start:{line:3,column:59},end:{line:3,column:96}}}))+'" data-dismiss-id="'+l("function"==typeof(l=null!=(l=e(n,"dismissibleBannerId")||(null!=t?e(t,"dismissibleBannerId"):t))?l:r)?l.call(o,{name:"dismissibleBannerId",hash:{},data:a,loc:{start:{line:3,column:115},end:{line:3,column:138}}}):l)+'">\n            <span class="icon"></span>\n        </span>\n'},compiler:[8,">= 4.3.0"],main:function(e,t,n,i,a){var o,r,l=null!=t?t:e.nullContext||{},s=e.hooks.helperMissing,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="banner '+e.escapeExpression("function"==typeof(r=null!=(r=u(n,"messageClasses")||(null!=t?u(t,"messageClasses"):t))?r:s)?r.call(l,{name:"messageClasses",hash:{},data:a,loc:{start:{line:1,column:19},end:{line:1,column:37}}}):r)+(null!=(o=u(n,"if").call(l,null!=t?u(t,"dismissibleBannerId"):t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a,loc:{start:{line:1,column:37},end:{line:1,column:84}}}))?o:"")+'">\n'+(null!=(o=u(n,"if").call(l,(u(n,"or")||t&&u(t,"or")||s).call(l,null!=t?u(t,"isDismissible"):t,null!=t?u(t,"isPermanentlyDismissible"):t,{name:"or",hash:{},data:a,loc:{start:{line:2,column:10},end:{line:2,column:53}}}),{name:"if",hash:{},fn:e.program(3,a,0),inverse:e.noop,data:a,loc:{start:{line:2,column:4},end:{line:6,column:11}}}))?o:"")+'    <div class="bannerContent">\n    '+(null!=(o="function"==typeof(r=null!=(r=u(n,"message")||(null!=t?u(t,"message"):t))?r:s)?r.call(l,{name:"message",hash:{},data:a,loc:{start:{line:8,column:4},end:{line:8,column:17}}}):r)?o:"")+"\n    </div>\n</div>\n"},useData:!0}),this.Handlebars.templates.CardHeader=Handlebars.template({1:function(e,t,n,i,a){var o,r=null!=t?t:e.nullContext||{},l=e.hooks.helperMissing,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'    class="\n    cardThumbnailImage\n'+(null!=(o=s(n,"if").call(r,null!=t?s(t,"hideThumbnailImage"):t,{name:"if",hash:{},fn:e.program(2,a,0),inverse:e.program(4,a,0),data:a,loc:{start:{line:5,column:4},end:{line:9,column:11}}}))?o:"")+(null!=(o=s(n,"if").call(r,(s(n,"isNull")||t&&s(t,"isNull")||l).call(r,null!=t?s(t,"type"):t,{name:"isNull",hash:{},data:a,loc:{start:{line:10,column:10},end:{line:10,column:23}}}),{name:"if",hash:{},fn:e.program(6,a,0),inverse:e.program(14,a,0),data:a,loc:{start:{line:10,column:4},end:{line:53,column:11}}}))?o:"")+"\n"+(null!=(o=s(n,"if").call(r,null!=t?s(t,"iconSymbol"):t,{name:"if",hash:{},fn:e.program(23,a,0),inverse:e.program(25,a,0),data:a,loc:{start:{line:55,column:4},end:{line:59,column:11}}}))?o:"")+(null!=(o=s(n,"if").call(r,(s(n,"or")||t&&s(t,"or")||l).call(r,null!=t?s(t,"englishSymbol"):t,null!=(o=null!=t?s(t,"publicationToken"):t)?s(o,"englishSymbol"):o,{name:"or",hash:{},data:a,loc:{start:{line:60,column:10},end:{line:60,column:59}}}),{name:"if",hash:{},fn:e.program(27,a,0),inverse:e.noop,data:a,loc:{start:{line:60,column:4},end:{line:62,column:11}}}))?o:"")+(null!=(o=s(n,"if").call(r,null!=(o=null!=t?s(t,"publicationToken"):t)?s(o,"englishSymbol"):o,{name:"if",hash:{},fn:e.program(29,a,0),inverse:e.noop,data:a,loc:{start:{line:63,column:4},end:{line:65,column:11}}}))?o:"")+(null!=(o=s(n,"if").call(r,null!=t?s(t,"englishSymbol"):t,{name:"if",hash:{},fn:e.program(31,a,0),inverse:e.noop,data:a,loc:{start:{line:66,column:4},end:{line:68,column:11}}}))?o:"")+(null!=(o=s(n,"if").call(r,null!=t?s(t,"categories"):t,{name:"if",hash:{},fn:e.program(33,a,0),inverse:e.noop,data:a,loc:{start:{line:69,column:4},end:{line:73,column:11}}}))?o:"")+(null!=(o=s(n,"if").call(r,null!=t?s(t,"pubType"):t,{name:"if",hash:{},fn:e.program(36,a,0),inverse:e.noop,data:a,loc:{start:{line:74,column:4},end:{line:76,column:11}}}))?o:"")+'\n    " \n'+(null!=(o=s(n,"if").call(r,null!=(o=null!=t?s(t,"publicationToken"):t)?s(o,"englishSymbol"):o,{name:"if",hash:{},fn:e.program(38,a,0),inverse:e.noop,data:a,loc:{start:{line:79,column:4},end:{line:81,column:11}}}))?o:"")+(null!=(o=s(n,"if").call(r,null!=t?s(t,"englishSymbol"):t,{name:"if",hash:{},fn:e.program(40,a,0),inverse:e.noop,data:a,loc:{start:{line:82,column:4},end:{line:84,column:11}}}))?o:"")},2:function(e,t,n,i,a){return"        hidden\n"},4:function(e,t,n,i,a){return"        thumbnail\n"},6:function(e,t,n,i,a){var o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(n=o(n,"if").call(null!=t?t:e.nullContext||{},null!=t?o(t,"cardImageType"):t,{name:"if",hash:{},fn:e.program(7,a,0),inverse:e.program(9,a,0),data:a,loc:{start:{line:11,column:8},end:{line:22,column:15}}}))?n:""},7:function(e,t,n,i,a){var o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"            "+e.escapeExpression("function"==typeof(n=null!=(n=o(n,"cardImageType")||(null!=t?o(t,"cardImageType"):t))?n:e.hooks.helperMissing)?n.call(null!=t?t:e.nullContext||{},{name:"cardImageType",hash:{},data:a,loc:{start:{line:12,column:12},end:{line:12,column:29}}}):n)+"\n"},9:function(e,t,n,i,a){var o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(n=o(n,"if").call(null!=t?t:e.nullContext||{},null!=t?o(t,"content"):t,{name:"if",hash:{},fn:e.program(10,a,0),inverse:e.program(12,a,0),data:a,loc:{start:{line:14,column:12},end:{line:20,column:19}}}))?n:""},10:function(e,t,n,i,a){return"                publication\n"},12:function(e,t,n,i,a){return"                document\n"},14:function(e,t,n,i,a){var o,r=null!=t?t:e.nullContext||{},l=e.hooks.helperMissing,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return(null!=(o=s(n,"if").call(r,(s(n,"eq")||t&&s(t,"eq")||l).call(r,null!=t?s(t,"type"):t,0,{name:"eq",hash:{},data:a,loc:{start:{line:24,column:14},end:{line:24,column:25}}}),{name:"if",hash:{},fn:e.program(15,a,0),inverse:e.noop,data:a,loc:{start:{line:24,column:8},end:{line:27,column:15}}}))?o:"")+(null!=(o=s(n,"if").call(r,(s(n,"eq")||t&&s(t,"eq")||l).call(r,null!=t?s(t,"type"):t,1,{name:"eq",hash:{},data:a,loc:{start:{line:28,column:14},end:{line:28,column:25}}}),{name:"if",hash:{},fn:e.program(17,a,0),inverse:e.noop,data:a,loc:{start:{line:28,column:8},end:{line:31,column:15}}}))?o:"")+(null!=(o=s(n,"if").call(r,(s(n,"eq")||t&&s(t,"eq")||l).call(r,null!=t?s(t,"type"):t,2,{name:"eq",hash:{},data:a,loc:{start:{line:32,column:14},end:{line:32,column:25}}}),{name:"if",hash:{},fn:e.program(17,a,0),inverse:e.noop,data:a,loc:{start:{line:32,column:8},end:{line:35,column:15}}}))?o:"")+(null!=(o=s(n,"if").call(r,(s(n,"eq")||t&&s(t,"eq")||l).call(r,null!=t?s(t,"type"):t,3,{name:"eq",hash:{},data:a,loc:{start:{line:36,column:14},end:{line:36,column:25}}}),{name:"if",hash:{},fn:e.program(19,a,0),inverse:e.noop,data:a,loc:{start:{line:36,column:8},end:{line:39,column:15}}}))?o:"")+(null!=(o=s(n,"if").call(r,(s(n,"eq")||t&&s(t,"eq")||l).call(r,null!=t?s(t,"type"):t,10,{name:"eq",hash:{},data:a,loc:{start:{line:40,column:14},end:{line:40,column:26}}}),{name:"if",hash:{},fn:e.program(15,a,0),inverse:e.noop,data:a,loc:{start:{line:40,column:8},end:{line:43,column:15}}}))?o:"")+(null!=(o=s(n,"if").call(r,(s(n,"eq")||t&&s(t,"eq")||l).call(r,null!=t?s(t,"type"):t,20,{name:"eq",hash:{},data:a,loc:{start:{line:44,column:14},end:{line:44,column:26}}}),{name:"if",hash:{},fn:e.program(21,a,0),inverse:e.noop,data:a,loc:{start:{line:44,column:8},end:{line:47,column:15}}}))?o:"")+(null!=(o=s(n,"if").call(r,(s(n,"eq")||t&&s(t,"eq")||l).call(r,null!=t?s(t,"type"):t,30,{name:"eq",hash:{},data:a,loc:{start:{line:48,column:14},end:{line:48,column:26}}}),{name:"if",hash:{},fn:e.program(21,a,0),inverse:e.noop,data:a,loc:{start:{line:48,column:8},end:{line:51,column:15}}}))?o:"")+"\n"},15:function(e,t,n,i,a){return"            container\n"},17:function(e,t,n,i,a){return"            publication\n"},19:function(e,t,n,i,a){return""},21:function(e,t,n,i,a){return"            document\n"},23:function(e,t,n,i,a){var o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"        icon-"+e.escapeExpression("function"==typeof(n=null!=(n=o(n,"iconSymbol")||(null!=t?o(t,"iconSymbol"):t))?n:e.hooks.helperMissing)?n.call(null!=t?t:e.nullContext||{},{name:"iconSymbol",hash:{},data:a,loc:{start:{line:56,column:13},end:{line:56,column:27}}}):n)+"\n"},25:function(e,t,n,i,a){return"        icon-default\n"},27:function(e,t,n,i,a){return"        publication\n"},29:function(e,t,n,i,a){var o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"        pub-"+e.escapeExpression(e.lambda(null!=(e=null!=t?o(t,"publicationToken"):t)?o(e,"englishSymbol"):e,t))+"\n"},31:function(e,t,n,i,a){var o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"        pub-"+e.escapeExpression("function"==typeof(n=null!=(n=o(n,"englishSymbol")||(null!=t?o(t,"englishSymbol"):t))?n:e.hooks.helperMissing)?n.call(null!=t?t:e.nullContext||{},{name:"englishSymbol",hash:{},data:a,loc:{start:{line:67,column:12},end:{line:67,column:29}}}):n)+"\n"},33:function(e,t,n,i,a){var o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(n=o(n,"each").call(null!=t?t:e.nullContext||{},null!=t?o(t,"categories"):t,{name:"each",hash:{},fn:e.program(34,a,0),inverse:e.noop,data:a,loc:{start:{line:70,column:8},end:{line:72,column:17}}}))?n:""},34:function(e,t,n,i,a){return"            cat-"+e.escapeExpression(e.lambda(t,t))+"\n"},36:function(e,t,n,i,a){var o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"        type-"+e.escapeExpression("function"==typeof(n=null!=(n=o(n,"pubType")||(null!=t?o(t,"pubType"):t))?n:e.hooks.helperMissing)?n.call(null!=t?t:e.nullContext||{},{name:"pubType",hash:{},data:a,loc:{start:{line:75,column:13},end:{line:75,column:24}}}):n)+"\n"},38:function(e,t,n,i,a){var o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'        data-pub-symbol="'+e.escapeExpression(e.lambda(null!=(e=null!=t?o(t,"publicationToken"):t)?o(e,"englishSymbol"):e,t))+'"\n'},40:function(e,t,n,i,a){var o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'        data-pub-symbol="'+e.escapeExpression("function"==typeof(n=null!=(n=o(n,"englishSymbol")||(null!=t?o(t,"englishSymbol"):t))?n:e.hooks.helperMissing)?n.call(null!=t?t:e.nullContext||{},{name:"englishSymbol",hash:{},data:a,loc:{start:{line:83,column:25},end:{line:83,column:42}}}):n)+'"\n'},42:function(e,t,n,i,a){var o,r=null!=t?t:e.nullContext||{},l=e.hooks.helperMissing,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"    cardLine1\n    ellipsized\n"+(null!=(o=s(n,"if").call(r,(s(n,"eq")||t&&s(t,"eq")||l).call(r,null!=t?s(t,"marginalClassification"):t,2,{name:"eq",hash:{},data:a,loc:{start:{line:90,column:10},end:{line:90,column:39}}}),{name:"if",hash:{},fn:e.program(43,a,0),inverse:e.noop,data:a,loc:{start:{line:90,column:4},end:{line:93,column:11}}}))?o:"")+(null!=(o=s(n,"if").call(r,(s(n,"eq")||t&&s(t,"eq")||l).call(r,null!=t?s(t,"marginalClassification"):t,3,{name:"eq",hash:{},data:a,loc:{start:{line:94,column:10},end:{line:94,column:39}}}),{name:"if",hash:{},fn:e.program(45,a,0),inverse:e.noop,data:a,loc:{start:{line:94,column:4},end:{line:97,column:11}}}))?o:"")+(null!=(o=s(n,"if").call(r,(s(n,"hasRubyTag")||t&&s(t,"hasRubyTag")||l).call(r,null!=t?s(t,"line1"):t,{name:"hasRubyTag",hash:{},data:a,loc:{start:{line:98,column:10},end:{line:98,column:28}}}),{name:"if",hash:{},fn:e.program(47,a,0),inverse:e.noop,data:a,loc:{start:{line:98,column:4},end:{line:100,column:11}}}))?o:"")+(null!=(o=s(n,"if").call(r,(s(n,"and")||t&&s(t,"and")||l).call(r,null!=t?s(t,"line2"):t,(s(n,"not")||t&&s(t,"not")||l).call(r,null!=t?s(t,"continuedCard"):t,{name:"not",hash:{},data:a,loc:{start:{line:101,column:21},end:{line:101,column:40}}}),{name:"and",hash:{},data:a,loc:{start:{line:101,column:10},end:{line:101,column:41}}}),{name:"if",hash:{},fn:e.program(49,a,0),inverse:e.program(51,a,0),data:a,loc:{start:{line:101,column:4},end:{line:105,column:11}}}))?o:"")},43:function(e,t,n,i,a){return"        marginalsParallel\n"},45:function(e,t,n,i,a){return"        marginalsQuotation\n"},47:function(e,t,n,i,a){return"        hasRuby\n"},49:function(e,t,n,i,a){return"        cardHalfHeight\n"},51:function(e,t,n,i,a){return"        cardSingleLine\n"},53:function(e,t,n,i,a){var o=null!=t?t:e.nullContext||{},r=e.hooks.helperMissing,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(n=l(n,"if").call(o,(l(n,"and")||t&&l(t,"and")||r).call(o,null!=t?l(t,"line2"):t,(l(n,"not")||t&&l(t,"not")||r).call(o,null!=t?l(t,"continuedCard"):t,{name:"not",hash:{},data:a,loc:{start:{line:108,column:21},end:{line:108,column:40}}}),{name:"and",hash:{},data:a,loc:{start:{line:108,column:10},end:{line:108,column:41}}}),{name:"if",hash:{},fn:e.program(54,a,0),inverse:e.program(2,a,0),data:a,loc:{start:{line:108,column:4},end:{line:116,column:11}}}))?n:""},54:function(e,t,n,i,a){var o=null!=t?t:e.nullContext||{},r=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"        cardLine2\n        ellipsized\n"+(null!=(n=r(n,"if").call(o,(r(n,"hasRubyTag")||t&&r(t,"hasRubyTag")||e.hooks.helperMissing).call(o,null!=t?r(t,"line2"):t,{name:"hasRubyTag",hash:{},data:a,loc:{start:{line:111,column:14},end:{line:111,column:32}}}),{name:"if",hash:{},fn:e.program(55,a,0),inverse:e.noop,data:a,loc:{start:{line:111,column:8},end:{line:113,column:15}}}))?n:"")},55:function(e,t,n,i,a){return"            hasRuby\n"},57:function(e,t,n,i,a){var o=null!=t?t:e.nullContext||{},r=e.hooks.helperMissing,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"    chrome\n    cardContainer\n    noTooltips\n"+(null!=(r=l(n,"unless").call(o,(l(n,"or")||t&&l(t,"or")||r).call(o,null!=t?l(t,"continuedCard"):t,(l(n,"isNull")||t&&l(t,"isNull")||r).call(o,null!=t?l(t,"line2"):t,{name:"isNull",hash:{},data:a,loc:{start:{line:123,column:32},end:{line:123,column:46}}}),{name:"or",hash:{},data:a,loc:{start:{line:123,column:14},end:{line:123,column:47}}}),{name:"unless",hash:{},fn:e.program(58,a,0),inverse:e.noop,data:a,loc:{start:{line:123,column:4},end:{line:128,column:15}}}))?r:"")+(null!=(r=l(n,"unless").call(o,null!=t?l(t,"line1"):t,{name:"unless",hash:{},fn:e.program(2,a,0),inverse:e.noop,data:a,loc:{start:{line:129,column:4},end:{line:131,column:15}}}))?r:"")},58:function(e,t,n,i,a){var o=null!=t?t:e.nullContext||{},r=e.hooks.helperMissing,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(n=l(n,"if").call(o,(l(n,"or")||t&&l(t,"or")||r).call(o,(l(n,"hasRubyTag")||t&&l(t,"hasRubyTag")||r).call(o,null!=t?l(t,"line1"):t,{name:"hasRubyTag",hash:{},data:a,loc:{start:{line:124,column:18},end:{line:124,column:36}}}),(l(n,"hasRubyTag")||t&&l(t,"hasRubyTag")||r).call(o,null!=t?l(t,"line2"):t,{name:"hasRubyTag",hash:{},data:a,loc:{start:{line:124,column:37},end:{line:124,column:55}}}),{name:"or",hash:{},data:a,loc:{start:{line:124,column:14},end:{line:124,column:56}}}),{name:"if",hash:{},fn:e.program(55,a,0),inverse:e.noop,data:a,loc:{start:{line:124,column:8},end:{line:127,column:15}}}))?n:""},60:function(e,t,n,i,a){var o,r,l=null!=t?t:e.nullContext||{},s=e.hooks.helperMissing,u="function",c=e.escapeExpression,d=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return(null!=(o=d(n,"if").call(l,null!=t?d(t,"url"):t,{name:"if",hash:{},fn:e.program(61,a,0),inverse:e.program(64,a,0),data:a,loc:{start:{line:135,column:4},end:{line:140,column:11}}}))?o:"")+'\n        <div class="cardThumbnail '+(null!=(o=d(n,"if").call(l,null!=t?d(t,"continuedCard"):t,{name:"if",hash:{},fn:e.program(66,a,0),inverse:e.noop,data:a,loc:{start:{line:142,column:34},end:{line:142,column:68}}}))?o:"")+'">\n'+(null!=(o=d(n,"if").call(l,null!=t?d(t,"imageUrl"):t,{name:"if",hash:{},fn:e.program(68,a,0),inverse:e.program(70,a,0),data:a,loc:{start:{line:143,column:12},end:{line:147,column:19}}}))?o:"")+'        </div>\n\n        <div class="cardTitleBlock">\n            <div class="'+(null!=(o=e.invokePartial(d(i,"line1Classes"),t,{name:"line1Classes",data:a,helpers:n,partials:i,decorators:e.decorators}))?o:"")+" "+c(typeof(r=null!=(r=d(n,"style")||(null!=t?d(t,"style"):t))?r:s)==u?r.call(l,{name:"style",hash:{},data:a,loc:{start:{line:151,column:43},end:{line:151,column:52}}}):r)+'"><span class="sectionIcon"></span>\n                '+(null!=(o=typeof(r=null!=(r=d(n,"line1")||(null!=t?d(t,"line1"):t))?r:s)==u?r.call(l,{name:"line1",hash:{},data:a,loc:{start:{line:152,column:16},end:{line:152,column:27}}}):r)?o:"")+'\n            </div>\n            <div class="'+(null!=(o=e.invokePartial(d(i,"line2Classes"),t,{name:"line2Classes",data:a,helpers:n,partials:i,decorators:e.decorators}))?o:"")+" "+c(typeof(r=null!=(r=d(n,"style")||(null!=t?d(t,"style"):t))?r:s)==u?r.call(l,{name:"style",hash:{},data:a,loc:{start:{line:154,column:43},end:{line:154,column:52}}}):r)+'">\n                '+(null!=(o=typeof(r=null!=(r=d(n,"line2")||(null!=t?d(t,"line2"):t))?r:s)==u?r.call(l,{name:"line2",hash:{},data:a,loc:{start:{line:155,column:16},end:{line:155,column:27}}}):r)?o:"")+'\n            </div>\n        </div>\n\n        <div class="cardTitleDetail">'+(null!=(o=d(n,"if").call(l,null!=(o=null!=t?d(t,"publicationToken"):t)?d(o,"year"):o,{name:"if",hash:{},fn:e.program(72,a,0),inverse:e.program(74,a,0),data:a,loc:{start:{line:160,column:12},end:{line:169,column:20}}}))?o:"")+'</div>\n\n        <div class="cardChevron">\n            <div class="icon"></div>\n        </div>\n\n'+(null!=(o=d(n,"unless").call(l,(d(n,"or")||t&&d(t,"or")||s).call(l,null!=t?d(t,"url"):t,null!=t?d(t,"imageUrl"):t,{name:"or",hash:{},data:a,loc:{start:{line:176,column:14},end:{line:176,column:31}}}),{name:"unless",hash:{},fn:e.program(79,a,0),inverse:e.program(81,a,0),data:a,loc:{start:{line:176,column:4},end:{line:180,column:15}}}))?o:"")+"\n"},61:function(e,t,n,i,a){var o,r=null!=t?t:e.nullContext||{},l=e.hooks.helperMissing,s="function",u=e.escapeExpression,c=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'        <a href="'+u(typeof(o=null!=(o=c(n,"url")||(null!=t?c(t,"url"):t))?o:l)==s?o.call(r,{name:"url",hash:{},data:a,loc:{start:{line:136,column:17},end:{line:136,column:24}}}):o)+'" class="jwac showRuby '+u(typeof(o=null!=(o=c(n,"articleClasses")||(null!=t?c(t,"articleClasses"):t))?o:l)==s?o.call(r,{name:"articleClasses",hash:{},data:a,loc:{start:{line:136,column:47},end:{line:136,column:65}}}):o)+" "+(null!=(i=e.invokePartial(c(i,"containerClasses"),t,{name:"containerClasses",data:a,helpers:n,partials:i,decorators:e.decorators}))?i:"")+" "+u(typeof(o=null!=(o=c(n,"style")||(null!=t?c(t,"style"):t))?o:l)==s?o.call(r,{name:"style",hash:{},data:a,loc:{start:{line:136,column:89},end:{line:136,column:98}}}):o)+' lnk"\n           '+(null!=(i=c(n,"if").call(r,(c(n,"isArray")||t&&c(t,"isArray")||l).call(r,null!=t?c(t,"navScopeData"):t,{name:"isArray",hash:{},data:a,loc:{start:{line:137,column:17},end:{line:137,column:39}}}),{name:"if",hash:{},fn:e.program(62,a,0),inverse:e.noop,data:a,loc:{start:{line:137,column:11},end:{line:137,column:95}}}))?i:"")+">\n"},62:function(e,t,n,i,a){var o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'data-nav-scope-data="'+(null!=(n=(o(n,"toJson")||t&&o(t,"toJson")||e.hooks.helperMissing).call(null!=t?t:e.nullContext||{},null!=t?o(t,"navScopeData"):t,{name:"toJson",hash:{},data:a,loc:{start:{line:137,column:62},end:{line:137,column:87}}}))?n:"")+'"'},64:function(e,t,n,i,a){var o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'        <span class="'+(null!=(o=e.invokePartial(o(i,"containerClasses"),t,{name:"containerClasses",data:a,helpers:n,partials:i,decorators:e.decorators}))?o:"")+' unavailable">\n'},66:function(e,t,n,i,a){return"hidden"},68:function(e,t,n,i,a){var o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"                <img "+(null!=(i=e.invokePartial(o(i,"thumbnailAttributes"),t,{name:"thumbnailAttributes",data:a,helpers:n,partials:i,decorators:e.decorators}))?i:"")+' src="'+e.escapeExpression("function"==typeof(i=null!=(i=o(n,"imageUrl")||(null!=t?o(t,"imageUrl"):t))?i:e.hooks.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"imageUrl",hash:{},data:a,loc:{start:{line:144,column:52},end:{line:144,column:64}}}):i)+'"/>\n'},70:function(e,t,n,i,a){var o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"                <span "+(null!=(o=e.invokePartial(o(i,"thumbnailAttributes"),t,{name:"thumbnailAttributes",data:a,helpers:n,partials:i,decorators:e.decorators}))?o:"")+" ></span>\n"},72:function(e,t,n,i,a){var o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"                "+e.escapeExpression(e.lambda(null!=(e=null!=t?o(t,"publicationToken"):t)?o(e,"year"):e,t))+"\n"},74:function(e,t,n,i,a){var o,r=null!=t?t:e.nullContext||{},l=e.hooks.helperMissing,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return(null!=(o=s(n,"if").call(r,(s(n,"eq")||t&&s(t,"eq")||l).call(r,null!=t?s(t,"type"):t,1,{name:"eq",hash:{},data:a,loc:{start:{line:163,column:22},end:{line:163,column:33}}}),{name:"if",hash:{},fn:e.program(75,a,0),inverse:e.noop,data:a,loc:{start:{line:163,column:16},end:{line:165,column:23}}}))?o:"")+(null!=(o=s(n,"if").call(r,(s(n,"eq")||t&&s(t,"eq")||l).call(r,null!=t?s(t,"type"):t,2,{name:"eq",hash:{},data:a,loc:{start:{line:166,column:22},end:{line:166,column:33}}}),{name:"if",hash:{},fn:e.program(77,a,0),inverse:e.noop,data:a,loc:{start:{line:166,column:16},end:{line:168,column:23}}}))?o:"")},75:function(e,t,n,i,a){var o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"                    "+e.escapeExpression("function"==typeof(n=null!=(n=o(n,"year")||(null!=t?o(t,"year"):t))?n:e.hooks.helperMissing)?n.call(null!=t?t:e.nullContext||{},{name:"year",hash:{},data:a,loc:{start:{line:164,column:20},end:{line:164,column:28}}}):n)+"\n"},77:function(e,t,n,i,a){var o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"                    "+e.escapeExpression("function"==typeof(n=null!=(n=o(n,"page")||(null!=t?o(t,"page"):t))?n:e.hooks.helperMissing)?n.call(null!=t?t:e.nullContext||{},{name:"page",hash:{},data:a,loc:{start:{line:167,column:20},end:{line:167,column:28}}}):n)+"\n"},79:function(e,t,n,i,a){return"        </span>\n"},81:function(e,t,n,i,a){return"        </a>\n"},83:function(e,t,n,i,a){var o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(o=e.invokePartial(o(i,"cardContainer"),t,{name:"cardContainer",hash:{style:"cardLine1Prominent",line2:null!=t?o(t,"publicationTitle"):t,line1:null!=t?o(t,"title"):t},data:a,indent:"    ",helpers:n,partials:i,decorators:e.decorators}))?o:""},85:function(e,t,n,i,a){var o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(n=o(n,"if").call(null!=t?t:e.nullContext||{},null!=t?o(t,"source"):t,{name:"if",hash:{},fn:e.program(86,a,0),inverse:e.program(88,a,0),data:a,loc:{start:{line:195,column:4},end:{line:203,column:11}}}))?n:""},86:function(e,t,n,i,a){var o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(o=e.invokePartial(o(i,"cardContainer"),t,{name:"cardContainer",hash:{style:"cardLine2Prominent",line2:null!=t?o(t,"title"):t,line1:null!=t?o(t,"source"):t},data:a,indent:"        ",helpers:n,partials:i,decorators:e.decorators}))?o:""},88:function(e,t,n,i,a){var o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(o=e.invokePartial(o(i,"cardContainer"),t,{name:"cardContainer",hash:{line1:null!=t?o(t,"title"):t},data:a,indent:"        ",helpers:n,partials:i,decorators:e.decorators}))?o:""},compiler:[8,">= 4.3.0"],main:function(e,t,n,i,a,o,r){var l=null!=t?t:e.nullContext||{},s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"\n\n\n\n"+(null!=(n=s(n,"if").call(l,(s(n,"and")||t&&s(t,"and")||e.hooks.helperMissing).call(l,null!=t?s(t,"title"):t,null!=t?s(t,"publicationTitle"):t,{name:"and",hash:{},data:a,loc:{start:{line:184,column:6},end:{line:184,column:34}}}),{name:"if",hash:{},fn:e.program(83,a,0,o,r),inverse:e.program(85,a,0,o,r),data:a,loc:{start:{line:184,column:0},end:{line:204,column:7}}}))?n:"")+"\n"},main_d:function(e,t,n,i,a,o,r){var l=n.decorators,s=n.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return e=s(l,"inline")(e,t,n,{name:"inline",hash:{},fn:n.program(1,a,0,o,r),inverse:n.noop,args:["thumbnailAttributes"],data:a,loc:{start:{line:2,column:0},end:{line:85,column:11}}})||e,e=s(l,"inline")(e,t,n,{name:"inline",hash:{},fn:n.program(42,a,0,o,r),inverse:n.noop,args:["line1Classes"],data:a,loc:{start:{line:87,column:0},end:{line:106,column:11}}})||e,e=s(l,"inline")(e,t,n,{name:"inline",hash:{},fn:n.program(53,a,0,o,r),inverse:n.noop,args:["line2Classes"],data:a,loc:{start:{line:107,column:0},end:{line:117,column:11}}})||e,e=s(l,"inline")(e,t,n,{name:"inline",hash:{},fn:n.program(57,a,0,o,r),inverse:n.noop,args:["containerClasses"],data:a,loc:{start:{line:119,column:0},end:{line:132,column:11}}})||e,e=s(l,"inline")(e,t,n,{name:"inline",hash:{},fn:n.program(60,a,0,o,r),inverse:n.noop,args:["cardContainer"],data:a,loc:{start:{line:134,column:0},end:{line:182,column:11}}})||e},useDecorators:!0,usePartial:!0,useData:!0,useDepths:!0}),this.Handlebars.templates.LibraryInfo=Handlebars.template({1:function(e,t,n,i,a,o,r){var l=null!=t?t:e.nullContext||{},s=e.hooks.helperMissing,u=e.escapeExpression,c=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'\t<li role="row" data-lang-name="'+u((c(n,"toLower")||t&&c(t,"toLower")||s).call(l,null!=t?c(t,"englishName"):t,{name:"toLower",hash:{},data:a,loc:{start:{line:2,column:32},end:{line:2,column:55}}}))+" "+u((c(n,"toLower")||t&&c(t,"toLower")||s).call(l,null!=t?c(t,"asciiEnglishName"):t,{name:"toLower",hash:{},data:a,loc:{start:{line:2,column:56},end:{line:2,column:84}}}))+" "+u((c(n,"toLower")||t&&c(t,"toLower")||s).call(l,null!=t?c(t,"vernacularName"):t,{name:"toLower",hash:{},data:a,loc:{start:{line:2,column:85},end:{line:2,column:111}}}))+" "+u((c(n,"toLower")||t&&c(t,"toLower")||s).call(l,null!=t?c(t,"asciiVernacularName"):t,{name:"toLower",hash:{},data:a,loc:{start:{line:2,column:112},end:{line:2,column:143}}}))+'">\n'+(null!=(u=c(n,"each").call(l,null!=t?c(t,"libs"):t,{name:"each",hash:{},fn:e.program(2,a,0,o,r),inverse:e.noop,data:a,loc:{start:{line:3,column:2},end:{line:36,column:11}}}))?u:"")+"\t</li>\n"},2:function(e,t,n,i,a,o,r){var l,s,u=e.lambda,c=e.escapeExpression,d=null!=t?t:e.nullContext||{},p=e.hooks.helperMissing,g="function",h=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'\t\t\t<a href="'+c(u(null!=r[1]?h(r[1],"appRoot"):r[1],t))+c(u(null!=r[1]?h(r[1],"locale"):r[1],t))+"/wol/pref/"+c(typeof(s=null!=(s=h(n,"researchConfigurationID")||(null!=t?h(t,"researchConfigurationID"):t))?s:p)==g?s.call(d,{name:"researchConfigurationID",hash:{},data:a,loc:{start:{line:4,column:49},end:{line:4,column:76}}}):s)+"/"+c(typeof(s=null!=(s=h(n,"symbol")||(null!=t?h(t,"symbol"):t))?s:p)==g?s.call(d,{name:"symbol",hash:{},data:a,loc:{start:{line:4,column:77},end:{line:4,column:87}}}):s)+"?newrsconf="+c(typeof(s=null!=(s=h(n,"researchConfigurationID")||(null!=t?h(t,"researchConfigurationID"):t))?s:p)==g?s.call(d,{name:"researchConfigurationID",hash:{},data:a,loc:{start:{line:4,column:98},end:{line:4,column:125}}}):s)+"&newlib="+c(typeof(s=null!=(s=h(n,"symbol")||(null!=t?h(t,"symbol"):t))?s:p)==g?s.call(d,{name:"symbol",hash:{},data:a,loc:{start:{line:4,column:133},end:{line:4,column:143}}}):s)+"&url="+c((h(n,"getUrl")||t&&h(t,"getUrl")||p).call(d,null!=r[1]?h(r[1],"locale"):r[1],null!=t?h(t,"researchConfigurationID"):t,null!=t?h(t,"symbol"):t,{name:"getUrl",hash:{},data:a,loc:{start:{line:4,column:148},end:{line:4,column:199}}}))+'"\n\t\t\t\tstyle="border-left: 8px solid '+(null!=(l=h(n,"if").call(d,null!=t?h(t,"libraryColor"):t,{name:"if",hash:{},fn:e.program(3,a,0,o,r),inverse:e.program(5,a,0,o,r),data:a,loc:{start:{line:5,column:34},end:{line:5,column:96}}}))?l:"")+'"\n                data-rsconf="'+c(typeof(s=null!=(s=h(n,"researchConfigurationID")||(null!=t?h(t,"researchConfigurationID"):t))?s:p)==g?s.call(d,{name:"researchConfigurationID",hash:{},data:a,loc:{start:{line:6,column:29},end:{line:6,column:56}}}):s)+'" data-lib="'+c(typeof(s=null!=(s=h(n,"symbol")||(null!=t?h(t,"symbol"):t))?s:p)==g?s.call(d,{name:"symbol",hash:{},data:a,loc:{start:{line:6,column:68},end:{line:6,column:78}}}):s)+'" data-locale="'+c(u(null!=r[1]?h(r[1],"locale"):r[1],t))+'"\n                data-lang="'+c(u(null!=r[1]?h(r[1],"vernacularName"):r[1],t))+'" data-meps-symbol="'+c(u(null!=r[1]?h(r[1],"mepsSymbol"):r[1],t))+'" data-meps-script="'+c(u(null!=r[1]?h(r[1],"mepsScript"):r[1],t))+'"\n                data-dir="'+c(u(null!=r[1]?h(r[1],"direction"):r[1],t))+'" data-library-type="'+c(u(null!=(l=null!=t?h(t,"libraryBlessInfo"):t)?h(l,"libraryType"):l,t))+'" tabindex="-1"\n                data-rb="'+(null!=(l=h(n,"if").call(d,null!=t?h(t,"hasRuby"):t,{name:"if",hash:{},fn:e.program(7,a,0,o,r),inverse:e.program(9,a,0,o,r),data:a,loc:{start:{line:9,column:25},end:{line:9,column:60}}}))?l:"")+'"\n                data-title="'+c(typeof(s=null!=(s=h(n,"title")||(null!=t?h(t,"title"):t))?s:p)==g?s.call(d,{name:"title",hash:{},data:a,loc:{start:{line:10,column:28},end:{line:10,column:37}}}):s)+'"\n                data-privileged="'+(null!=(l=h(n,"if").call(d,null!=t?h(t,"isPrivileged"):t,{name:"if",hash:{},fn:e.program(11,a,0,o,r),inverse:e.program(13,a,0,o,r),data:a,loc:{start:{line:11,column:33},end:{line:11,column:77}}}))?l:"")+'"\n            >\n\t\t\t\t<ul>\n\t\t\t\t\t<li class="language">\n'+(null!=(l=h(n,"if").call(d,null!=r[1]?h(r[1],"uiBlessInfo"):r[1],{name:"if",hash:{},fn:e.program(15,a,0,o,r),inverse:e.noop,data:a,loc:{start:{line:15,column:24},end:{line:17,column:31}}}))?l:"")+'                        <span class="ms-ROMAN ml-E" dir="ltr" data-lang="E" lang="en">\n                            <span>'+(null!=(l=u(null!=r[1]?h(r[1],"englishName"):r[1],t))?l:"")+'</span>\n                        </span>\n\t\t\t\t\t\t<span class="ms-ROMAN">&nbsp;-&nbsp;</span>\n                            <span data-class="'+c(u(null!=r[1]?h(r[1],"libLangClasses"):r[1],t))+'" '+(null!=(l=u(null!=r[1]?h(r[1],"libLangAttributes"):r[1],t))?l:"")+">\n                                <span>"+(null!=(l=u(null!=r[1]?h(r[1],"vernacularName"):r[1],t))?l:"")+'</span>\n                            </span>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li class="library" dir="'+c(u(null!=r[1]?h(r[1],"direction"):r[1],t))+'">\n\t\t\t\t\t\t<span class="statusIndicator blessStatus '+c(u(null!=(l=null!=t?h(t,"libraryBlessInfo"):t)?h(l,"cssClass"):l,t))+'"></span>\n                        <span data-class="'+c(u(null!=r[1]?h(r[1],"libLangClasses"):r[1],t))+'" '+(null!=(l=u(null!=r[1]?h(r[1],"libLangAttributes"):r[1],t))?l:"")+">"+(null!=(l=typeof(s=null!=(s=h(n,"title")||(null!=t?h(t,"title"):t))?s:p)==g?s.call(d,{name:"title",hash:{},data:a,loc:{start:{line:28,column:92},end:{line:28,column:103}}}):s)?l:"")+'</span>\n\t\t\t\t\t</li>\n                    <li class="libraryBadges">\n                        '+(null!=(l=h(n,"if").call(d,null!=r[1]?h(r[1],"isSignLanguage"):r[1],{name:"if",hash:{},fn:e.program(17,a,0,o,r),inverse:e.noop,data:a,loc:{start:{line:31,column:24},end:{line:31,column:124}}}))?l:"")+"\n                        "+(null!=(l=h(n,"if").call(d,null!=t?h(t,"hasRuby"):t,{name:"if",hash:{},fn:e.program(19,a,0,o,r),inverse:e.noop,data:a,loc:{start:{line:32,column:24},end:{line:32,column:143}}}))?l:"")+"\n                    </li>\n\t\t\t\t</ul>\n\t\t\t</a>\n"},3:function(e,t,n,i,a){var o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return e.escapeExpression("function"==typeof(n=null!=(n=o(n,"libraryColor")||(null!=t?o(t,"libraryColor"):t))?n:e.hooks.helperMissing)?n.call(null!=t?t:e.nullContext||{},{name:"libraryColor",hash:{},data:a,loc:{start:{line:5,column:54},end:{line:5,column:70}}}):n)},5:function(e,t,n,i,a){return"transparent"},7:function(e,t,n,i,a){return"yes"},9:function(e,t,n,i,a){return"no"},11:function(e,t,n,i,a){return"true"},13:function(e,t,n,i,a){return"false"},15:function(e,t,n,i,a,o,r){var l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'\t\t\t\t\t\t    <span class="statusIndicator blessStatus '+e.escapeExpression(e.lambda(null!=(e=null!=r[1]?l(r[1],"uiBlessInfo"):r[1])?l(e,"blessStatus"):e,t))+'"></span>\n'},17:function(e,t,n,i,a){return'<span class="signLanguageLibrary"><span class="icon" ></span></span>'},19:function(e,t,n,i,a,o,r){var l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<span class="rubyLibrary" data-meps-symbol="'+e.escapeExpression(e.lambda(null!=r[1]?l(r[1],"mepsSymbol"):r[1],t))+'"><span class="icon" ></span></span>'},compiler:[8,">= 4.3.0"],main:function(e,t,n,i,a,o,r){var l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(n=l(n,"each").call(null!=t?t:e.nullContext||{},null!=t?l(t,"items"):t,{name:"each",hash:{},fn:e.program(1,a,0,o,r),inverse:e.noop,data:a,loc:{start:{line:1,column:0},end:{line:38,column:9}}}))?n:""},useData:!0,useDepths:!0}),this.Handlebars.templates.LibraryName=Handlebars.template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,a){var o,r,l=null!=t?t:e.nullContext||{},s=e.hooks.helperMissing,u="function",c=e.escapeExpression,e=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<a class="library '+c(typeof(r=null!=(r=e(n,"localizationCssClasses")||(null!=t?e(t,"localizationCssClasses"):t))?r:s)==u?r.call(l,{name:"localizationCssClasses",hash:{},data:a,loc:{start:{line:1,column:18},end:{line:1,column:44}}}):r)+'" '+(null!=(o=typeof(r=null!=(r=e(n,"localizationHtmlAttributes")||(null!=t?e(t,"localizationHtmlAttributes"):t))?r:s)==u?r.call(l,{name:"localizationHtmlAttributes",hash:{},data:a,loc:{start:{line:1,column:46},end:{line:1,column:78}}}):r)?o:"")+' href="/'+c(typeof(r=null!=(r=e(n,"locale")||(null!=t?e(t,"locale"):t))?r:s)==u?r.call(l,{name:"locale",hash:{},data:a,loc:{start:{line:1,column:86},end:{line:1,column:96}}}):r)+"/wol/"+c(typeof(r=null!=(r=e(n,"route")||(null!=t?e(t,"route"):t))?r:s)==u?r.call(l,{name:"route",hash:{},data:a,loc:{start:{line:1,column:101},end:{line:1,column:110}}}):r)+"/"+c(typeof(r=null!=(r=e(n,"rsconf")||(null!=t?e(t,"rsconf"):t))?r:s)==u?r.call(l,{name:"rsconf",hash:{},data:a,loc:{start:{line:1,column:111},end:{line:1,column:121}}}):r)+"/"+c(typeof(r=null!=(r=e(n,"lib")||(null!=t?e(t,"lib"):t))?r:s)==u?r.call(l,{name:"lib",hash:{},data:a,loc:{start:{line:1,column:122},end:{line:1,column:129}}}):r)+c(typeof(r=null!=(r=e(n,"queryString")||(null!=t?e(t,"queryString"):t))?r:s)==u?r.call(l,{name:"queryString",hash:{},data:a,loc:{start:{line:1,column:129},end:{line:1,column:144}}}):r)+'">'+(null!=(o=typeof(r=null!=(r=e(n,"libraryName")||(null!=t?e(t,"libraryName"):t))?r:s)==u?r.call(l,{name:"libraryName",hash:{},data:a,loc:{start:{line:1,column:146},end:{line:1,column:163}}}):r)?o:"")+"</a>\n"},useData:!0}),this.Handlebars.templates.SynchronizeSelection=Handlebars.template({1:function(e,t,n,i,a,o,r){var l=null!=t?t:e.nullContext||{},s=e.hooks.helperMissing,u=e.escapeExpression,c=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'\t<li role="row" data-lang-name="'+u((c(n,"toLower")||t&&c(t,"toLower")||s).call(l,null!=t?c(t,"englishName"):t,{name:"toLower",hash:{},data:a,loc:{start:{line:2,column:32},end:{line:2,column:55}}}))+" "+u((c(n,"toLower")||t&&c(t,"toLower")||s).call(l,null!=t?c(t,"asciiEnglishName"):t,{name:"toLower",hash:{},data:a,loc:{start:{line:2,column:56},end:{line:2,column:84}}}))+" "+u((c(n,"toLower")||t&&c(t,"toLower")||s).call(l,null!=t?c(t,"vernacularName"):t,{name:"toLower",hash:{},data:a,loc:{start:{line:2,column:85},end:{line:2,column:111}}}))+" "+u((c(n,"toLower")||t&&c(t,"toLower")||s).call(l,null!=t?c(t,"asciiVernacularName"):t,{name:"toLower",hash:{},data:a,loc:{start:{line:2,column:112},end:{line:2,column:143}}}))+'">\n'+(null!=(u=c(n,"each").call(l,null!=t?c(t,"libs"):t,{name:"each",hash:{},fn:e.program(2,a,0,o,r),inverse:e.noop,data:a,loc:{start:{line:3,column:2},end:{line:30,column:11}}}))?u:"")+"\t</li>\n"},2:function(e,t,n,i,a,o,r){var l=null!=t?t:e.nullContext||{},s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(n=s(n,"if").call(l,(s(n,"isNotCurrentRsconfLib")||t&&s(t,"isNotCurrentRsconfLib")||e.hooks.helperMissing).call(l,null!=t?s(t,"researchConfigurationID"):t,null!=t?s(t,"symbol"):t,{name:"isNotCurrentRsconfLib",hash:{},data:a,loc:{start:{line:4,column:9},end:{line:4,column:63}}}),{name:"if",hash:{},fn:e.program(3,a,0,o,r),inverse:e.noop,data:a,loc:{start:{line:4,column:3},end:{line:29,column:10}}}))?n:""},3:function(e,t,n,i,a,o,r){var l,s,u=e.lambda,c=e.escapeExpression,d=null!=t?t:e.nullContext||{},p=e.hooks.helperMissing,g="function",h=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'\t\t\t\t<a href="'+c(u(null!=r[1]?h(r[1],"appRoot"):r[1],t))+c(typeof(s=null!=(s=h(n,"getLocale")||(null!=t?h(t,"getLocale"):t))?s:p)==g?s.call(d,{name:"getLocale",hash:{},data:a,loc:{start:{line:5,column:27},end:{line:5,column:40}}}):s)+"/wol/sysl/"+c(typeof(s=null!=(s=h(n,"getRsconf")||(null!=t?h(t,"getRsconf"):t))?s:p)==g?s.call(d,{name:"getRsconf",hash:{},data:a,loc:{start:{line:5,column:50},end:{line:5,column:63}}}):s)+"/"+c(typeof(s=null!=(s=h(n,"getLib")||(null!=t?h(t,"getLib"):t))?s:p)==g?s.call(d,{name:"getLib",hash:{},data:a,loc:{start:{line:5,column:64},end:{line:5,column:74}}}):s)+"?syncrsconf="+c(typeof(s=null!=(s=h(n,"researchConfigurationID")||(null!=t?h(t,"researchConfigurationID"):t))?s:p)==g?s.call(d,{name:"researchConfigurationID",hash:{},data:a,loc:{start:{line:5,column:86},end:{line:5,column:113}}}):s)+"&synclib="+c(typeof(s=null!=(s=h(n,"symbol")||(null!=t?h(t,"symbol"):t))?s:p)==g?s.call(d,{name:"symbol",hash:{},data:a,loc:{start:{line:5,column:122},end:{line:5,column:132}}}):s)+"&url="+c((h(n,"getUrl")||t&&h(t,"getUrl")||p).call(d,null,null!=t?h(t,"researchConfigurationID"):t,null!=t?h(t,"symbol"):t,{name:"getUrl",hash:{},data:a,loc:{start:{line:5,column:137},end:{line:5,column:183}}}))+'"\n                    data-rsconf="'+c(typeof(s=null!=(s=h(n,"researchConfigurationID")||(null!=t?h(t,"researchConfigurationID"):t))?s:p)==g?s.call(d,{name:"researchConfigurationID",hash:{},data:a,loc:{start:{line:6,column:33},end:{line:6,column:60}}}):s)+'" data-lib="'+c(typeof(s=null!=(s=h(n,"symbol")||(null!=t?h(t,"symbol"):t))?s:p)==g?s.call(d,{name:"symbol",hash:{},data:a,loc:{start:{line:6,column:72},end:{line:6,column:82}}}):s)+'" data-locale="'+c(u(null!=r[1]?h(r[1],"locale"):r[1],t))+'" data-lang="'+c(u(null!=r[1]?h(r[1],"vernacularName"):r[1],t))+'"\n                    data-meps-symbol="'+c(u(null!=r[1]?h(r[1],"mepsSymbol"):r[1],t))+'" data-meps-script="'+c(u(null!=r[1]?h(r[1],"mepsScript"):r[1],t))+'" data-dir="'+c(u(null!=r[1]?h(r[1],"direction"):r[1],t))+'"\n                    data-rb="'+(null!=(l=h(n,"if").call(d,null!=t?h(t,"hasRuby"):t,{name:"if",hash:{},fn:e.program(4,a,0,o,r),inverse:e.program(6,a,0,o,r),data:a,loc:{start:{line:8,column:29},end:{line:8,column:64}}}))?l:"")+'"\n                >\n\t\t\t\t\t<ul>\n\t\t\t\t\t\t<li class="language">\n                            <span class="ms-ROMAN ml-E" dir="ltr" data-lang="E" lang="en">\n                                <span>'+(null!=(l=u(null!=r[1]?h(r[1],"englishName"):r[1],t))?l:"")+'</span>\n                            </span>\n                            <span class="ms-ROMAN">&nbsp;-&nbsp;</span>\n                            <span data-class="'+c(u(null!=r[1]?h(r[1],"libLangClasses"):r[1],t))+'" '+(null!=(l=u(null!=r[1]?h(r[1],"libLangAttributes"):r[1],t))?l:"")+">\n                                <span>"+(null!=(l=u(null!=r[1]?h(r[1],"vernacularName"):r[1],t))?l:"")+'</span>\n                            </span>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t<li class="library" dir="'+c(u(null!=r[1]?h(r[1],"direction"):r[1],t))+'">\n\t\t\t\t\t\t\t<span data-class="'+c(u(null!=r[1]?h(r[1],"libLangClasses"):r[1],t))+'" '+(null!=(l=u(null!=r[1]?h(r[1],"libLangAttributes"):r[1],t))?l:"")+">"+(null!=(l=typeof(s=null!=(s=h(n,"title")||(null!=t?h(t,"title"):t))?s:p)==g?s.call(d,{name:"title",hash:{},data:a,loc:{start:{line:21,column:75},end:{line:21,column:86}}}):s)?l:"")+'</span>\n\t\t\t\t\t\t</li>\n                        <li class="libraryBadges">\n                            '+(null!=(l=h(n,"if").call(d,null!=r[1]?h(r[1],"isSignLanguage"):r[1],{name:"if",hash:{},fn:e.program(8,a,0,o,r),inverse:e.noop,data:a,loc:{start:{line:24,column:28},end:{line:24,column:128}}}))?l:"")+"\n                            "+(null!=(l=h(n,"if").call(d,null!=t?h(t,"hasRuby"):t,{name:"if",hash:{},fn:e.program(10,a,0,o,r),inverse:e.noop,data:a,loc:{start:{line:25,column:28},end:{line:25,column:147}}}))?l:"")+"\n                        </li>\n\t\t\t\t\t</ul>\n\t\t\t\t</a>\n"},4:function(e,t,n,i,a){return"yes"},6:function(e,t,n,i,a){return"no"},8:function(e,t,n,i,a){return'<span class="signLanguageLibrary"><span class="icon" ></span></span>'},10:function(e,t,n,i,a,o,r){var l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<span class="rubyLibrary" data-meps-symbol="'+e.escapeExpression(e.lambda(null!=r[1]?l(r[1],"mepsSymbol"):r[1],t))+'"><span class="icon" ></span></span>'},compiler:[8,">= 4.3.0"],main:function(e,t,n,i,a,o,r){var l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(n=l(n,"each").call(null!=t?t:e.nullContext||{},null!=t?l(t,"items"):t,{name:"each",hash:{},fn:e.program(1,a,0,o,r),inverse:e.noop,data:a,loc:{start:{line:1,column:0},end:{line:32,column:9}}}))?n:""},useData:!0,useDepths:!0}),this.Handlebars.templates.Tooltip=Handlebars.template({1:function(e,t,n,i,a,o,r){var l,s,u=null!=t?t:e.nullContext||{},c=e.hooks.helperMissing,d=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'            <li class="tooltipListItem linkCard">\n'+(null!=(l=d(n,"if").call(u,(d(n,"ne")||t&&d(t,"ne")||c).call(u,(d(n,"getValueByPath")||t&&d(t,"getValueByPath")||c).call(u,"items",(d(n,"add")||t&&d(t,"add")||c).call(u,a&&d(a,"index"),-1,{name:"add",hash:{},data:a,blockParams:o,loc:{start:{line:13,column:50},end:{line:13,column:65}}}),"source",{name:"getValueByPath",hash:{},data:a,blockParams:o,loc:{start:{line:13,column:26},end:{line:13,column:75}}}),null!=t?d(t,"source"):t,{name:"ne",hash:{},data:a,blockParams:o,loc:{start:{line:13,column:22},end:{line:13,column:83}}}),{name:"if",hash:{},fn:e.program(2,a,0,o,r),inverse:e.program(4,a,0,o,r),data:a,blockParams:o,loc:{start:{line:13,column:16},end:{line:17,column:23}}}))?l:"")+'                <div class="scalableui">\n'+(null!=(l=d(n,"if").call(u,null!=t?d(t,"substitutes"):t,{name:"if",hash:{},fn:e.program(6,a,0,o,r),inverse:e.noop,data:a,blockParams:o,loc:{start:{line:19,column:20},end:{line:31,column:27}}}))?l:"")+'                    <div class="tooltipContent">\n                        <div class="'+e.escapeExpression("function"==typeof(s=null!=(s=d(n,"articleClasses")||(null!=t?d(t,"articleClasses"):t))?s:c)?s.call(u,{name:"articleClasses",hash:{},data:a,blockParams:o,loc:{start:{line:33,column:36},end:{line:33,column:54}}}):s)+'">\n'+(null!=(l=d(n,"if").call(u,(d(n,"or")||t&&d(t,"or")||c).call(u,null!=t?d(t,"mediaHtml"):t,(d(n,"or")||t&&d(t,"or")||c).call(u,null!=t?d(t,"content"):t,null!=t?d(t,"studyContent"):t,{name:"or",hash:{},data:a,blockParams:o,loc:{start:{line:34,column:48},end:{line:34,column:73}}}),{name:"or",hash:{},data:a,blockParams:o,loc:{start:{line:34,column:34},end:{line:34,column:74}}}),{name:"if",hash:{},fn:e.program(9,a,0,o,r),inverse:e.program(17,a,0,o,r),data:a,blockParams:o,loc:{start:{line:34,column:28},end:{line:60,column:35}}}))?l:"")+"                        </div>\n                    </div>\n\n"+(null!=(l=d(n,"if").call(u,(d(n,"isArray")||t&&d(t,"isArray")||c).call(u,null!=t?d(t,"multimediaItems"):t,{name:"isArray",hash:{},data:a,blockParams:o,loc:{start:{line:64,column:26},end:{line:64,column:51}}}),{name:"if",hash:{},fn:e.program(22,a,0,o,r),inverse:e.noop,data:a,blockParams:o,loc:{start:{line:64,column:20},end:{line:91,column:27}}}))?l:"")+"                </div>\n            </li>\n"},2:function(e,t,n,i,a){var o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(o=e.invokePartial(o(i,"CardHeader"),t,{name:"CardHeader",data:a,indent:"                    ",helpers:n,partials:i,decorators:e.decorators}))?o:""},4:function(e,t,n,i,a){var o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(o=e.invokePartial(o(i,"CardHeader"),t,{name:"CardHeader",hash:{continuedCard:!0},data:a,indent:"                    ",helpers:n,partials:i,decorators:e.decorators}))?o:""},6:function(e,t,n,i,a){var o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'                        <div class="alternatePresentation clickable">\n'+(null!=(n=o(n,"each").call(null!=t?t:e.nullContext||{},null!=t?o(t,"substitutes"):t,{name:"each",hash:{},fn:e.program(7,a,2),inverse:e.noop,data:a,loc:{start:{line:21,column:28},end:{line:29,column:37}}}))?n:"")+"                        </div>\n"},7:function(e,t,n,i,a){var o,r,l=null!=t?t:e.nullContext||{},s=e.hooks.helperMissing,u="function",c=e.escapeExpression,e=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'                                <div class="option clearfix">\n                                    <span class="title">'+(null!=(o=typeof(r=null!=(r=e(n,"title")||(null!=t?e(t,"title"):t))?r:s)==u?r.call(l,{name:"title",hash:{},data:a,loc:{start:{line:23,column:56},end:{line:23,column:67}}}):r)?o:"")+'</span>\n                                    <img src="'+c(typeof(r=null!=(r=e(n,"thumbnailUrl")||(null!=t?e(t,"thumbnailUrl"):t))?r:s)==u?r.call(l,{name:"thumbnailUrl",hash:{},data:a,loc:{start:{line:24,column:46},end:{line:24,column:62}}}):r)+'" class="lightbox hiddenThumbnail"\n                                         data-alt-src="'+c(typeof(r=null!=(r=e(n,"targetUrl")||(null!=t?e(t,"targetUrl"):t))?r:s)==u?r.call(l,{name:"targetUrl",hash:{},data:a,loc:{start:{line:25,column:55},end:{line:25,column:68}}}):r)+'" data-alt-type="'+c(typeof(r=null!=(r=e(n,"targetType")||(null!=t?e(t,"targetType"):t))?r:s)==u?r.call(l,{name:"targetType",hash:{},data:a,loc:{start:{line:25,column:85},end:{line:25,column:99}}}):r)+'"/>\n                                    <span class="altIcon icon-'+c(typeof(r=null!=(r=e(n,"targetType")||(null!=t?e(t,"targetType"):t))?r:s)==u?r.call(l,{name:"targetType",hash:{},data:a,loc:{start:{line:26,column:62},end:{line:26,column:76}}}):r)+'"><span class="icon"></span></span>\n                                    <span class="spinner"></span>\n                                </div>\n'},9:function(e,t,n,i,a,o){var r,l=null!=t?t:e.nullContext||{},s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return(null!=(r=s(n,"if").call(l,(s(n,"isArray")||t&&s(t,"isArray")||e.hooks.helperMissing).call(l,null!=t?s(t,"mediaHtml"):t,{name:"isArray",hash:{},data:a,blockParams:o,loc:{start:{line:35,column:38},end:{line:35,column:57}}}),{name:"if",hash:{},fn:e.program(10,a,0,o),inverse:e.noop,data:a,blockParams:o,loc:{start:{line:35,column:32},end:{line:39,column:39}}}))?r:"")+(null!=(r=s(n,"if").call(l,null!=t?s(t,"content"):t,{name:"if",hash:{},fn:e.program(13,a,0,o),inverse:e.noop,data:a,blockParams:o,loc:{start:{line:40,column:32},end:{line:44,column:39}}}))?r:"")+(null!=(r=s(n,"if").call(l,null!=t?s(t,"studyContent"):t,{name:"if",hash:{},fn:e.program(15,a,0,o),inverse:e.noop,data:a,blockParams:o,loc:{start:{line:45,column:32},end:{line:49,column:39}}}))?r:"")},10:function(e,t,n,i,a,o){var r=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(n=r(n,"each").call(null!=t?t:e.nullContext||{},null!=t?r(t,"mediaHtml"):t,{name:"each",hash:{},fn:e.program(11,a,2,o),inverse:e.noop,data:a,blockParams:o,loc:{start:{line:36,column:36},end:{line:38,column:45}}}))?n:""},11:function(e,t,n,i,a,o){return"                                        "+(null!=(e=e.lambda(o[0][0],t))?e:"")+"\n"},13:function(e,t,n,i,a){var o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'                                    <div class="tooltipText">\n                                        '+(null!=(o="function"==typeof(n=null!=(n=o(n,"content")||(null!=t?o(t,"content"):t))?n:e.hooks.helperMissing)?n.call(null!=t?t:e.nullContext||{},{name:"content",hash:{},data:a,loc:{start:{line:42,column:40},end:{line:42,column:53}}}):n)?o:"")+"\n                                    </div>\n"},15:function(e,t,n,i,a){var o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'                                    <div class="tooltipStudyContent">\n                                        '+(null!=(o="function"==typeof(n=null!=(n=o(n,"studyContent")||(null!=t?o(t,"studyContent"):t))?n:e.hooks.helperMissing)?n.call(null!=t?t:e.nullContext||{},{name:"studyContent",hash:{},data:a,loc:{start:{line:47,column:40},end:{line:47,column:58}}}):n)?o:"")+"\n                                    </div>\n"},17:function(e,t,n,i,a,o,r){var l,s=null!=t?t:e.nullContext||{},u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'                                <p class="contentErrorNotice">\n'+(null!=(l=u(n,"if").call(s,null!=t?u(t,"url"):t,{name:"if",hash:{},fn:e.program(18,a,0,o,r),inverse:e.noop,data:a,loc:{start:{line:52,column:36},end:{line:54,column:43}}}))?l:"")+"                                    "+e.escapeExpression(e.lambda(null!=r[1]?u(r[1],"tooltipContentErrorMessage"):r[1],t))+"\n"+(null!=(l=u(n,"if").call(s,null!=t?u(t,"url"):t,{name:"if",hash:{},fn:e.program(20,a,0,o,r),inverse:e.noop,data:a,loc:{start:{line:56,column:36},end:{line:58,column:43}}}))?l:"")+"                                </p>\n"},18:function(e,t,n,i,a){var o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'                                    <a href="'+e.escapeExpression("function"==typeof(n=null!=(n=o(n,"url")||(null!=t?o(t,"url"):t))?n:e.hooks.helperMissing)?n.call(null!=t?t:e.nullContext||{},{name:"url",hash:{},data:a,loc:{start:{line:53,column:45},end:{line:53,column:52}}}):n)+'">\n'},20:function(e,t,n,i,a){return"                                    </a>\n"},22:function(e,t,n,i,a,o){var r=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'                        <ul class="mediaItems">\n'+(null!=(n=r(n,"each").call(null!=t?t:e.nullContext||{},null!=t?r(t,"multimediaItems"):t,{name:"each",hash:{},fn:e.program(23,a,2,o),inverse:e.noop,data:a,blockParams:o,loc:{start:{line:66,column:28},end:{line:89,column:37}}}))?n:"")+"                        </ul>\n"},23:function(e,t,n,i,a,o){var r=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"                                <li>\n"+(null!=(n=r(n,"if").call(null!=t?t:e.nullContext||{},null!=(n=o[0][0])?r(n,"hasVideo"):n,{name:"if",hash:{},fn:e.program(24,a,0,o),inverse:e.program(26,a,0,o),data:a,blockParams:o,loc:{start:{line:68,column:36},end:{line:87,column:43}}}))?n:"")+"                                </li>\n"},24:function(e,t,n,i,a,o){var r,l=e.lambda,e=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'                                        <div class="mediaTile">\n                                            <a href="'+(null!=(r=l(null!=(r=o[1][0])?e(r,"navigateUrl"):r,t))?r:"")+'">\n                                                <div class="link"><span class="title">'+(null!=(r=l(null!=(r=o[1][0])?e(r,"title"):r,t))?r:"")+'</span><span\n                                                        class="icon"></span></div>\n                                            </a>\n                                            <div class="videoContainer" data-json-src="'+(null!=(r=l(null!=(r=o[1][0])?e(r,"videoJson"):r,t))?r:"")+'"\n                                                 data-img-src="'+(null!=(r=l(null!=(r=o[1][0])?e(r,"videoPosterUrl"):r,t))?r:"")+'"></div>\n                                        </div>\n'},26:function(e,t,n,i,a,o){var r,l=e.lambda,e=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'                                        <a href="'+(null!=(r=l(null!=(r=o[1][0])?e(r,"navigateUrl"):r,t))?r:"")+'">\n                                            <div class="mediaTile">\n                                                <div class="link"><span class="title">'+(null!=(r=l(null!=(r=o[1][0])?e(r,"title"):r,t))?r:"")+'</span><span\n                                                        class="icon"></span></div>\n                                                <img class="responsiveLoadingPlaceholder placeholder-1x1">\n                                                <img src="'+(null!=(r=l(null!=(r=o[1][0])?e(r,"sqsUrl"):r,t))?r:"")+'"\n                                                     class="preview responsiveLoadingImage imageFadeIn">\n                                            </div>\n                                        </a>\n'},compiler:[8,">= 4.3.0"],main:function(e,t,n,i,a,o,r){var l,s=null!=t?t:e.nullContext||{},u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="tooltipHeader">\n    <div class="tooltipType">\n        '+(null!=(l="function"==typeof(l=null!=(l=u(n,"title")||(null!=t?u(t,"title"):t))?l:e.hooks.helperMissing)?l.call(s,{name:"title",hash:{},data:a,blockParams:o,loc:{start:{line:3,column:8},end:{line:3,column:19}}}):l)?l:"")+'\n    </div>\n    <div class="tooltipClose">\n        <div class="closeBtn"><span class="icon"></span></div>\n    </div>\n</div>\n<div class="tooltipListContainer">\n    <ul class="tooltipList">\n'+(null!=(l=u(n,"each").call(s,null!=t?u(t,"items"):t,{name:"each",hash:{},fn:e.program(1,a,2,o,r),inverse:e.noop,data:a,blockParams:o,loc:{start:{line:11,column:8},end:{line:94,column:17}}}))?l:"")+"    </ul>\n</div>"},usePartial:!0,useData:!0,useDepths:!0,useBlockParams:!0}),this.Handlebars.templates.Video=Handlebars.template({1:function(e,t,n,i,a){var o,r=null!=t?t:e.nullContext||{},l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'    <div id="v'+(null!=(o=l(n,"each").call(r,null!=t?l(t,"mediaItems"):t,{name:"each",hash:{},fn:e.program(2,a,0),inverse:e.noop,data:a,loc:{start:{line:4,column:14},end:{line:4,column:62}}}))?o:"")+'" class="tooltipVideo videoPlayerHolder"\n        data-playlist="[\n'+(null!=(o=l(n,"each").call(r,null!=t?l(t,"mediaItems"):t,{name:"each",hash:{},fn:e.program(4,a,0),inverse:e.noop,data:a,loc:{start:{line:6,column:4},end:{line:16,column:13}}}))?o:"")+'    ]"></div>\n'},2:function(e,t,n,i,a){var o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(o="function"==typeof(n=null!=(n=o(n,"mediaPlayerId")||(null!=t?o(t,"mediaPlayerId"):t))?n:e.hooks.helperMissing)?n.call(null!=t?t:e.nullContext||{},{name:"mediaPlayerId",hash:{},data:a,loc:{start:{line:4,column:34},end:{line:4,column:53}}}):n)?o:""},4:function(e,t,n,i,a){var o,r,l=null!=t?t:e.nullContext||{},s=e.hooks.helperMissing,u="function",c=e.escapeExpression,d=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"        {\n        &quot;startTime&quot;:"+(null!=(o=typeof(r=null!=(r=d(n,"mediaStartTime")||(null!=t?d(t,"mediaStartTime"):t))?r:s)==u?r.call(l,{name:"mediaStartTime",hash:{},data:a,loc:{start:{line:8,column:30},end:{line:8,column:50}}}):r)?o:"")+",\n        &quot;duration&quot;:"+(null!=(o=typeof(r=null!=(r=d(n,"mediaDuration")||(null!=t?d(t,"mediaDuration"):t))?r:s)==u?r.call(l,{name:"mediaDuration",hash:{},data:a,loc:{start:{line:9,column:29},end:{line:9,column:48}}}):r)?o:"")+",\n        &quot;jsonSrc&quot;:&quot;"+c(typeof(r=null!=(r=d(n,"mediaSrc")||(null!=t?d(t,"mediaSrc"):t))?r:s)==u?r.call(l,{name:"mediaSrc",hash:{},data:a,loc:{start:{line:10,column:34},end:{line:10,column:46}}}):r)+"&quot;,\n        &quot;imgSrc&quot;:&quot;"+c(typeof(r=null!=(r=d(n,"mediaUrl")||(null!=t?d(t,"mediaUrl"):t))?r:s)==u?r.call(l,{name:"mediaUrl",hash:{},data:a,loc:{start:{line:11,column:33},end:{line:11,column:45}}}):r)+"&quot;\n        }\n"+(null!=(o=d(n,"if").call(l,(d(n,"not")||t&&d(t,"not")||s).call(l,a&&d(a,"last"),{name:"not",hash:{},data:a,loc:{start:{line:13,column:14},end:{line:13,column:25}}}),{name:"if",hash:{},fn:e.program(5,a,0),inverse:e.noop,data:a,loc:{start:{line:13,column:8},end:{line:15,column:15}}}))?o:"")},5:function(e,t,n,i,a){return"        ,\n"},7:function(e,t,n,i,a){var o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'    <p class="noVideoAvailable">'+(null!=(e=e.lambda(null!=(e=null!=t?o(t,"i18n"):t)?o(e,"multimediaNotAvailableForSelection"):e,t))?e:"")+"</p>\n"},compiler:[8,">= 4.3.0"],main:function(e,t,n,i,a){var o,r=null!=t?t:e.nullContext||{},l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<p class="videoErrorNotice hidden">'+(null!=(o=e.lambda(null!=(o=null!=t?l(t,"i18n"):t)?l(o,"multimediaErrorLoadingVideo"):o,t))?o:"")+"</p>\n\n"+(null!=(o=l(n,"if").call(r,(l(n,"isArray")||t&&l(t,"isArray")||e.hooks.helperMissing).call(r,null!=t?l(t,"mediaItems"):t,{name:"isArray",hash:{},data:a,loc:{start:{line:3,column:6},end:{line:3,column:26}}}),{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.program(7,a,0),data:a,loc:{start:{line:3,column:0},end:{line:20,column:7}}}))?o:"")},useData:!0}),!function(i,a){"use strict";function e(){i("#searchRefineForm").trigger("submit")}a.search={setupSearch:function(){var n;"s"===a.getCommand()?(i("#proximitySelector").on("change",function(){i("#searchResultsForm").trigger("submit")}),i("#rankSelector").on("change",function(){i("#searchResultsForm #st").val(wolConstants.QUERY_SEARCH_TRIGGER_ChangeSort),i("#searchResultsForm").trigger("submit")}),i("#menuSearchHitNext").removeClass("hidden").show(),0!==i("#searchRefineForm").length&&i("#searchFilterContainer").find("input[type=checkbox]").on("change",e),Modernizr.sessionstorage&&i("[data-nav-scope-data]").each(function(e,t){var n=(t=i(t)).data("navScopeData");0<t.length&&!0===n.isBibleDocument&&t.closest("a").on("click",function(){return a.web.ajax(n.navScopeDataUrl).done(function(e){sessionStorage.setItem("nav-scope-data",JSON.stringify(e)),a.loadPage(Object.keys(e)[0]||t.closest("a").attr("href"))}),!1})})):"l"===a.getCommand()&&(n=sprintf("&p=%s&r=%s",a.utilities.getSearchProximity(),a.utilities.getSearchRank()),i(".directButton").each(function(e,t){t.href+=n}))},categoryFilterToggleAll:function(e){i("#searchFilterContainer").find("input").each(function(){this.checked=e}),e&&i("#searchRefineForm").trigger("submit")},sanitizeSearchQuery:function(e){return e.replace("","")}}}(jQuery,app),!function(e,t){"use strict";function n(){e("#bibleChapterViewSwitch").closest(".grid, .list").removeClass("list").addClass("grid"),t.storage.setCookie("binavview","grid")}function i(){e("#bibleChapterViewSwitch").closest(".grid, .list").removeClass("grid").addClass("list"),t.storage.setCookie("binavview","list")}function a(){e("#bibleChapterViewSwitch").find(".iconButton").on("click",function(){(e(this).closest(".grid, .list").hasClass("list")?n:i)()}),("list"===t.storage.getCookie("binavview")?i:n)()}t.biblenav={setupBibleNav:function(){t.utilities.setupAsyncPartialPageLoad({filter:'a:not(.chapterNo a, .chapterOutline a)[href*="/binav/"]',pageContentObject:e(".materialNav").parent(),successCallback:function(){a()}}),a()}}}(jQuery,app),!function(i,a){function o(e){var t,n=i("#dailyText");i("#noDailyText").hide(),n.fadeIn("slow"),e&&a.setupTooltip(n),a.documentMenu.positionMenu(),a.getTodayDate()||(e=(e=i("#availableData").val())&&e.split(","),(n=new Date).setDate(n.getDate()-1),t=a.utilities.getDateString(n),i("#footerPrevDay a").attr("href",a.url.makeDailyTextUrl(n)),e&&-1===e.indexOf(t)?(i("#footerPrevDay").addClass("disabled"),i("#footerPrevDay a").removeAttr("href")):(i("#footerPrevDay").removeClass("disabled"),i("#footerPrevDay a").attr("href",a.url.makeDailyTextUrl(n))),(t=new Date).setDate(t.getDate()+1),n=a.utilities.getDateString(t),e&&-1===e.indexOf(n)?(i("#footerNextDay").addClass("disabled"),i("#footerNextDay a").removeAttr("href")):(i("#footerNextDay").removeClass("disabled"),i("#footerNextDay a").attr("href",a.url.makeDailyTextUrl(t))))}a.home={setupDailyText:function(){var e,t,n;0<i("#dailyText").length&&(e=new Date,(t=function(){var e=a.getTodayDate().split("/");if(3===e.length){var t=e[0],n=parseInt(e[1],10)-1,e=e[2],t=new Date(t,n,e);if(!isNaN(t.getTime()))return t}return!1}())&&(e=t),n=a.utilities.getDateString(e)+"T00:00:00.000Z",i(".tabContent[data-date]").each(function(){if(i(this).data("date")===n)return i(this).addClass("active"),o(!1),!1}),0===i(".tabContent.active").length&&(t=a.url.makeDateDataUrl(new Date,0,!0))&&a.web.getJSON(t).done(function(e){var t,e=_.find(e.items,function(e){return 4===e.classification});e&&(t='<a href="'+e.url+'">'+e.publicationTitle+"</a>",e=a.transcribeUreLinks(e.content+t),i("#dailyText .articlePositioner").html(i('<div class="tabContent active"/>').append(e)),i("#availableData").val(""),o(!0))}))}}}(jQuery,app),!function(r,l){function s(t,e){function n(e){t.find("a.selected").removeClass("selected"),e.addClass("selected"),e.scrollIntoView({duration:0,topOffset:r("#regionHeader").height()})}if(13===e){var i=t.find("a.selected:visible");if(i.length?a=i[0]:1===(i=r(".completeList a:visible")).length&&(a=i[0]),a)return l.loadPage(a.href),!1}else{if(27===e)return i=t.find("a.selected").removeClass("selected"),r(".selectionListFilterText").val("").trigger("input"),0===i.length;if(38===e||40===e){var a=t.find("a:visible"),i=a.index(a.filter(".selected"));if(40===e)return-1===i?(n(a.first()),!1):i<a.length-1?(n(a.eq(i+1)),!1):void 0;if(38===e)if(-1===i)n(a.last());else if(0<i)return n(a.eq(i-1)),!1}}}l.libraryInfoList={setupFilterAndMRU:function(e){r("[data-class]").addClass(function(){return r(this).data("class")});for(var t=r(),n=0;n<e.length;n++){var i=r("[data-rsconf="+e[n].rsconf+"][data-lib="+e[n].lib+"]");0<i.length&&(i=i.parent().clone().html(i[0].outerHTML),t=t.add(i[0]))}t=t.wrap('<ul class="librarySelection"/>').parent(),r(".mruList").append(t).removeClass("hidden").show(),r(".selectionListFilter").removeClass("hidden").show();var a=r(".completeList"),o=r(".mruList, .completeList");r(document).on("keydown",function(e){return s(o,e.keyCode)}),r(".selectionListFilterText").on("keydown",function(e){return s(o,e.keyCode)}).on("input",function(){var e,t=r(this).val().toLowerCase();e=r(".mruList"),""===t?e.removeClass("hidden").show():e.hide(),e=t,(t=(t=a).find("> ul")).find("a.selected").removeClass("selected"),""===e?t.find("> li").show():t.find("> li").hide().end().find('> li[role*="row-header"]').show().end().find('> li[data-lang-name*="'+e+'"]').show().end().find("> li").find('> a[data-locale="'+e+'"]').parent().show().end().end().find('> a[data-rsconf="'+e+'"]').parent().show().end().end().find('> a[data-lib="'+e+'"]').parent().show().end().end().find('> a[data-meps-symbol="'+e.toUpperCase()+'"]').parent().show().end().end().find('> a[data-library-type="'+e.toUpperCase()+'"]').parent().show().end().end()}).on("focus",function(){r(this).scrollIntoView({duration:0,topOffset:r("#regionHeader").height()})}).trigger("input").scrollIntoView({duration:0,topOffset:r("#regionHeader").height()}).trigger("focus"),l.iOS&&r(".selectionListFilterText").after(r("<button/>")).end().find("button").css("position","absolute").css("top","-1000px").trigger("focus")},loadList:function(t,n,i){n=r(n),"function"==typeof t&&0!==n.length&&l.web.ajax("/wol/li",{dataType:"json"}).done(function(e){n.html(t(e)),i&&i(e)})}}}(jQuery,app),!function(n,i){"use strict";function a(){n("a[data-rsconf][data-lib]").on("click",function(e){e=n(e.target).closest("a"),e.attr("href"),e=e.data();return i.storage.getCookie("syncrsconf")===e.rsconf&&i.storage.getCookie("synclib")===e.lib&&(i.storage.setCookie("syncrsconf",i.storage.getCookie("rsconf")),i.storage.setCookie("synclib",i.storage.getCookie("lib")),i.storage.setCookie("synclang",i.storage.getCookie("lang")),i.storage.setCookie("synclocale",i.storage.getCookie("locale")),i.storage.setCookie("synclangsym",i.storage.getCookie("ckLang")),i.storage.setCookie("synclangscript",i.storage.getCookie("script")),i.storage.setCookie("syncdir",i.storage.getCookie("dir"))),t(e),!0})}function t(e){i.storage.setCookie("rsconf",(e=e||{}).rsconf||i.getRsConfigSymbol()),i.storage.setCookie("lib",e.lib||i.getLibrarySymbol()),i.storage.setCookie("lang",e.lang||i.getLibraryLanguageName()),i.storage.setCookie("locale",e.locale||i.getUILanguage()),i.storage.setCookie("ckLang",e.mepsSymbol||i.getLibraryLanguageSymbol()),i.storage.setCookie("script",e.mepsScript||i.getLibraryLanguageScript()),i.storage.setCookie("dir",e.dir||i.getLibraryDir()),i.storage.setCookie("title",e.title||i.getLibraryTitle()),i.storage.setCookie("privileged",e.privileged||i.getLibraryIsPrivileged())}i.libraryinfo={setCookiesForLibrary:t,setupLibraryInfo:function(){"li"===i.getCommand()&&(i.auth.isLoggedIn()?i.libraryInfoList.loadList(Handlebars.templates.LibraryInfo,".completeList .librarySelection",function(e){var t=n("#langCountTemplate");0<t.length&&(e=e.items.reduce(function(e,t){return!0===t.isScriptVariant?e:e+1},0),t.html(t.html().replaceToken("TotalLanguages",'<span class="languageCount">'+e+"</span>")).removeClass("hidden"),n("#langCount").hide()),i.libraryInfoList.setupFilterAndMRU(i.getMRULibraries()),a()}):(i.libraryInfoList.setupFilterAndMRU(i.getMRULibraries()),a()))}}}(jQuery,app),!function(i,a){"use strict";var t=i("#audioPlayerContainer").find("input"),n=i("#audioContinuousPlayContainer").find("input"),o=i("#rubyContainer").find("input");function r(e){var t=!e&&a.storage.getCookie("rsconf")||a.getRsConfigSymbol(),e=!e&&a.storage.getCookie("lib")||a.getLibrarySymbol();a.web.getJSON(sprintf("/wol/libraryname/%s/%s",t,e)).done(function(e){e.locale=a.getUILanguage(),e.rsconf=a.getRsConfigSymbol(),e.lib=a.getLibrarySymbol(),e.route="li",i("#primaryLibrary").html(Handlebars.templates.LibraryName(e))})}function l(t){var e=a.storage.getCookie("syncrsconf")||a.storage.getCookie("rsconf")||a.getRsConfigSymbol(),n=a.storage.getCookie("synclib")||a.storage.getCookie("lib")||a.getLibrarySymbol();a.web.getJSON(sprintf("/wol/libraryname/%s/%s",e,n)).done(function(e){e.locale=a.getUILanguage(),e.rsconf=a.getRsConfigSymbol(),e.lib=a.getLibrarySymbol(),e.route="sysl",!t&&a.storage.getCookie("syncrsconf")&&a.storage.getCookie("synclib")||(e.libraryName="-"),i("#syncLibrary").html(Handlebars.templates.LibraryName(e).replace("{locale}",a.getLibraryLocale()).replace("{rsconf}",a.getRsConfigSymbol()).replace("{library}",a.getLibrarySymbol()))})}a.pref={setupPreferences:function(){var e;"pref"===a.getCommand()&&(i(".requireJavaScript").removeClass("requireJavaScript"),e=i(".requireCookies"),a.cookiesEnabled()?e.removeClass("requireCookies"):i("#preferencesNoCookies").removeClass("hidden"),i("#fontSizeLarger").on("click",function(){return a.fontSizeManager.increment()&&a.utilities.updateFontSize(!1),!1}),i("#fontSizeSmaller").on("click",function(){return a.fontSizeManager.decrement()&&a.utilities.updateFontSize(!1),!1}),i("#resetPreferences").on("click",function(e){e.preventDefault(),a.storage.removeCookie("locale"),a.storage.removeCookie("rsconf"),a.storage.removeCookie("lib"),a.storage.removeCookie("lang"),a.storage.removeCookie("ckLang"),a.storage.removeCookie("synclocale"),a.storage.removeCookie("syncrsconf"),a.storage.removeCookie("synclib"),a.storage.removeCookie("synclang"),a.storage.removeCookie("audioPlayer"),a.storage.removeCookie("audioContinuousPlay"),a.storage.removeCookie("preferredVideoResolution"),a.storage.removeCookie("prox"),a.storage.removeCookie("rank"),a.storage.removeCookie("fontScale"),a.storage.removeCookie("rb"),r(!0),l(!0),t.prop("checked",t.val()),n.prop("checked",n.val()),i("input[name=videoRes]").val([a.utilities.getVideoResolution()]),i("input[name=p]").val([a.utilities.getSearchProximity()]),i("input[name=r]").val([a.utilities.getSearchRank()]),a.fontSizeManager.reset(),a.utilities.updateFontSize(!1),o.prop("checked",!1)}),i("#savePreferences").on("click",function(e){e.preventDefault(),t.prop("checked")?a.enableFeature("audioPlayer"):a.disableFeature("audioPlayer"),n.prop("checked")?a.enableFeature("audioContinuousPlay"):a.disableFeature("audioContinuousPlay"),a.utilities.setVideoResolution(i("#videoResolutionSelector").find("[name=videoRes]:checked").attr("value")),a.storage.setCookie("prox",i("#proximitySelector").find("[name=p]:checked").attr("value")),a.storage.setCookie("rank",i("#rankSelector").find("[name=r]:checked").attr("value")),a.utilities.updateFontSize(!0),o.prop("checked")?a.enableFeature("rb"):a.disableFeature("rb");e=URI().query(!0).url;e?a.net.redirectForRuby(e):a.loadPage(i("#savePreferences").data("homeUrl"))}),r(),l(),t.prop("checked",a.audioPlayerVisible),n.prop("checked",a.utilities.audioContinuousPlayEnabled),i("input[name=videoRes]").val([a.utilities.getVideoResolution()]),i("input[name=p]").val([a.utilities.getSearchProximity()]),i("input[name=r]").val([a.utilities.getSearchRank()]),a.utilities.updateFontSize(!1),o.prop("checked",a.isFeatureEnabled("rb")))},updatePreferencesRedirect:function(){var e=i("#menuToolsPreferences a, #contentFooterPreferences a"),t=new URI(e.attr("href"));t.setQuery("url",window.location.pathname),e.attr("href",t.toString())}}}(jQuery,app),!function(e,t){"use strict";t.publicationnav={setupPublicationNav:function(){t.utilities.setupAsyncPartialPageLoad({filter:'[href*="/wol/lv/"], [href*="/wol/publication/"], [href*="/wol/library/"]',pageContentObject:e(".materialNav").parent(),successCallback:function(){t.nwtstg.setupFilter(),t.biblenav.setupBibleNav()}})}}}(jQuery,app),!function(n,i){"use strict";function t(){var e=n("[name=glossaryFilter]:checked").data("filter"),t=n("[data-classification]");(e&&0<e.length?t.hide().filter("[data-classification="+e+"]"):t).show(),i.storage.setCookie("glossaryFilter",e)}i.nwtstg={setupFilter:function(){var e;"nwtstg"===i.getPubSym()&&(e=i.storage.getCookie("glossaryFilter")||"",e=n("<ul/>").attr("id","glossaryFilter").append(n("<span/>").attr("id","glossaryFilterLabel").text(n("#showGlossaryItemsText").val())).append(n("<li/>").append(n("<label/>").append(n('<input type="radio"/>').attr("name","glossaryFilter").data("filter","").on("change",t).prop("checked",""===e)).append(n("<span/>").text(n("#allGlossaryItemsText").val())))).append(n("<li/>").append(n("<label/>").append(n('<input type="radio"/>').attr("name","glossaryFilter").data("filter","154").on("change",t).prop("checked","154"===e)).append(n("<span/>").text(n("#biblicalTermsText").val())))).append(n("<li/>").append(n("<label/>").append(n('<input type="radio">').attr("name","glossaryFilter").data("filter","155").on("change",t).prop("checked","155"===e)).append(n("<span/>").text(n("#nonBiblicalTermsText").val())))),0===n("#glossaryFilter").length&&n(".pageList").after(e),t())}}}(jQuery,app),!function(i){i(".collection_toggle").on("click",function(){i(".collection_container").hide(),("collection-All"===i(this).data("key")?i(".collection_container"):i("#"+i(this).data("key"))).show(),i(".collection_toggle").removeClass("selected"),i(this).addClass("selected")}),i(".font_toggle").on("click",function(){i(".data").attr("class","data "+i(this).data("key")),i(".font_toggle").removeClass("selected"),i(this).addClass("selected"),i("#fontweight").text(i(this).data("key"))}),i("#testFontSelector").on("change",function(){var e=this.files[0],n=new FileReader;n.addEventListener("load",function(){var e=document.getElementById("testFontStyle");for(e?e.parentNode.removeChild(e):(e=document.createElement("style")).setAttribute("id","testFontStyle");e.lastChild;)e.removeChild(e.lastChild);var t='@font-face{font-family:"Test Font";src:url('+n.result+");}";e.type="text/css",e.stylesheet?e.stylesheet.cssText=t:(t=document.createTextNode(t),e.appendChild(t)),i("head").append(e)}),n.readAsDataURL(e)}),i("#fontTestSize").on("change",function(){i("#fontTestText").css("font-size",i(this).val()+"pt")}),i("[name=fontTestDirection]").on("change",function(){i("#fontTestText").css("direction",i(this).val())}),i(".stringsReader").closest("#article").css("max-width","100%")}(jQuery),!function(n,a){"use strict";a.synchronizeselection={setupSynchronizeSelection:function(){function e(){var e,t,i;e=a.getLibrarySymbol(),(t=a.getRsConfigSymbol())!==a.storage.getCookie("syncrsconf")&&e!==a.storage.getCookie("synclib")&&n("a[data-rsconf="+t+"][data-lib="+e+"]").remove(),a.libraryInfoList.setupFilterAndMRU(a.getMRULibraries()),n("a[data-rsconf][data-lib]").on("click",function(e){var e=n(e.target).closest("a").data(),t=URI().query(!0).url,t=/\/wol\/sy[a-z]{2}\//.test(t)?function(e,t){a.storage.trySetCookie(e,t)}:function(e,t){a.storage.setCookie(e,t)};t("syncrsconf",e.rsconf),t("synclib",e.lib),t("synclang",e.lang),t("synclocale",e.locale),t("synclangsym",e.mepsSymbol),t("synclangscript",e.mepsScript),t("syncdir",e.dir),a.storage.trySetCookie("rsconf",a.getRsConfigSymbol()),a.storage.trySetCookie("lib",a.getLibrarySymbol()),a.storage.trySetCookie("lang",a.getLibraryLanguageName()),a.storage.trySetCookie("locale",a.getLibraryLocale()),a.storage.trySetCookie("ckLang",a.getContentLibraryLanguageSymbol()),a.storage.trySetCookie("dir",a.isContentLibraryRTL()?"rtl":"ltr"),a.storage.trySetCookie("script",a.getContentLibraryLanguageScript())}),(i=a.isFeatureEnabled("rb"))&&n("a[data-rsconf][data-lib][data-rb=yes]").each(function(){var e=this.getAttribute("href"),t=this.getAttribute("data-lib"),n=a.net.convertSymbolToFromRb(t,i);this.setAttribute("href",e.replace("/"+t+"/","/"+n+"/"))})}"sysl"===a.getCommand()&&(a.auth.isLoggedIn()?a.libraryInfoList.loadList(Handlebars.templates.SynchronizeSelection,".completeList .librarySelection",e):e())}}}(jQuery,app),!function(a){"use strict";function o(e,t){var e=e.split("-"),n=2<=e.indexOf("rb");return n&&t||(n&&!t?e.splice(e.lastIndexOf("rb"),1):(n||t)&&!n&&t&&e.splice(2,0,"rb")),e.join("-")}function e(e){var t=!1,n=(e=e?(t=!0,URI(e)):URI(),a.isFeatureEnabled("rb")&&a.utilities.rubyAvailable()),i=a.getContentLibrarySymbol(),n=o(i,n);i!==n&&(e=r(e,i,n),t=!0),t&&(e=a.url.simplifyHighlightFragment(e.toString()),a.loadPage(e))}function r(e,t,n){var i=e.path().split("/");return i[i.lastIndexOf(t)]=n,e.path(i.join("/")),e}a.net={doRubyRedirect:function(e,t){var n=a.getContentLibrarySymbol(),t=o(n,t);n!==t&&(e=r(e,n,t),a.loadPage(e))},redirectForRuby:e,redirectRubyHome:function(){"h"===a.getCommand()&&a.isFeatureSet("rb")&&e()},convertSymbolToFromRb:o}}((jQuery,app)),!function(i,a){"use strict";function o(){var e=i(this).parents(".banner").addBack(".banner"),t=e.find(".bannerDismissible");t.data("saveDismiss")&&(t=t.data("dismissId"),a.enableFeature(t)),e.remove()}a.banner={setupBanner:function(){var e=i("#banner");e.on("click",".bannerDismissible .icon",o),e.find(".banner").each(function(e,t){var n;n=(t=i(t=t)).find(".bannerDismissible").data("dismissId"),a.isFeatureEnabled(n)?o.call(t):t.removeClass("bannerHidden")})}}}(jQuery,app),!function(n,i){"use strict";function a(e,t){return n.ajax(e,t||{}).fail(function(e){401===e.status&&i.auth.showModalRefreshDialog()})}i.web={ajax:a,cachedScript:function(e,t){return a(e,t=n.extend(t||{},{dataType:"script",cache:!0}))},getJSON:function(e,t){return a(e,t=n.extend(t||{},{dataType:"json"}))},getNoSessionDialogJSON:function(e,t){return n.getJSON(e,t||{})},SESSION_EXPIRED_CODE:401}}(jQuery,app),"object"!=typeof app&&(app={}),!function(t){"use strict";t.pendingCommands={setupPendingCommandsHandler:function(){var e;"showModalLoginDialog"===sessionStorage.getItem("pendingCommand")&&(e=t.auth.showModalLoginDialog,sessionStorage.removeItem("pendingCommand"),e())},setPendingCommand:function(e){sessionStorage.setItem("pendingCommand",e)}}}(app),!function(p,g){"use strict";function h(){return"yes"===g.storage.getCookie("hasJwt")}function e(){var e,t,n,i,a,o,r,l=p("#footerLogin"),s=p("#headerLogin"),u=p("#headerRefresh"),c=p("#headerLogout"),d=p("#userStatus");g.storage.getCookie("hasUser")||h()?(d.removeClass("hidden").show(),h()?(p(".userName").text(function(){var e=JSON.parse(g.storage.getCookie("id")||"{}");if(null!=e.name&&g.validator.containsNoTags(e.name))return e.name}()),s.hide(),c.removeClass("hidden").show(),u.removeClass("hidden").show(),l.hide(),e=g.storage.getCookie("locale"),t=g.storage.getCookie("rsconf"),n=g.storage.getCookie("lib"),i=g.storage.getCookie("privileged"),a=g.storage.getCookie("ckLang"),null!=e&&null!=t&&null!=n&&"true"===i&&(i=g.getRsConfigSymbol(),o=g.getLibrarySymbol(),r=g.getLibraryLanguageSymbol(),i!==t&&o!==n&&r===a&&(i=URI("").path(sprintf("/%s/wol/h/%s/%s",e,t,n)),g.storage.getCookie("title")&&(o=p("#returnToLibrary").val(),r=p("<a />").attr("href",i).attr("dir",g.storage.getCookie("dir")).addClass("meps-symbol-"+g.storage.getCookie("ckLang")).addClass("ms-"+g.storage.getCookie("script")).attr("lang",g.storage.getCookie("locale")).data("lang",g.storage.getCookie("ckLang")).text(g.storage.getCookie("title")),a=o.replaceToken(wolConstants.TOKENS_LibraryName,r[0].outerHTML),p("#cookieLibrary").append(a),p(".hasUserStatus").addClass("hasReturnTo"))))):(s.removeClass("hidden").show(),u.hide(),c.hide(),l.hide())):(p(".hasUserStatus").removeClass("hasUserStatus"),d.hide(),s.hide(),u.hide(),c.hide(),l.removeClass("hidden").show())}function n(){g.auth.loginState&&!h()&&g.auth.showModalRefreshDialog(),g.auth.loginState=h()}g.auth={isLoggedIn:h,getUsersEmail:function(){var e=JSON.parse(g.storage.getCookie("id")||"{}");if(null!=e.email&&g.validator.containsNoTags(e.email))return e.email},getPersistId:function(){var e=JSON.parse(g.storage.getCookie("id")||"{}");return null!=e.persist&&!!e.persist},togglePersistId:function(e){var t=JSON.parse(g.storage.getCookie("id")||"{}");t.persist=e||!t.persist,g.storage.setCookie("id",JSON.stringify(t))},showModalLoginDialog:function(){g.modal.showModal("/wol/loginform",!1,!0)},showModalRefreshDialog:function(){g.modal.showModal("/wol/refresh",!0)},setupAuth:function(){var t;e(),(t=p(".authMenu")).on("click",function(){var e=t.find(".authMenuOptions");parseInt(e.css("left"),10)?e.css("left","auto"):e.css("left","-9999px")}),p("#userStatusLabel").on("click",function(){var e;return h()&&(g.storage.setCookie("hasUser","yes"),(e=p("#userControls")).hasClass("hidden")?e.removeClass("hidden").show():e.toggle(0,function(){return!1})),!1}),p(window).on("click",function(e){p(e.target).parents(".currentUser").length||p("#userControls").hide()}),p(".userLoginLink").on("click",function(){return g.auth.showModalLoginDialog(),!1}),p(".userRefreshLink").on("click",function(){return g.user.login(!0),!1}),p(".userLogoutLink").on("click",function(){return g.user.logout(),!1}),void 0===g.auth.loginState&&(g.auth.loginState=h(),window.addEventListener("focus",n)),!g.getLibraryIsPrivileged()||null!=g.storage.getCookie("rsconf")&&null!=g.storage.getCookie("lib")||g.libraryinfo.setCookiesForLibrary()}}}(jQuery,app),"object"!=typeof app&&(app={}),!function(){"use strict";app.user={login:function(e,t){var n="/auth/login";e&&(e=window.location.href.replace(window.location.origin,""),n+="?url="+encodeURIComponent(e)),t&&(n+="&username="+t),window.location=n},logout:function(){window.location="/auth/logout"}}}(),!function(o,r){"use strict";var l;function t(){return!!r.getShareBaseUrl()}function n(){var e=s();return(r.iOS||r.iPadOS||r.Android)&&window.navigator&&window.navigator.share?window.navigator.share(e).catch(function(){}):(o("#shareForm img.sharePublicationImage").attr("src",r.getContentThumbnailUrl()),o("#shareForm input.shareLink").val(e.url),o("#shareForm .shareContentTitle").html(e.contentTitle),""!==e.parentTitle?(o("#shareForm .shareContentParentTitle").html(e.parentTitle),o("#shareForm .shareContentParentTitle").show()):o("#shareForm .shareContentParentTitle").hide(),r.modal.showForm(o("#shareForm"),!1,!0)),!1}function s(){var e=r.getContentTitle(),t=(u()&&r.url.getVerseRangeFromUrl().startChapter&&l.value&&(e=l.value),r.utilities.stripHtml(e)),n=r.getContentParentTitle(),i=r.getContentThumbnailUrl();return{url:function(){var e=r.getShareBaseUrl(),t=0===e.indexOf("https://");t||(e="https://"+window.location.hostname+"/wol/finder"+e);e=new URI(e);u()?(t?function(e){var t=r.url.getVerseRangeFromUrl();{var n,i;t.startChapter&&(n=t.startBook+r.utilities.leftPad(t.startChapter,3),i=0<t.startVerse?t.startVerse:0,n+=r.utilities.leftPad(i,3),t.startChapter===t.endChapter&&t.startVerse===t.endVerse||(i=t.startBook+r.utilities.leftPad(t.endChapter,3),t=0<t.endVerse?t.endVerse:0,n+="-"+i+r.utilities.leftPad(t,3)),e.setQuery(wolConstants.QUERY_Bible,n))}}:function(e){var t=r.url.getVerseRangeFromUrl();t.startChapter&&e.setQuery(wolConstants.QUERY_BibleChapter,t.startChapter);-1!==t.startVerse&&e.setQuery(wolConstants.QUERY_BibleVerse,t.startVerse);t.startChapter!==t.endChapter?(e.setQuery(wolConstants.QUERY_EndBibleChapter,t.endChapter),e.setQuery(wolConstants.QUERY_EndBibleVerse,t.endVerse)):t.startVerse!==t.endVerse&&e.setQuery(wolConstants.QUERY_EndBibleVerse,t.endVerse)})(e):a()?(t?function(e){var t=r.url.getParagraphRangeFromUrl();{var n;t&&(n=t.stPar,t.edPar>t.stPar&&(n=n+"-"+t.edPar),e.setQuery(wolConstants.QUERY_Par,n))}}:function(e){var t=r.url.getParagraphRangeFromUrl();t&&(e.setQuery(wolConstants.QUERY_Paragraph,t.stPar),t.stPar!==t.edPar&&e.setQuery(wolConstants.QUERY_EndParagraph,t.edPar))})(e):r.getShareType()===wolConstants.SHARETYPE_DailyText&&function(e){{var t;r.getTodayDate()||(t=r.utilities.getDateString(new Date),e.setQuery(wolConstants.QUERY_Date,t))}}(e);return e.toString()}(),text:t,title:t,contentTitle:e,thumbnailUrl:i,parentTitle:n}}function u(){return r.getShareType()===wolConstants.SHARETYPE_Bible}function a(){return r.getShareType()===wolConstants.SHARETYPE_Document}r.share={canSharePage:t,getShareCaption:function(e){var t=s(),n=t.contentTitle,i=r.highlightManager.getHighlightedElements(),a=(a=r.utilities.rubyVisible())?function(e){return o(e).html()}:function(e){return o(e).text()},a=(i=(i=o.map(i,a).map(function(e){return e.trim()+"<br>\n"}).join("")).replace(/[+*\u200B]/g,""),t.url.replace(/&/g,"&amp;")),a=(i+='<a href="'+a+'">'+a+"</a>",l.value);u()?(a=a||n,e(i=(r.isLibraryRTL()?"":"")+"("+a+") "+i)):e(i="*** "+((a=a||t.parentTitle)?a+" "+n:n)+" ***<br>\n"+i)},openShareDialog:n,sendEmail:function(){var e=s(),t=encodeURIComponent(e.title),e=encodeURIComponent(e.title+"\r\n\r\n"+e.url);window.location.href="mailto:?subject="+t+"&body="+e},setupShare:function(){var e=o("#shareButton, #shareButtonFooter");e.off("click"),t()?(e.on("click",n),e.removeClass("hidden")):e.addClass("hidden"),l||((l=document.createElement("input")).id="citationTitle",l.type="hidden",l.value="",document.body.appendChild(l))},updateCitationTitle:function(){var t,e,n;l.value="",(u()||a())&&0<r.highlightManager.getHighlightedElements().length&&(t=function(e){l.value=e},e=r.highlightManager.getHighlightedElements(),n=r.utilities.rubyVisible(),(e=r.utilities.getFirstActionableIdInScope(!1,e))&&"v"===e.charAt(0)?r.api.getBibleCitationTitle(n,function(e){t(e)}):r.api.getDocumentCitationTitle(n,function(e){t(e)}))}}}(jQuery,app),!function(r){"use strict";r.api={getBibleCitationTitle:function(e,t){var n,i,a,o=r.url.getVerseRangeFromUrl();o.startChapter?(o=o,e=e,n=r.getContentRsConfigSymbol(),i=r.getContentLibrarySymbol(),a=r.getPubSym(),n="/wol/api/v1/citation/"+n+"/"+i+"/bible/",n+=[o.startBook,o.startChapter,o.startVerse,o.endBook,o.endChapter,o.endVerse].join("/"),(i=new URI(n)).setQuery("pub",a),e&&i.setQuery("snip",e),r.web.ajax(i.toString()).done(function(e){t(e.citation)}).fail(function(){t("")})):t("")},getDocumentCitationTitle:function(e,t){var n,i,a=r.url.getParagraphRangeFromUrl();a=a,e=e,n="/wol/api/v1/citation/"+r.getContentRsConfigSymbol()+"/"+r.getContentLibrarySymbol()+"/publication/",i=[r.getDID()],a&&i.push(a.stPar,a.edPar),n+=i.join("/"),a=new URI(n),e&&a.setQuery("snip",e),r.web.ajax(a.toString()).done(function(e){t(e.citation)}).fail(function(){t("")})}}}((jQuery,app)),!function(i,a){"use strict";function n(){var e=r(),e={endpoint:a.getInsightApiUrl(),system:"wol",contextID:e,contextLanguageID:a.getLibraryLanguageSymbol()};return e.contextParams={pathCommand:a.getCommand(),rsconf:a.getRsConfigSymbol(),lib:a.getLibrarySymbol()},s()&&(e.contextParams.toRsconf=a.getContentRsConfigSymbol(),e.contextParams.toLib=a.getContentLibrarySymbol()),e}function o(e,t){t.query=e.q,void 0!==e.fc&&0<e.fc.length?(t.filter="byType",t.types=e.fc):t.filter="all",t.trigger=function(e){switch(e){case wolConstants.QUERY_SEARCH_TRIGGER_FieldSubmit:return"fieldSubmit";case wolConstants.QUERY_SEARCH_TRIGGER_ButtonSubmit:return"buttonSubmit";case wolConstants.QUERY_SEARCH_TRIGGER_NavWithoutLink:return"navigationWithoutLink";case wolConstants.QUERY_SEARCH_TRIGGER_ChangeFilter:return"changeFilter";case wolConstants.QUERY_SEARCH_TRIGGER_ChangeSort:return"changeSort";case wolConstants.QUERY_SEARCH_TRIGGER_PaginationLink:return"paginationLink";default:return"navigationWithLink"}}(e.st),t.filterSelectedBeforeSearch=!1,t.scope=function(e){switch(e){case"sen":return"sentence";case"doc":return"document";default:return"paragraph"}}(e.p);var n=e.r;t.sort="occ"===n?"rel":n,t.page=Number(e.pg||1)}function r(){if(a.getBookNumber()&&a.getChapterNumber())return"bc-"+(a.getBookNumber()+a.utilities.leftPad(a.getChapterNumber(),3))+"_"+a.getPubSym();if(a.getDID())return"pa-"+a.getDID();if(a.getIssueDate()&&a.getIssueSymbol())return"pi-"+a.getIssueSymbol()+"_"+a.getIssueDate();if("gallery"===a.getCommand()&&a.getPubSym())return t="bible:"+a.getPubSym()+":media",(e=a.getBookNumber())&&(t+=":"+e),t;if(a.utilities.isBibleNav()){var e=a.getBookNumber(),t=a.getPubSym();if(e)return"bb-"+e+"_"+t;if(a.utilities.isDefaultBible())return"wol:biblenav";if(t)return"pub-"+a.getPubSym()}else{if(a.getPubSym())return"pub-"+a.getPubSym();if(a.getTodayWeek())return"dated-material:"+new Date(a.getTodayDate()).toISOString().substring(0,10)+":meetings";if(a.getTodayDate())return"dated-material:"+new Date(a.getTodayDate()).toISOString().substring(0,10)+":daily-text";if("h"===a.getCommand())return"wol:home";if("pref"===a.getCommand())return"wol:settings";if("li"===a.getCommand())return"wol:library-select";if("bibles"===a.getCommand())return"wol:biblesel";if("s"===a.getCommand())return"wol:search"}return null}function l(e){switch(e){case wolConstants.QUERY_SEARCH_TRIGGER_ChangeFilter:case wolConstants.QUERY_SEARCH_TRIGGER_ChangeSort:case wolConstants.QUERY_SEARCH_TRIGGER_PaginationLink:return"refineSearch";default:return"search"}}function s(){switch(a.getCommand()){case"bsync":case"dsync":case"dtsync":case"msync":return 1;default:return}}a.components={setupClientComponents:function(){var t,e;window.ClientComponents&&(e=new(t=window.ClientComponents).ConfigBuilder,a.getInsightApiUrl()&&r()&&(e.setInsightConfigProvider(n),e.enableInsightEvents(),e.setCanAccessCookieDataType(e=>a.cookieManager.canPersistType(e))),(e=e.getConfiguration()).components.Root=!0,e.components.FlipbookGallery=!0,t.configure(e),t.vendor.$(document).ready(function(){t.initialize(t.vendor.$("body"));var e=t.insight.makeEvent(function(){if(s())return"contentLanguageChange";return"s"!==a.getCommand()?"pageLoad":l(i("#searchTrigger").val())}());e.addParams(function(){var e={};s()&&(e={from:a.getLibraryLanguageSymbol(),to:a.getContentLibraryLanguageSymbol()});{var t,n;a.isSearchResultsPage()&&(t={q:URI().query(!0).q,p:i("#proximitySelector").find("[name=p]").val(),r:i("#rankSelector").find("[name=r]").val(),st:i("#searchTrigger").val(),pg:Number(i("#searchResultsPageNumber").val())},a.isSubsetSelectedSearchCategories()&&(t.fc=a.getSelectedSearchCategories()),o(t,e),e.offset=Number(i("#searchResultsOffset").val()),e.total={value:Number(i("#searchResultsTotal").val()),relation:"eq"},""!==document.referrer&&(t=new URI(document.referrer).query(!0),e.previousSearch={},e.previousSearch.event=l(t.st),n=Number(t.pg||1),e.previousSearch.offset=Number(i("#searchResultsPageSize").val())*Number(n-1),o(t,e.previousSearch)))}return e}()),e.send()}))}}}(jQuery,app),$(function(){"use strict";app.utilities.multiSegmentSelectionEnabled()&&(app.highlightManager=new wolLib.MultiSegmentHighlightManager(app)),app.net.redirectRubyHome(),app.banner.setupBanner(),app.home.setupDailyText(),app.pref.setupPreferences(),app.libraryinfo.setupLibraryInfo(),app.synchronizeselection.setupSynchronizeSelection(),app.images.placeholders(),app.auth.setupAuth(),app.images.setupImages(),app.utilities.isGalleryNav()&&app.gallery.initGallery(),app.gallery.setupGalleryMediaReload(),app.gallery.setGalleryItemChapterNumberFromUrl(window.location.href),app.gallery.initGalleryItem(!1,!0),app.scrollHandler.activateSubheadingTracking(),$("#audioMultiselect").val()&&$("#regionMain").on("pointerup.selectedtext",function(){var e=app.utilities.getSelectedText();e&&!e.collapsed&&0<e.toString().length?$(document).trigger("textselected"):$(document).trigger("textunselected")}),app.layout.setupSyncLinks(),app.layout.setupNextSearchHitButton(),app.menu.setupMenu(),app.documentMenu.makeDocumentMenu(),app.layout.applyFontSize(),app.studyPane.processStudyUrlFragment(),app.layout.applyStudyPaneCollapse(),app.layout.setupSecondaryNav(),app.layout.displaySyncState(),app.layout.setupScrollHandler(),app.layout.setupResizeHandler(),app.layout.setupKeymapping(),app.layout.setupCSSAnimationHandler(),app.layout.setupFootnotesAndEndnotes(),app.video.setupVideoPlaceHolder(),app.bibleAudioCheck.checkBibleAudio(),app.layout.contentPositionAdjuster(),app.documentMenu.positionMenu(),$(".searchControlContainer input[name=p]").val([app.utilities.getSearchProximity()]),$(".searchControlContainer input[name=r]").val([app.utilities.getSearchRank()]);var e=$(".blessPanel #libGeneratedDate");function t(){app.cookieManager.init(app.getLibraryLanguageSymbol()),$("#privacySettingsButton").removeClass("hidden").on("click",function(){return app.cookieManager.showSettings(),!1}),app.components.setupClientComponents(),app.layout.setupStudyPaneCollapse(),app.layout.setupSecondaryNavToggle(),setTimeout(function(){app.layout.sideBarSizing()},0),app.studyPane.processSelectUrlFragment(),app.images.setupLightboxItems(),$(".alternatePresentation").on("click",this,function(){return app.images.showAltPresentationLightbox(this)}),app.images.hasLightbox()&&$(".article img").not(".noLightbox, .suppressZoom, .gen-flipbook, a > img:not(.lightbox)").on("click",this,function(){return!app.images.callLightbox(this)}).css("cursor","pointer"),app.jumpHighlight.initialJump(),app.share.updateCitationTitle(),app.scrollHandler.addBottomPadding($("#subheadings").find("a").last()),app.pendingCommands.setupPendingCommandsHandler(),app.modal.setupModals(),app.utilities.isSignLanguage()?app.video.setupSharedPlayer():app.media.audioNavigationSetup(),app.media.initMedia(),app.video.setupEmbeddedVideoPlayer($("#article")),$("textarea,#article.document input").prop("disabled",!0)}0<e.length&&(e=e.data("seconds"),24<(Date.now()-1e3*e)/1e3/60/60&&$(".blessPanel .blessStatusApprovalDataWarning").removeClass("hidden")),app.studyPane.init(),app.tabs.wireTabs($(".tabItem")),e=app.isBibleDocument()?"[id^=v]":"[id^=p]",$(".article:not(.contentOnly, .search)").find(e).on("click",function(e){var t;0<$(e.target).closest("a, input, img, label, textarea").length||0<$(e.target).find("input,textarea").length||((t=app.utilities.getSelectedText())&&!t.collapsed&&0<t.toString().length||(t=$(e.currentTarget).data("pid")||e.currentTarget.id,app.highlightManager.enabled&&(app.highlightManager.toggleHighlight(t),app.url.matchUrlToHighlight(),app.share.updateCitationTitle())))}),app.highlightManager.setupHighlightDismiss(),$(window).on("hashchange",function(e){app.jumpHighlight.internalLinkHandler(e),app.url.setFragmentToPropagate()}),$("#article").hasClass("document")?$("#secondaryNavContent").find(".documentNavigation a").on("click",function(e){return app.layout.toggleNavigation(),app.jumpHighlight.hashJump(e),!1}):$("#secondaryNavContent .verseItem, #secondaryNavContent .documentNavigation a").on("click",function(e){var t;return app.layout.toggleNavigation(),app.highlightManager.removeHighlight(!0),app.utilities.isContentLibraryHTML5()?app.highlightManager.highlight($(this).attr("href"),function(){app.jumpHighlight.hashJump(e)}):(t=app.getVerseNumberFromIDAttribute($(this).attr("href")),app.highlightManager.highlightBibleVerseAsync(t,function(){app.jumpHighlight.hashJump(e)})),!1}),document.addEventListener?document.addEventListener("click",function(e){app.lastClickEvent=e},!0):document.attachEvent&&document.attachEvent("onclick",function(e){app.lastClickEvent=e}),$("html, body").on("wheel touchmove",function(){return $("html, body").stop(!0,!1),!0}),$(document).on("texthighlighted",function(e){0===$("#playerplaylist").filter(":visible").length&&(app.contextMenu.drawMenu(e),$(document).one("jumptoend",function(){app.contextMenu.drawMenu(e)}))}),$(document).on("textunhighlighted",function(){app.contextMenu.removeContextMenu(!0,!0)}),app.highlightManager.highlightUrlFragment(),app.url.setFragmentToPropagate(),app.url.disableDisabledNextPrevButtons(),app.utilities.isContentLibraryHTML5()&&$(document).on("texthighlighted textunhighlighted",function(){app.url.matchUrlToHighlight()}),app.gallery.setupCitationsWithMedia(),Handlebars.partials=Handlebars.templates,app.setupTooltip($(".article:not(.bible)")),app.setupTooltip($("#study")),app.layout.setupLibraryColor(),app.search.setupSearch(),app.text.setupText(),app.utilities.externalizeLinks(),app.nwtstg.setupFilter(),app.biblenav.setupBibleNav(),app.publicationnav.setupPublicationNav(),app.share.setupShare(),"complete"===document.readyState?t():$(window).on("load",t)});